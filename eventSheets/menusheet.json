{
	"name": "MenuSheet",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Scrolling"
		},
		{
			"eventType": "include",
			"includeSheet": "AllEvents"
		},
		{
			"eventType": "variable",
			"name": "MenuState",
			"type": "string",
			"initialValue": "Default",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 117088745873456
		},
		{
			"eventType": "variable",
			"name": "MENU_DEFAULT",
			"type": "string",
			"initialValue": "Default",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 487520058084010
		},
		{
			"eventType": "variable",
			"name": "MENU_PROMPT",
			"type": "string",
			"initialValue": "Prompt",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 393311558931739
		},
		{
			"eventType": "variable",
			"name": "ChosenCar",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 629049993021322
		},
		{
			"eventType": "variable",
			"name": "Coins",
			"type": "number",
			"initialValue": "100",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 640203807504181
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-loader-layout-complete",
					"objectClass": "System",
					"sid": 883672588364709
				}
			],
			"actions": [
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 285041981596684,
					"parameters": {
						"tag": "\"flags\"",
						"file": "Flags_defaults.json"
					}
				},
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 708129663027651,
					"parameters": {
						"tag": "\"tiles\"",
						"file": "Tiles_to_conditions.json"
					}
				},
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 218943792359867,
					"parameters": {
						"tag": "\"ownership\"",
						"file": "Ownership_default.json"
					}
				},
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 702395310462474,
					"parameters": {
						"tag": "\"cars\"",
						"file": "Car_data.json"
					}
				},
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 406001985201263,
					"parameters": {
						"tag": "\"keyboard_tap\"",
						"file": "Keyboard_mapping_tap.json"
					}
				},
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 150471387998464,
					"parameters": {
						"tag": "\"keyboard_hold\"",
						"file": "Keyboard_mapping_hold.json"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 387798297637498,
					"parameters": {
						"name": "\"onclick\"",
						"string": "\"BuyCar\"",
						"function": "BuyCar"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 659238371984059,
					"parameters": {
						"name": "\"onclick\"",
						"string": "\"PickCar\"",
						"function": "PickCar"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 852308517848030,
					"parameters": {
						"name": "\"onclick\"",
						"string": "\"UpgradeCar\"",
						"function": "UpgradeCar"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 174482786743215,
					"parameters": {
						"name": "\"onclick\"",
						"string": "\"BuyJumps\"",
						"function": "BuyJumps"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 844154707032580,
					"parameters": {
						"name": "\"onclick\"",
						"string": "\"BuyRockets\"",
						"function": "BuyRockets"
					}
				},
				{
					"id": "map-function-default",
					"objectClass": "Functions",
					"sid": 817279132267001,
					"parameters": {
						"name": "\"onclick\"",
						"function": "Empty"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 178635537864457,
					"parameters": {
						"name": "\"onclick\"",
						"string": "\"ShowLayer\"",
						"function": "ShowLayer"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 125536227177825,
					"parameters": {
						"name": "\"onclick\"",
						"string": "\"ShowPopup\"",
						"function": "ShowPopup"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 457990139345621,
					"parameters": {
						"name": "\"onclick\"",
						"string": "\"OpenMap\"",
						"function": "OpenMap"
					}
				}
			],
			"sid": 372646819559251
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 451975059179829
				}
			],
			"actions": [
				{
					"callFunction": "CoinsChanged",
					"sid": 908075644430505
				},
				{
					"type": "comment",
					"text": "Make sure player sees title screen"
				},
				{
					"callFunction": "ShowLayer",
					"sid": 876562501315723,
					"parameters": [
						"\"Title\""
					]
				},
				{
					"type": "comment",
					"text": "Change text color where we cannot do so before startup"
				},
				{
					"id": "set-css-style",
					"objectClass": "dev_flags",
					"sid": 256870402143535,
					"parameters": {
						"property-name": "\"color\"",
						"value": "\"white\""
					}
				}
			],
			"sid": 939153019443281
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "MainButtons",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 478540788502255,
							"parameters": {
								"object": "close_popup"
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 406137676789784,
							"parameters": {
								"layer": "close_popup.LayerName",
								"interactive": false
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 373531882357551,
							"parameters": {
								"layer": "close_popup.LayerName",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 484084743482906,
							"parameters": {
								"layer": "close_popup.Overlapping",
								"interactive": true
							}
						}
					],
					"sid": 757583519444282
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 189009715053374,
							"parameters": {
								"object": "garage_buy"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "garage_buy",
							"sid": 108953980155678
						},
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 930446532912627,
							"parameters": {
								"object": "garage_car_choice",
								"instance": "0"
							}
						}
					],
					"actions": [],
					"sid": 639736717427287,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "garage_buy",
									"sid": 366443095359121,
									"parameters": {
										"instance-variable": "State",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 420631175454667,
									"parameters": {
										"object-to-create": "prompt_back",
										"layer": "\"Garage\"",
										"x": "360",
										"y": "640",
										"create-hierarchy": true,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "prompt_back",
									"sid": 989241886751416,
									"parameters": {
										"instance-variable": "function_to_call",
										"value": "\"BuyCar\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "prompt_back",
									"sid": 126087999373017,
									"parameters": {
										"instance-variable": "param1",
										"value": "garage_car_choice.shownID"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 353206134561881,
									"parameters": {
										"variable": "MenuState",
										"value": "MENU_PROMPT"
									}
								}
							],
							"sid": 190396435071181,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-last-created",
											"objectClass": "System",
											"sid": 416498730624069,
											"parameters": {
												"object": "prompt_message"
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "prompt_message",
											"sid": 876138153600603,
											"parameters": {
												"text": "\"Купить машину \"\"\"&garage_car_name.Text&\"\"\"?\"&newline&\"Стоимость: \"&CarChars.At(0, 3, garage_car_choice.shownID)"
											}
										}
									],
									"sid": 183920079534498
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "garage_buy",
									"sid": 527434530231353,
									"parameters": {
										"instance-variable": "State",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 402481737744152,
									"parameters": {
										"variable": "ChosenCar",
										"value": "garage_car_choice.shownID"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "garage_buy",
									"sid": 892403000707736,
									"parameters": {
										"instance-variable": "State",
										"value": "2"
									}
								},
								{
									"id": "set-text",
									"objectClass": "garage_car_price",
									"sid": 172858767517329,
									"parameters": {
										"text": "\"Выбрано\""
									}
								}
							],
							"sid": 135153142571823
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 977349041828157,
							"parameters": {
								"object": "garage_switch"
							}
						}
					],
					"actions": [],
					"sid": 913930533729817,
					"children": [
						{
							"eventType": "variable",
							"name": "index",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 977410851042492
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 449163617100936
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 164920201690465,
									"parameters": {
										"variable": "index",
										"value": "(garage_car_choice.shownID + garage_switch.direction + CarChars.Depth) % CarChars.Depth"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "garage_car_choice",
									"sid": 344106142111643,
									"parameters": {
										"instance-variable": "shownID",
										"value": "index"
									}
								},
								{
									"callFunction": "ShowCar",
									"sid": 537665162116620,
									"parameters": [
										"index"
									]
								}
							],
							"sid": 400785495272710
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 949015847621496,
							"parameters": {
								"object": "PlayLvlBut"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 998242895287433,
							"parameters": {
								"variable": "game_mode",
								"value": "PlayLvlBut.SelectedMode"
							}
						},
						{
							"id": "go-to-layout-by-name",
							"objectClass": "System",
							"sid": 777466167519650,
							"parameters": {
								"layout": "\"Loaded_lvl\""
							}
						}
					],
					"sid": 830283524682247,
					"disabled": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "PlayLvlBut",
									"sid": 877320800637059,
									"parameters": {
										"instance-variable": "SelectedLvl",
										"comparison": 0,
										"value": "\"ParkingLot\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "PlayLvlBut",
									"sid": 930908537039897,
									"parameters": {
										"instance-variable": "SelectedMode",
										"comparison": 0,
										"value": "\"Race\""
									}
								}
							],
							"actions": [
								{
									"id": "alert",
									"objectClass": "Browser",
									"sid": 731596195287617,
									"parameters": {
										"message": "\"Режим \"\"Схватка\"\" еще не готов.\""
									}
								}
							],
							"sid": 125798044822733
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 915149665408207,
									"disabled": true
								}
							],
							"actions": [],
							"sid": 817208911599011,
							"disabled": true
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-touched-object",
							"objectClass": "Touch",
							"sid": 931501140125257,
							"parameters": {
								"object": "LvlBut"
							}
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 432705271356984,
							"parameters": {
								"layer": "LvlBut.LayerName"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "mmtext",
							"sid": 988596115323543,
							"parameters": {
								"unique-id": "506"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "PlayLvlBut",
							"sid": 793953792066904,
							"parameters": {
								"instance-variable": "SelectedLvl",
								"value": "LvlBut.SendToLvl"
							}
						},
						{
							"id": "set-text",
							"objectClass": "mmtext",
							"sid": 947154661667405,
							"parameters": {
								"text": "\"LVL: \"&PlayLvlBut.SelectedLvl&newline&\n\"MODE: \"&PlayLvlBut.SelectedMode"
							}
						}
					],
					"sid": 105557048729463
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-touched-object",
							"objectClass": "Touch",
							"sid": 522168456044765,
							"parameters": {
								"object": "ModeBut"
							}
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 674947460416834,
							"parameters": {
								"layer": "ModeBut.LayerName"
							}
						}
					],
					"actions": [],
					"sid": 280713494584618,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-opacity",
									"objectClass": "ModeBut",
									"sid": 153414020104817,
									"parameters": {
										"comparison": 0,
										"opacity": "100"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "mmtext",
									"sid": 363078599438626,
									"parameters": {
										"unique-id": "506"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "PlayLvlBut",
									"sid": 943649924396660,
									"parameters": {
										"instance-variable": "SelectedMode",
										"value": "ModeBut.AnimationPrefix"
									}
								},
								{
									"id": "set-text",
									"objectClass": "mmtext",
									"sid": 298854076981161,
									"parameters": {
										"text": "\"LVL: \"&PlayLvlBut.SelectedLvl&newline&\n\"MODE: \"&PlayLvlBut.SelectedMode"
									}
								}
							],
							"sid": 352036570629267
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 351988271456069
								}
							],
							"actions": [
								{
									"id": "alert",
									"objectClass": "Browser",
									"sid": 280624088827617,
									"parameters": {
										"message": "\"Режим еще не готов.\""
									}
								}
							],
							"sid": 865793328597943
						}
					]
				}
			],
			"sid": 912634431366851
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Flags",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-clicked",
							"objectClass": "dev_flags",
							"sid": 323252669818077
						}
					],
					"actions": [
						{
							"id": "set-key",
							"objectClass": "flags",
							"sid": 335722949182036,
							"parameters": {
								"key": "dev_flags.flag",
								"value": "1 - flags.Get(dev_flags.flag)"
							}
						}
					],
					"sid": 990695907781205
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-selection-changed",
							"objectClass": "dev_dropdown",
							"sid": 974346830313644
						}
					],
					"actions": [
						{
							"id": "set-key",
							"objectClass": "flags",
							"sid": 802529006271720,
							"parameters": {
								"key": "dev_dropdown.flag",
								"value": "dev_dropdown.SelectedIndex"
							}
						}
					],
					"sid": 673262484024651
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-changed",
							"objectClass": "dev_slider",
							"sid": 783523665533078
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "SettDesc",
							"sid": 686366085139252,
							"parameters": {
								"unique-id": "dev_slider.txt"
							}
						}
					],
					"actions": [
						{
							"id": "set-key",
							"objectClass": "flags",
							"sid": 173186237153474,
							"parameters": {
								"key": "dev_slider.flag",
								"value": "dev_slider.Value"
							}
						},
						{
							"id": "set-text",
							"objectClass": "SettDesc",
							"sid": 261359037619390,
							"parameters": {
								"text": "flags.Get(dev_slider.flag)"
							}
						}
					],
					"sid": 572161563616887
				}
			],
			"sid": 871966225073888
		},
		{
			"functionName": "ShowPopup",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "PopupLayer",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 856883195549102
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 319653190243699,
					"parameters": {
						"object": "close_popup",
						"expression": "close_popup.LayerName",
						"comparison": 0,
						"value": "PopupLayer"
					}
				}
			],
			"actions": [
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 708326373047726,
					"parameters": {
						"layer": "PopupLayer",
						"visibility": "visible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 133911529643935,
					"parameters": {
						"layer": "PopupLayer",
						"interactive": true
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 738228220816091,
					"parameters": {
						"layer": "close_popup.Overlapping",
						"interactive": false
					}
				}
			],
			"sid": 630077905500565
		},
		{
			"functionName": "ShowLayer",
			"functionDescription": "",
			"functionCategory": "GUI",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "LayerToShow",
					"type": "string",
					"initialValue": "MainScreen",
					"comment": "",
					"sid": 496728908709219
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 792712191426755,
			"children": [
				{
					"eventType": "variable",
					"name": "layers",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 258160908115886
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "localVars.layers = runtime.layout.getAllLayers().length;"
						}
					],
					"sid": 395323670883537,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 974605711520743,
									"parameters": {
										"name": "\"Layers\"",
										"start-index": "0",
										"end-index": "layers - 1"
									}
								}
							],
							"actions": [],
							"sid": 425265924644281,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 649409943628124,
											"parameters": {
												"first-value": "loopindex(\"Layers\")",
												"comparison": 0,
												"second-value": "LayerIndex(LayerToShow)"
											}
										}
									],
									"actions": [
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 115155465203290,
											"parameters": {
												"layer": "loopindex(\"Layers\")",
												"visibility": "visible"
											}
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 601059338176726,
											"parameters": {
												"layer": "loopindex(\"Layers\")",
												"interactive": true
											}
										}
									],
									"sid": 716874724107171,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 268213618745053
										}
									],
									"actions": [
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 568202693394982,
											"parameters": {
												"layer": "loopindex(\"Layers\")",
												"visibility": "invisible"
											}
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 470963900664634,
											"parameters": {
												"layer": "loopindex(\"Layers\")",
												"interactive": false
											}
										}
									],
									"sid": 752877175729866
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "variable",
			"name": "game_mode",
			"type": "string",
			"initialValue": "FreeRoam",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 782284201201050
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-completed",
					"objectClass": "AJAX",
					"sid": 571623695148747
				}
			],
			"actions": [],
			"sid": 142078466076038,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 328047719631635,
							"parameters": {
								"object": "LoadableArray",
								"expression": "LoadableArray.tag",
								"comparison": 0,
								"value": "AJAX.Tag"
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "LoadableArray",
							"sid": 941399769639210,
							"parameters": {
								"json": "AJAX.LastData"
							}
						}
					],
					"sid": 131244660707857
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 678851694592982,
							"parameters": {
								"object": "LoadableDict",
								"expression": "LoadableDict.tag",
								"comparison": 0,
								"value": "AJAX.Tag"
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "LoadableDict",
							"sid": 411675264570230,
							"parameters": {
								"json": "AJAX.LastData"
							}
						}
					],
					"sid": 597134750180394
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 160636094926451,
					"parameters": {
						"tag": "\"flags\""
					}
				}
			],
			"actions": [],
			"sid": 491128065365919,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 491776497946221,
							"parameters": {
								"object": "dev_flags"
							}
						}
					],
					"actions": [],
					"sid": 214583899586633,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-value",
									"objectClass": "flags",
									"sid": 470421424288127,
									"parameters": {
										"key": "dev_flags.flag",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-checked",
									"objectClass": "dev_flags",
									"sid": 239982699951188,
									"parameters": {
										"state": "unchecked"
									}
								}
							],
							"sid": 975901975578926
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 859134486264159
								}
							],
							"actions": [
								{
									"id": "set-checked",
									"objectClass": "dev_flags",
									"sid": 635768452164930,
									"parameters": {
										"state": "checked"
									}
								}
							],
							"sid": 902971214145468
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 418822211879283,
							"parameters": {
								"object": "dev_dropdown"
							}
						}
					],
					"actions": [
						{
							"id": "set-selection",
							"objectClass": "dev_dropdown",
							"sid": 736869766869262,
							"parameters": {
								"index": "flags.Get(dev_dropdown.flag)"
							}
						}
					],
					"sid": 320565643147937
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 598082907669692,
							"parameters": {
								"object": "dev_slider"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "SettDesc",
							"sid": 633682929126427,
							"parameters": {
								"unique-id": "dev_slider.txt"
							}
						}
					],
					"actions": [
						{
							"id": "set-value",
							"objectClass": "dev_slider",
							"sid": 407784181862609,
							"parameters": {
								"value": "flags.Get(dev_slider.flag)"
							}
						},
						{
							"id": "set-text",
							"objectClass": "SettDesc",
							"sid": 857551890621067,
							"parameters": {
								"text": "flags.Get(dev_slider.flag)"
							}
						}
					],
					"sid": 135447258478414
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-update-found-sw",
					"objectClass": "Browser",
					"sid": 825026913342695
				}
			],
			"actions": [
				{
					"id": "alert",
					"objectClass": "Browser",
					"sid": 307004022587502,
					"parameters": {
						"message": "\"Найдено обновление! Оно загрузится автоматчически в фоне\""
					}
				}
			],
			"sid": 794707421428266
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-update-ready-sw",
					"objectClass": "Browser",
					"sid": 439691144520236
				}
			],
			"actions": [
				{
					"id": "alert",
					"objectClass": "Browser",
					"sid": 913267405851219,
					"parameters": {
						"message": "\"Обновление загружено! Обновите страницу, чтобы играть в новую версию\""
					}
				}
			],
			"sid": 404718528823276
		},
		{
			"functionName": "ShowCar",
			"functionDescription": "",
			"functionCategory": "GUI",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "carID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 311581331094618
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 136059255837554,
			"children": [
				{
					"eventType": "variable",
					"name": "max_upgrade_tier",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 940901239780203
				},
				{
					"eventType": "variable",
					"name": "upgrade_tier",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 408293397149495
				},
				{
					"eventType": "variable",
					"name": "owned",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 863954758613256
				},
				{
					"eventType": "variable",
					"name": "char_line",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 653904812463451
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 437341036001293,
							"parameters": {
								"variable": "owned",
								"value": "CarOwnership.At(0, 0, carID)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 252855932227187,
							"parameters": {
								"variable": "ChosenCar",
								"value": "carID"
							}
						}
					],
					"sid": 556748318484926
				},
				{
					"eventType": "comment",
					"text": "Show buy button if not purchased (deprecated)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 693810824258400,
							"parameters": {
								"variable": "owned",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "garage_buy",
							"sid": 381093461031019,
							"parameters": {
								"instance-variable": "State",
								"value": "0"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "garage_buy",
							"sid": 800112463169965,
							"disabled": true,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "garage_car_price",
							"sid": 547067671869756,
							"disabled": true,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-text",
							"objectClass": "garage_car_price",
							"sid": 104758647703586,
							"parameters": {
								"text": "\"👛 \"&CarChars.At(0, 3, carID)"
							}
						}
					],
					"sid": 763821087665214,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 142294711120409
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 272608647124427,
							"parameters": {
								"variable": "ChosenCar",
								"comparison": 0,
								"value": "garage_car_choice.shownID"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "garage_buy",
							"sid": 200056164578478,
							"parameters": {
								"instance-variable": "State",
								"value": "2"
							}
						},
						{
							"id": "set-text",
							"objectClass": "garage_car_price",
							"sid": 362288164519589,
							"parameters": {
								"text": "\"Выбрано\""
							}
						},
						{
							"id": "set-visible",
							"objectClass": "garage_buy",
							"sid": 204584640425945,
							"disabled": true,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "garage_car_price",
							"sid": 181386722715626,
							"disabled": true,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 914584415802559,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 240717462548191
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "garage_buy",
							"sid": 648440510982111,
							"parameters": {
								"instance-variable": "State",
								"value": "1"
							}
						},
						{
							"id": "set-text",
							"objectClass": "garage_car_price",
							"sid": 628104307275854,
							"parameters": {
								"text": "\"Выбрать\""
							}
						}
					],
					"sid": 242955646276229,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 878994321215221,
							"parameters": {
								"object": "UpgradeBar"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 159679109352111,
							"parameters": {
								"object": "garage_bar_max",
								"expression": "garage_bar_max.char_ID",
								"comparison": 0,
								"value": "UpgradeBar.char_ID"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 239176857227406,
							"parameters": {
								"object": "garage_upgrade_price",
								"expression": "garage_upgrade_price.char_ID",
								"comparison": 0,
								"value": "UpgradeBar.char_ID"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 579843073702944,
							"parameters": {
								"object": "garage_upgrade_char",
								"expression": "garage_upgrade_char.char_ID",
								"comparison": 0,
								"value": "UpgradeBar.char_ID"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 286086904721949,
							"parameters": {
								"variable": "upgrade_tier",
								"value": "CarOwnership.At(1, UpgradeBar.char_ID, carID)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 462258298028310,
							"parameters": {
								"variable": "char_line",
								"value": "2 * UpgradeBar.char_ID + 1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 871351287341160,
							"parameters": {
								"variable": "max_upgrade_tier",
								"value": "CarChars.At(char_line, 1, carID)"
							}
						},
						{
							"id": "set-width",
							"objectClass": "UpgradeBar",
							"sid": 382178442998848,
							"parameters": {
								"width": "((CarChars.At(char_line, 0, carID) + (upgrade_tier = 0 ? 0 : CarChars.At(char_line, upgrade_tier + 1, carID))) - UpgradeBar.low_value) / (UpgradeBar.high_value - UpgradeBar.low_value) * 470 + 122"
							}
						},
						{
							"id": "set-width",
							"objectClass": "garage_bar_max",
							"sid": 529717747756583,
							"parameters": {
								"width": "((CarChars.At(char_line, 0, carID) + (max_upgrade_tier = 0 ? 0 : CarChars.At(char_line, max_upgrade_tier + 1, carID))) - garage_bar_max.low_value) / (garage_bar_max.high_value - garage_bar_max.low_value) * 470 + 145"
							}
						},
						{
							"id": "set-text",
							"objectClass": "garage_upgrade_price",
							"sid": 433148979436120,
							"parameters": {
								"text": "(upgrade_tier = max_upgrade_tier ? \"\" : CarChars.At(char_line + 1, upgrade_tier + 2, carID))"
							}
						}
					],
					"sid": 576372655299546,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 905137418207308,
									"parameters": {
										"variable": "max_upgrade_tier",
										"comparison": 0,
										"value": "upgrade_tier"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 760631811732212,
									"parameters": {
										"variable": "owned",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "garage_upgrade_char",
									"sid": 570239415049423,
									"parameters": {
										"animation": "Self.AnimationPrefix&\"_done\"",
										"from": "beginning"
									}
								}
							],
							"sid": 974734432549383,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 305846938748888
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 299915766867812,
									"parameters": {
										"variable": "max_upgrade_tier",
										"comparison": 4,
										"value": "upgrade_tier"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "garage_upgrade_char",
									"sid": 285213614210593,
									"parameters": {
										"animation": "Self.AnimationPrefix&\"_avail\"",
										"from": "beginning"
									}
								}
							],
							"sid": 142385200348249
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 324172535305707,
							"parameters": {
								"object": "garage_car",
								"instance": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "garage_car",
							"sid": 149481396001211,
							"parameters": {
								"instance-variable": "shownID",
								"value": "carID"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "garage_car",
							"sid": 297655508044742,
							"parameters": {
								"animation": "CarChars.At(0, 0, carID)",
								"from": "beginning"
							}
						}
					],
					"sid": 246712420369439
				},
				{
					"eventType": "comment",
					"text": "Deprecated (display car name)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 508708925302432,
							"parameters": {
								"object": "garage_car_name",
								"instance": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "garage_car_name",
							"sid": 413776098186194,
							"parameters": {
								"text": "CarChars.At(0, 4, carID)"
							}
						}
					],
					"sid": 506840963835175,
					"disabled": true
				}
			]
		},
		{
			"functionName": "CoinsChanged",
			"functionDescription": "",
			"functionCategory": "GUI",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-all",
					"objectClass": "System",
					"sid": 268388626509789,
					"parameters": {
						"object": "coin_txt"
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "coin_txt",
					"sid": 572491114399706,
					"parameters": {
						"text": "Coins"
					}
				}
			],
			"sid": 883561806101036
		},
		{
			"functionName": "PickCar",
			"functionDescription": "",
			"functionCategory": "GUI",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "buttonID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 824646420712070
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "garage_car_choice",
					"sid": 271469668014472,
					"parameters": {
						"unique-id": "buttonID"
					}
				}
			],
			"actions": [],
			"sid": 548489827974386,
			"children": [
				{
					"eventType": "variable",
					"name": "carUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 272395192529105
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 342523277537315,
							"parameters": {
								"variable": "carUID",
								"value": "garage_car_choice.shownID"
							}
						},
						{
							"callFunction": "ShowCar",
							"sid": 119902482618972,
							"parameters": [
								"carUID"
							]
						},
						{
							"callFunction": "ShowCarOwnership",
							"sid": 611231701193979
						}
					],
					"sid": 908334539407754
				}
			]
		},
		{
			"functionName": "BuyCar",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "buttonID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 942694399754787
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "garage_car_choice",
					"sid": 366708482767604,
					"parameters": {
						"unique-id": "buttonID"
					}
				}
			],
			"actions": [],
			"sid": 660105375418881,
			"children": [
				{
					"eventType": "variable",
					"name": "carUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 534893371412502
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 584220873750382,
							"parameters": {
								"variable": "carUID",
								"value": "garage_car_choice.shownID"
							}
						}
					],
					"sid": 910865508036603
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 719849547419945,
							"parameters": {
								"variable": "carUID",
								"comparison": 5,
								"value": "CarOwnership.Depth"
							}
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 869218666221571,
							"parameters": {
								"message": "\"Сюда потом можно будет поставить машинку, но пока что у меня столько нет.\""
							}
						}
					],
					"sid": 693411127589309
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 648895527876586
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 972554024080267,
							"parameters": {
								"variable": "Coins",
								"comparison": 5,
								"value": "CarChars.At(0, 3, carUID)"
							}
						}
					],
					"actions": [
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 496076912804258,
							"parameters": {
								"variable": "Coins",
								"value": "CarChars.At(0, 3, carUID)"
							}
						},
						{
							"callFunction": "CoinsChanged",
							"sid": 782248568916387
						},
						{
							"id": "set-at-xyz",
							"objectClass": "CarOwnership",
							"sid": 285860884835030,
							"parameters": {
								"x": "0",
								"y": "0",
								"z": "carUID",
								"value": "1"
							}
						},
						{
							"callFunction": "ShowCar",
							"sid": 563457993392345,
							"parameters": [
								"carUID"
							]
						},
						{
							"callFunction": "ShowCarOwnership",
							"sid": 183291860065405
						}
					],
					"sid": 660497388488934
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 188440863589679
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 643363094909514,
							"parameters": {
								"message": "\"Не хватает монет!\""
							}
						}
					],
					"sid": 829111861082263
				}
			]
		},
		{
			"functionName": "UpgradeCar",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "buttonID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 427002710745037
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "garage_upgrade_char",
					"sid": 411578565501950,
					"parameters": {
						"unique-id": "buttonID"
					}
				},
				{
					"id": "is-animation-playing",
					"objectClass": "garage_upgrade_char",
					"sid": 669943618115271,
					"parameters": {
						"animation": "Self.AnimationPrefix&\"_avail\""
					}
				}
			],
			"actions": [],
			"sid": 836570297823269,
			"children": [
				{
					"eventType": "variable",
					"name": "charUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 756091748699417
				},
				{
					"eventType": "variable",
					"name": "carUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 243801517211030
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 109099297867647,
							"parameters": {
								"object": "garage_car",
								"instance": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 290484682347012,
							"parameters": {
								"variable": "carUID",
								"value": "garage_car.shownID"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 210945063288099,
							"parameters": {
								"variable": "charUID",
								"value": "garage_upgrade_char.char_ID"
							}
						}
					],
					"sid": 533036277347177
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 747976050978096,
							"parameters": {
								"variable": "Coins",
								"comparison": 5,
								"value": "CarChars.At(2 * charUID + 2, CarOwnership.At(1, charUID, carUID) + 2, carUID)"
							}
						}
					],
					"actions": [
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 537897816259212,
							"parameters": {
								"variable": "Coins",
								"value": "CarChars.At(2 * charUID + 2, CarOwnership.At(1, charUID, carUID) + 2, carUID)"
							}
						},
						{
							"callFunction": "CoinsChanged",
							"sid": 341904236149852
						},
						{
							"id": "set-at-xyz",
							"objectClass": "CarOwnership",
							"sid": 432329736957558,
							"parameters": {
								"x": "1",
								"y": "charUID",
								"z": "carUID",
								"value": "CarOwnership.At(1, charUID, carUID) + 1"
							}
						},
						{
							"id": "set-at-xyz",
							"objectClass": "CarOwnership",
							"sid": 835754424786239,
							"parameters": {
								"x": "2",
								"y": "charUID",
								"z": "carUID",
								"value": "CarChars.At(2 * charUID + 1, 0, carUID) + CarChars.At(2 * charUID + 1, CarOwnership.At(1, charUID, carUID) + 1, carUID)"
							}
						},
						{
							"callFunction": "ShowCar",
							"sid": 424367817078559,
							"parameters": [
								"carUID"
							]
						},
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 841150703521675,
							"parameters": {
								"value": "CarOwnership.At(1, charUID, carUID)"
							}
						}
					],
					"sid": 349983159909399
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 140413980250136
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 494016432345077,
							"parameters": {
								"message": "\"Не хватает монет!\""
							}
						}
					],
					"sid": 631702661699829
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 615722401496838,
					"parameters": {
						"variable": "MenuState",
						"comparison": 0,
						"value": "MENU_PROMPT"
					}
				}
			],
			"actions": [],
			"sid": 342649526677113,
			"disabled": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 581183724209856
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 927135827678044,
							"parameters": {
								"group-name": "\"MainButtons\"",
								"state": "deactivated"
							}
						},
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 941302298859293,
							"disabled": true,
							"parameters": {
								"message": "\"Prompt on\""
							}
						}
					],
					"sid": 609772499375234,
					"disabled": true
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 849026916605556
				}
			],
			"actions": [],
			"sid": 142293719144283,
			"disabled": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 891913983311364
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 559180946124244,
							"disabled": true,
							"parameters": {
								"message": "\"Prompt off\""
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 558546018945796,
							"parameters": {
								"group-name": "\"MainButtons\"",
								"state": "activated"
							}
						}
					],
					"sid": 475085210979602,
					"disabled": true
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 586785472749403,
					"parameters": {
						"object": "prompt_yes"
					}
				},
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 333130018386916,
					"parameters": {
						"layer": "prompt_yes.LayerName"
					}
				}
			],
			"actions": [],
			"sid": 417666042872022,
			"disabled": true,
			"children": [
				{
					"eventType": "variable",
					"name": "val",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 637132172354655
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 559646509154385
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "let prompt = runtime.objects.prompt_back.getFirstInstance();\nlocalVars.val = runtime.callFunction(prompt.instVars.function_to_call, prompt.instVars.param1, prompt.instVars.param2);"
						},
						{
							"id": "destroy",
							"objectClass": "prompt_back",
							"sid": 587461434377217
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 298526157011450,
							"parameters": {
								"variable": "MenuState",
								"value": "MENU_DEFAULT"
							}
						}
					],
					"sid": 593237645097633,
					"disabled": true
				},
				{
					"eventType": "comment",
					"text": "Not enough coins - function have returned 0"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 362147315856182,
							"parameters": {
								"variable": "val",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 344728029193135,
							"parameters": {
								"message": "\"Не хватает средств!\""
							}
						}
					],
					"sid": 251001491661804,
					"disabled": true
				},
				{
					"eventType": "comment",
					"text": "Success"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 390142226009129
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 402293783287332,
							"disabled": true,
							"parameters": {
								"message": "\"Успешная покупка! \""
							}
						}
					],
					"sid": 215776673678856,
					"disabled": true
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 138951326182424,
					"parameters": {
						"object": "prompt_no"
					}
				},
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 176913878931638,
					"parameters": {
						"layer": "prompt_no.LayerName"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "prompt_back",
					"sid": 583139424219803
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 890107028480528,
					"parameters": {
						"variable": "MenuState",
						"value": "MENU_DEFAULT"
					}
				}
			],
			"sid": 101655602285942,
			"disabled": true
		},
		{
			"functionName": "Empty",
			"functionDescription": "",
			"functionCategory": "Buttons",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 490698248633316
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 594018630725432
				}
			],
			"actions": [
				{
					"id": "set-time-scale",
					"objectClass": "System",
					"sid": 688933806789900,
					"parameters": {
						"time-scale": "1.0"
					}
				}
			],
			"sid": 888604281113168
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 334996847639598,
					"parameters": {
						"layer": "\"Garage\""
					}
				}
			],
			"actions": [],
			"sid": 474600034035485,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 663926509547695
						},
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 750682442135392,
							"parameters": {
								"object": "garage_car",
								"instance": "0"
							}
						}
					],
					"actions": [
						{
							"callFunction": "ShowCar",
							"sid": 938668144915801,
							"parameters": [
								"garage_car.shownID"
							]
						},
						{
							"callFunction": "RocketsChangedNew",
							"sid": 669725851792926
						},
						{
							"callFunction": "JumpsChanged",
							"sid": 828382747890103
						}
					],
					"sid": 686117980574820
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 148682067401994,
					"parameters": {
						"layer": "\"CarChoice\""
					}
				}
			],
			"actions": [],
			"sid": 748062917333606,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 128203491028197
						}
					],
					"actions": [
						{
							"id": "scroll-to-position",
							"objectClass": "System",
							"sid": 282721809606116,
							"parameters": {
								"x": "0",
								"y": "MidScreenY"
							}
						},
						{
							"callFunction": "EnableScrolling",
							"sid": 222481668944294,
							"parameters": [
								false,
								true,
								"360",
								"830",
								"0",
								"640",
								true
							]
						},
						{
							"callFunction": "ShowCarOwnership",
							"sid": 201851363787043
						}
					],
					"sid": 277126066162571
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 204235126675645,
							"parameters": {
								"interval-seconds": "dt * 2"
							}
						}
					],
					"actions": [
						{
							"id": "set-y",
							"objectClass": "slider_menu_handle",
							"sid": 329878681600806,
							"parameters": {
								"y": "slider_menu.Y + (ViewportBottom(\"CarChoice\") - MidScreenY - 640)/(830 - 640) * (slider_menu.Height - Self.Height)"
							}
						}
					],
					"sid": 289530557318497,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 130740947438782,
									"parameters": {
										"object": "garage_car_choice"
									}
								},
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 149366544519368,
									"parameters": {
										"object": "garage_car_price"
									}
								},
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 841921745866373,
									"parameters": {
										"object": "locked_item"
									}
								},
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 186747614903027,
									"parameters": {
										"object": "money_icon_static",
										"expression": "money_icon_static.LayerName",
										"comparison": 0,
										"value": "\"CarChoice\""
									}
								}
							],
							"actions": [
								{
									"id": "clear-canvas",
									"objectClass": "DrawCars",
									"sid": 245477859624793,
									"parameters": {
										"color": "rgba(0, 0, 0, 0)"
									}
								},
								{
									"id": "paste-object",
									"objectClass": "DrawCars",
									"sid": 239702342545017,
									"parameters": {
										"object": "garage_car_choice",
										"effects": "without-effects"
									}
								},
								{
									"id": "paste-object",
									"objectClass": "DrawCars",
									"sid": 237597932235466,
									"parameters": {
										"object": "locked_item",
										"effects": "without-effects"
									}
								},
								{
									"id": "paste-object",
									"objectClass": "DrawCars",
									"sid": 857033130994106,
									"parameters": {
										"object": "garage_car_price",
										"effects": "without-effects"
									}
								},
								{
									"id": "paste-object",
									"objectClass": "DrawCars",
									"sid": 840220571512674,
									"parameters": {
										"object": "money_icon_static",
										"effects": "without-effects"
									}
								}
							],
							"sid": 452148185673615
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 591292834687171,
					"parameters": {
						"layer": "\"CarChoice\""
					},
					"isInverted": true
				}
			],
			"actions": [],
			"sid": 864122663142604,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 806175025270013
						}
					],
					"actions": [
						{
							"callFunction": "DisableScrolling",
							"sid": 393793324969087,
							"parameters": [
								"0",
								"MidScreenY"
							]
						}
					],
					"sid": 174394390483108
				}
			]
		},
		{
			"functionName": "ShowCarOwnership",
			"functionDescription": "",
			"functionCategory": "GUI",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 492488040911120,
			"children": [
				{
					"eventType": "variable",
					"name": "owned",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 912030048275313
				},
				{
					"eventType": "variable",
					"name": "currentCar",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 588305770557142
				},
				{
					"eventType": "variable",
					"name": "carID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 674528019444930
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 179652573693512,
							"parameters": {
								"object": "garage_car",
								"instance": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 952444991411089,
							"parameters": {
								"variable": "currentCar",
								"value": "garage_car.shownID"
							}
						}
					],
					"sid": 163669922577406
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 835021470658661,
							"parameters": {
								"object": "garage_car_choice"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "garage_car_choice",
							"sid": 704903018268782,
							"parameters": {
								"child": "garage_car_price",
								"which": "own"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "garage_car_choice",
							"sid": 780384438002204,
							"parameters": {
								"child": "money_icon_static",
								"which": "own"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "garage_car_choice",
							"sid": 993193513426870,
							"parameters": {
								"child": "locked_item",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 348653402608884,
							"parameters": {
								"variable": "carID",
								"value": "garage_car_choice.shownID"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 652296837496987,
							"parameters": {
								"variable": "owned",
								"value": "CarOwnership.At(0, 0, carID)"
							}
						}
					],
					"sid": 860311377534358,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 327405598583623,
									"parameters": {
										"variable": "owned",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "garage_car_choice",
									"sid": 864058091594178,
									"parameters": {
										"animation": "CarChars.At(0, 0, carID)&\"_off\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "garage_car_choice",
									"sid": 717410380856911,
									"parameters": {
										"instance-variable": "onclick",
										"value": "\"BuyCar\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "garage_car_choice",
									"sid": 720709466547761,
									"parameters": {
										"instance-variable": "click_param",
										"value": "Self.UID"
									}
								},
								{
									"id": "set-text",
									"objectClass": "garage_car_price",
									"sid": 639543629980829,
									"parameters": {
										"text": "CarChars.At(0, 3, carID)"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "money_icon_static",
									"sid": 364295940673958,
									"parameters": {
										"animation": "\"Default\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "locked_item",
									"sid": 491864415194244,
									"parameters": {
										"animation": "\"Locked\"",
										"from": "beginning"
									}
								}
							],
							"sid": 434075257599481
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 665895260704377
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 559479723293172,
									"parameters": {
										"variable": "currentCar",
										"comparison": 1,
										"value": "carID"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "garage_car_choice",
									"sid": 872295088677306,
									"parameters": {
										"animation": "CarChars.At(0, 0, carID)&\"_off\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "garage_car_choice",
									"sid": 621065336138105,
									"parameters": {
										"instance-variable": "onclick",
										"value": "\"PickCar\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "garage_car_choice",
									"sid": 934506973183591,
									"parameters": {
										"instance-variable": "click_param",
										"value": "Self.UID"
									}
								},
								{
									"id": "set-text",
									"objectClass": "garage_car_price",
									"sid": 271084582540282,
									"parameters": {
										"text": "\"\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "money_icon_static",
									"sid": 393333873216693,
									"parameters": {
										"animation": "\"Hidden\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "locked_item",
									"sid": 926495147534658,
									"parameters": {
										"animation": "\"Unlocked\"",
										"from": "beginning"
									}
								}
							],
							"sid": 459425666920899
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 923268487672185
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "garage_car_choice",
									"sid": 258467093158750,
									"parameters": {
										"animation": "CarChars.At(0, 0, carID)&\"_on\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "garage_car_choice",
									"sid": 364215731620409,
									"parameters": {
										"instance-variable": "onclick",
										"value": "\"PickCar\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "garage_car_choice",
									"sid": 203040640864644,
									"parameters": {
										"instance-variable": "click_param",
										"value": "Self.UID"
									}
								},
								{
									"id": "set-text",
									"objectClass": "garage_car_price",
									"sid": 270323606680127,
									"parameters": {
										"text": "\"\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "money_icon_static",
									"sid": 757417008175993,
									"parameters": {
										"animation": "\"Hidden\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "locked_item",
									"sid": 730196223139589,
									"parameters": {
										"animation": "\"Unlocked\"",
										"from": "beginning"
									}
								}
							],
							"sid": 736314219884242
						}
					]
				}
			]
		},
		{
			"functionName": "BuyJumps",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "ButtonID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 188861578637892
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "jump_buy",
					"sid": 546271139398532,
					"parameters": {
						"unique-id": "ButtonID"
					}
				}
			],
			"actions": [],
			"sid": 823356179367842,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 667937638493794,
							"parameters": {
								"variable": "Coins",
								"comparison": 5,
								"value": "jump_buy.Price"
							}
						}
					],
					"actions": [
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 523668695279547,
							"parameters": {
								"variable": "Coins",
								"value": "jump_buy.Price"
							}
						},
						{
							"callFunction": "CoinsChanged",
							"sid": 920789280784570
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 158907836983085,
							"parameters": {
								"variable": "Jumps",
								"value": "jump_buy.Amount"
							}
						},
						{
							"callFunction": "JumpsChanged",
							"sid": 106306429759690
						}
					],
					"sid": 275522862449475
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 418782235520348
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 797417267569098,
							"parameters": {
								"message": "\"Не хватает монет!\""
							}
						}
					],
					"sid": 359497665806608
				}
			]
		},
		{
			"functionName": "BuyRockets",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "ButtonID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 230432120422866
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "rocket_buy",
					"sid": 865298325241867,
					"parameters": {
						"unique-id": "ButtonID"
					}
				}
			],
			"actions": [],
			"sid": 155894553493396,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 187438366242831,
							"parameters": {
								"variable": "Coins",
								"comparison": 5,
								"value": "rocket_buy.Price"
							}
						}
					],
					"actions": [
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 889085391469660,
							"parameters": {
								"variable": "Coins",
								"value": "rocket_buy.Price"
							}
						},
						{
							"callFunction": "CoinsChanged",
							"sid": 150510974716244
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 770691025762588,
							"parameters": {
								"variable": "Rockets",
								"value": "rocket_buy.Amount"
							}
						},
						{
							"callFunction": "RocketsChangedNew",
							"sid": 237702669773064
						}
					],
					"sid": 808880073175205
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 799705681304459
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 407795287801362,
							"parameters": {
								"message": "\"Не хватает монет!\""
							}
						}
					],
					"sid": 620453512407550
				}
			]
		},
		{
			"functionName": "OpenMap",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "map_name",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 476774613628488
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 294313193670701,
					"parameters": {
						"variable": "MapName",
						"value": "map_name"
					}
				},
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 706182693533295,
					"parameters": {
						"layout": "Loaded_lvl"
					}
				}
			],
			"sid": 611045784497311
		}
	],
	"sid": 188176345997916
}