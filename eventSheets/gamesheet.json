{
	"name": "GameSheet",
	"events": [
		{
			"eventType": "variable",
			"name": "AdsDisabled",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 524580793711449
		},
		{
			"eventType": "variable",
			"name": "Lives",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 813717106884652
		},
		{
			"eventType": "variable",
			"name": "has_ideal_bonus",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 872765238696032
		},
		{
			"eventType": "variable",
			"name": "Speed",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 408447452104862
		},
		{
			"eventType": "variable",
			"name": "LvlScore",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 264636612934621
		},
		{
			"eventType": "variable",
			"name": "DesAngle",
			"type": "number",
			"initialValue": "270",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 854686913018689
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 157482633919241
				}
			],
			"actions": [
				{
					"id": "set-scale",
					"objectClass": "Car",
					"sid": 259994083976612,
					"parameters": {
						"scale": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25\n"
					}
				},
				{
					"id": "set-layer-scale",
					"objectClass": "System",
					"sid": 436491115264419,
					"parameters": {
						"layer": "\"Level\"",
						"scale": "flags.Get(\"cam_scale\") = 0 ? 0.75 :\r\nflags.Get(\"cam_scale\") = 1 ? 1 : 1.25"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 672535164683277,
					"parameters": {
						"variable": "Lives",
						"value": "flags.Get(\"difficulty_lives\")"
					}
				},
				{
					"id": "move-to-top",
					"objectClass": "Car",
					"sid": 254084424532482
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 358013970452926,
					"parameters": {
						"variable": "DesAngle",
						"value": "Car.Angle"
					}
				},
				{
					"id": "set-object-time-scale",
					"objectClass": "System",
					"sid": 588533667299294,
					"parameters": {
						"object": "Car",
						"time-scale": "0"
					}
				},
				{
					"id": "spawn-another-object",
					"objectClass": "Car",
					"sid": 281945766089758,
					"parameters": {
						"object": "car_edge_collision",
						"layer": "Car.LayerName",
						"image-point": "0",
						"create-hierarchy": false
					}
				},
				{
					"id": "add-child",
					"objectClass": "Car",
					"sid": 620812377826197,
					"parameters": {
						"child": "car_edge_collision",
						"transform-x": true,
						"transform-y": true,
						"transform-w": false,
						"transform-h": false,
						"transform-a": true,
						"transform-z-elevation": true,
						"destroy-with-parent": false
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "car_edge_collision",
					"sid": 399073794514321,
					"parameters": {
						"instance-variable": "AttachedToCarUID",
						"value": "Car.UID"
					}
				},
				{
					"id": "set-scale",
					"objectClass": "car_edge_collision",
					"sid": 418827389018157,
					"parameters": {
						"scale": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\r\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25"
					}
				},
				{
					"id": "set-position-to-another-object",
					"objectClass": "cam_follow",
					"sid": 436324322341443,
					"parameters": {
						"object": "Car",
						"image-point-optional": "0"
					}
				},
				{
					"id": "add-child",
					"objectClass": "Car",
					"sid": 612713030652429,
					"parameters": {
						"child": "cam_follow",
						"transform-x": true,
						"transform-y": true,
						"transform-w": false,
						"transform-h": false,
						"transform-a": false,
						"transform-z-elevation": true,
						"destroy-with-parent": false
					}
				},
				{
					"id": "move-to-object",
					"objectClass": "Car",
					"sid": 171489283887117,
					"parameters": {
						"where": "behind",
						"object": "scenery"
					}
				},
				{
					"callFunction": "do_timer",
					"sid": 359539936734947
				},
				{
					"callFunction": "PlaceTireEffects",
					"sid": 599696852187898
				},
				{
					"callFunction": "PlaceDriftZones",
					"sid": 151066115383564
				},
				{
					"id": "move-to-object",
					"objectClass": "LevelLight",
					"sid": 748838774466109,
					"parameters": {
						"where": "in-front",
						"object": "Car"
					}
				}
			],
			"sid": 515440288879850,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 863626839444245,
							"parameters": {
								"object": "scenery"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 526757512851981,
							"parameters": {
								"object": "scenery",
								"expression": "scenery.AnimationName",
								"comparison": 0,
								"value": "\"Tree2\""
							}
						}
					],
					"actions": [
						{
							"id": "set-angle",
							"objectClass": "scenery",
							"sid": 739359440917497,
							"parameters": {
								"angle": "random(0, 360)"
							}
						},
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 530646331456672,
							"disabled": true,
							"parameters": {
								"message": "scenery.Angle"
							}
						}
					],
					"sid": 275767945633297
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 329043249306011,
							"parameters": {
								"object": "scenery"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 350043766134767,
							"parameters": {
								"object": "scenery",
								"expression": "scenery.AnimationName",
								"comparison": 0,
								"value": "\"Tree1\""
							}
						}
					],
					"actions": [
						{
							"id": "set-angle",
							"objectClass": "scenery",
							"sid": 751288654529534,
							"parameters": {
								"angle": "random(0, 360)"
							}
						},
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 403260501861934,
							"disabled": true,
							"parameters": {
								"message": "scenery.Angle"
							}
						}
					],
					"sid": 714575164109380
				},
				{
					"eventType": "comment",
					"text": "Turn off moving obstacles if they are disabled"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 237296457063379,
							"parameters": {
								"key": "\"obstacles_dynamic_enabled\"",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [],
					"sid": 263040460745615,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 583700633942635,
									"parameters": {
										"object": "Obstacle",
										"expression": "Obstacle.Moving",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Obstacle",
									"sid": 602365787369424,
									"parameters": {
										"instance-variable": "Moving",
										"value": "false"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Obstacle",
									"sid": 276892104496257,
									"parameters": {
										"animation": "\"rock\"&choose(\"1\", \"2\", \"3\")",
										"from": "beginning"
									}
								}
							],
							"sid": 333716577271007
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 629415196916888
						}
					],
					"actions": [],
					"sid": 231869550416525,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 870727525378206,
									"parameters": {
										"object": "Obstacle",
										"expression": "Obstacle.Moving",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "Obstacle",
									"sid": 943365466022978,
									"behaviorType": "Sine",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 212844736112533
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Hide static obstacles if they are disabled"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 926003344190119,
							"parameters": {
								"key": "\"obstacles_static_enabled\"",
								"comparison": 0,
								"value": "0"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 174780462532516,
							"parameters": {
								"object": "Obstacle",
								"expression": "Obstacle.Moving",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "Obstacle",
							"sid": 261644785815531,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 607538592892213
				},
				{
					"eventType": "comment",
					"text": "Turn moving bonuses into static if they are disabled"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 591478007893494,
							"parameters": {
								"key": "\"bonuses_dynamic_enabled\"",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [],
					"sid": 965767737321887,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 190288553217853,
									"parameters": {
										"object": "Bonus",
										"expression": "Bonus.Moving",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Bonus",
									"sid": 931473539006948,
									"parameters": {
										"instance-variable": "Moving",
										"value": "false"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Bonus",
									"sid": 878459051652200,
									"parameters": {
										"animation": "\"Static\"",
										"from": "beginning"
									}
								}
							],
							"sid": 520919525920556
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 966771964488045
						}
					],
					"actions": [],
					"sid": 441644156030615,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 768428732395293,
									"parameters": {
										"object": "Bonus",
										"expression": "Bonus.Moving",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "Bonus",
									"sid": 472452379195856,
									"behaviorType": "Sine",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 102696978986324
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Hide static bonuses if they are disabled"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 989163872867660,
							"parameters": {
								"key": "\"bonuses_static_enabled\"",
								"comparison": 0,
								"value": "0"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 164764702701021,
							"parameters": {
								"object": "Bonus",
								"expression": "Bonus.Moving",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "Bonus",
							"sid": 148145890578047,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 606589347167187
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 557098337914072,
							"parameters": {
								"object": "score_ui",
								"instance": "2"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 533755586127328,
							"parameters": {
								"text": "lives&\"❤\""
							}
						}
					],
					"sid": 632762003142762
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 475588498720362,
							"parameters": {
								"object": "score_ui",
								"instance": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 595053859182484,
							"parameters": {
								"text": "\"👛\"&bonus_points"
							}
						}
					],
					"sid": 538015274574563
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 547410938535777,
							"parameters": {
								"object": "score_ui",
								"instance": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 885291062513927,
							"parameters": {
								"text": "\"🚗\"&LvlScore"
							}
						}
					],
					"sid": 466628006598106
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 934773907232360
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 120810868397921,
							"parameters": {
								"object-to-create": "Car",
								"layer": "0",
								"x": "3150",
								"y": "2700",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "Car",
							"sid": 533846475968705,
							"parameters": {
								"object": "car_edge_collision",
								"layer": "Car.LayerName",
								"image-point": "0",
								"create-hierarchy": false
							}
						},
						{
							"id": "add-child",
							"objectClass": "Car",
							"sid": 872580893365655,
							"parameters": {
								"child": "car_edge_collision",
								"transform-x": true,
								"transform-y": true,
								"transform-w": false,
								"transform-h": false,
								"transform-a": true,
								"transform-z-elevation": true,
								"destroy-with-parent": false
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "car_edge_collision",
							"sid": 292610087306244,
							"parameters": {
								"instance-variable": "AttachedToCarUID",
								"value": "Car.UID"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Car",
							"sid": 251576748706682,
							"behaviorType": "Car",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-default-controls",
							"objectClass": "Car",
							"sid": 146482572271879,
							"behaviorType": "Car",
							"parameters": {
								"default-controls": false
							}
						},
						{
							"callFunction": "CreateAI_Car",
							"sid": 689386065855064,
							"parameters": [
								"Car.UID"
							]
						}
					],
					"sid": 538946145347687
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 980742843819439,
					"parameters": {
						"object": "roads",
						"expression": "roads.back",
						"comparison": 0,
						"value": "0"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Car",
					"sid": 377815285178596,
					"parameters": {
						"object": "roads"
					},
					"isInverted": true
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Car",
					"sid": 904803748240610,
					"parameters": {
						"instance-variable": "Player"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Car",
					"sid": 820751043265699,
					"disabled": true,
					"parameters": {
						"object": "Turns"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"callFunction": "GameOver",
					"sid": 789709497906417
				}
			],
			"sid": 412178629026609
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-enabled",
					"objectClass": "Car",
					"sid": 950660360105775,
					"behaviorType": "Car"
				},
				{
					"id": "is-moving",
					"objectClass": "Car",
					"sid": 790420976361589,
					"behaviorType": "Car"
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Car",
					"sid": 437242887951306,
					"parameters": {
						"instance-variable": "Player"
					}
				},
				{
					"id": "is-within-angle",
					"objectClass": "System",
					"sid": 994657812960453,
					"parameters": {
						"angle-1": "Car.Angle",
						"within": "7",
						"angle-2": "Car.Car.MovingAngle"
					},
					"isInverted": true
				}
			],
			"actions": [],
			"sid": 134775696802758,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 526074013773479
						},
						{
							"id": "for",
							"objectClass": "System",
							"sid": 607889280627842,
							"parameters": {
								"name": "\"TireMarks\"",
								"start-index": "1",
								"end-index": "2"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "Car",
							"sid": 444743677001484,
							"parameters": {
								"object": "DriftMarks",
								"layer": "Car.LayerName",
								"image-point": "loopindex(\"TireMarks\")",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle",
							"objectClass": "DriftMarks",
							"sid": 717406201239684,
							"parameters": {
								"angle": "0"
							}
						},
						{
							"id": "move-to-object",
							"objectClass": "DriftMarks",
							"sid": 332064358999430,
							"parameters": {
								"where": "behind",
								"object": "Car"
							}
						},
						{
							"id": "add-to-instvar",
							"objectClass": "Car",
							"sid": 114604870151758,
							"parameters": {
								"instance-variable": "Trail",
								"value": "1"
							}
						},
						{
							"id": "set-rate",
							"objectClass": "Particles",
							"sid": 650651101205570,
							"parameters": {
								"rate": "100"
							}
						}
					],
					"sid": 208950274237038
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 303534659675817,
							"parameters": {
								"name": "\"SpawnTireMarks\"",
								"start-index": "0",
								"end-index": "1"
							}
						},
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 534051973393622,
							"parameters": {
								"object": "DriftMarks",
								"instance": "Car.Trail + loopindex(\"SpawnTireMarks\")"
							}
						}
					],
					"actions": [
						{
							"id": "push-point",
							"objectClass": "DriftMarks",
							"sid": 704476524749170,
							"behaviorType": "TrailRenderer",
							"parameters": {
								"x": "Car.ImagePointX(loopindex(\"SpawnTireMarks\") + 1)",
								"y": "Car.ImagePointY(loopindex(\"SpawnTireMarks\") + 1)",
								"angle": "0",
								"angle-towards-new-position": true
							}
						}
					],
					"sid": 989803393651898
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 232132253262337,
							"parameters": {
								"object": "DriftMarks",
								"instance": "Car.Trail + 1"
							}
						}
					],
					"actions": [
						{
							"id": "push-point",
							"objectClass": "DriftMarks",
							"sid": 661391505654221,
							"behaviorType": "TrailRenderer",
							"parameters": {
								"x": "Car.ImagePointX(\"RightBackTrail\")",
								"y": "Car.ImagePointY(\"RightBackTrail\")",
								"angle": "0",
								"angle-towards-new-position": true
							}
						}
					],
					"sid": 287601679230949,
					"disabled": true
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 210392600392291
				}
			],
			"actions": [
				{
					"id": "set-rate",
					"objectClass": "Particles",
					"sid": 387634424418858,
					"parameters": {
						"rate": "0"
					}
				}
			],
			"sid": 901237640377648
		},
		{
			"functionName": "PlaceDriftZones",
			"functionDescription": "",
			"functionCategory": "Level",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 421120456862227,
					"parameters": {
						"object": "roads",
						"expression": "roads.back",
						"comparison": 0,
						"value": "0"
					}
				},
				{
					"id": "for",
					"objectClass": "System",
					"sid": 751564010664700,
					"parameters": {
						"name": "\"roadX\"",
						"start-index": "0",
						"end-index": "roads.TileWidth - 1"
					}
				},
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 984410203102257,
					"parameters": {
						"first-value": "LayoutName",
						"comparison": 1,
						"second-value": "\"ParkingLot\""
					}
				}
			],
			"actions": [],
			"sid": 351024438960649,
			"children": [
				{
					"eventType": "variable",
					"name": "is_corner",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 739350302117314
				},
				{
					"eventType": "variable",
					"name": "tile",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 672755650076593
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 487464862427480,
							"parameters": {
								"name": "\"roadY\"",
								"start-index": "0",
								"end-index": "roads.TileHeight - 1"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 790883135657179,
							"parameters": {
								"variable": "tile",
								"value": "roads.TileAt(loopindex(\"roadX\"), loopindex(\"roadY\"))"
							}
						},
						{
							"type": "script",
							"script": "localVars.is_corner = test_tile_for_corner(localVars.tile);"
						}
					],
					"sid": 449965397720927,
					"children": [
						{
							"eventType": "variable",
							"name": "clock_id",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 708954088014518
						},
						{
							"eventType": "variable",
							"name": "circle_id",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 583732976793383
						},
						{
							"eventType": "variable",
							"name": "pos_id",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 939000189352881
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 236106169351623,
									"parameters": {
										"variable": "is_corner"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 573489199296371,
									"parameters": {
										"object-to-create": "drift_zone",
										"layer": "0",
										"x": "roads.TileToPositionX(loopindex(\"roadX\"))",
										"y": "roads.TileToPositionY(loopindex(\"roadY\"))",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-size",
									"objectClass": "drift_zone",
									"sid": 871824712967907,
									"parameters": {
										"width": "640",
										"height": "640"
									}
								},
								{
									"type": "script",
									"script": "localVars.clock_id = map_corners_to_clock(localVars.tile);\nlocalVars.pos_id = map_corners_to_pos(localVars.tile);\nlocalVars.circle_id = map_corners_to_circle(localVars.tile);\n//alert(localVars.tile + \" \" + localVars.clock_id + \" \" + localVars.pos_id);"
								},
								{
									"id": "set-position",
									"objectClass": "drift_zone",
									"sid": 391316251541904,
									"parameters": {
										"x": "Self.X + 256 * (floor(pos_id / 2) * 2 - 1)",
										"y": "Self.Y + 256 * (pos_id % 2 * 2 - 1)"
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "drift_zone",
									"sid": 356498650141751,
									"parameters": {
										"object": "score_point",
										"layer": "drift_zone.LayerName",
										"image-point": "0",
										"create-hierarchy": false
									}
								}
							],
							"sid": 704490721663969,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-nearestfurthest",
											"objectClass": "Pole",
											"sid": 995056992694032,
											"parameters": {
												"which": "nearest",
												"x": "drift_zone.X",
												"y": "drift_zone.Y"
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "score_point",
											"sid": 925561885969706,
											"parameters": {
												"text": "Pole.TurnId"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "drift_zone",
											"sid": 118008649901243,
											"parameters": {
												"instance-variable": "TurnId",
												"value": "Pole.TurnId"
											}
										}
									],
									"sid": 569438566059668,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Pole",
													"sid": 797660412625640,
													"parameters": {
														"instance-variable": "NinetyTurns",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [],
											"sid": 799928769228238,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "Pole",
															"sid": 239188171976094,
															"parameters": {
																"instance-variable": "Clockwise"
															}
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 883281734793284,
															"parameters": {
																"object-to-create": "ideal",
																"layer": "drift_zone.LayerName",
																"x": "drift_zone.X + (clock_id % 2 = 0 ? 384 : 0) * (clock_id - 1)",
																"y": "drift_zone.Y - (clock_id % 2 = 1 ? 384: 0) * (clock_id - 2)",
																"create-hierarchy": false
															}
														},
														{
															"id": "set-position",
															"objectClass": "ideal",
															"sid": 734811305896040,
															"parameters": {
																"x": "Self.X - (clock_id % 2 = 1 ? 128: 0) * (clock_id - 2)",
																"y": "Self.Y - (clock_id % 2 = 0 ? 128: 0) * (clock_id - 1)"
															}
														}
													],
													"sid": 568870031103356
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 992956201783791
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 610819011081980,
															"parameters": {
																"object-to-create": "ideal",
																"layer": "drift_zone.LayerName",
																"x": "drift_zone.X + (clock_id % 2 = 1 ? 384: 0) * (clock_id - 2)",
																"y": "drift_zone.Y + (clock_id % 2 = 0 ? 384 : 0) * (clock_id - 1)",
																"create-hierarchy": false
															}
														},
														{
															"id": "set-position",
															"objectClass": "ideal",
															"sid": 397510667328558,
															"parameters": {
																"x": "Self.X - (clock_id % 2 = 0 ? 128: 0) * (clock_id - 1)",
																"y": "Self.Y + (clock_id % 2 = 1 ? 128: 0) * (clock_id - 2)"
															}
														}
													],
													"sid": 673705585472595
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Pole",
													"sid": 276540807430310,
													"parameters": {
														"instance-variable": "NinetyTurns",
														"comparison": 0,
														"value": "2"
													}
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 530126831284144,
													"parameters": {
														"variable": "circle_id",
														"comparison": 0,
														"value": "(4 + Pole.TurnAngle / 90 - (Pole.Clockwise ? 0 : 1)) % 4"
													}
												}
											],
											"actions": [],
											"sid": 115829462632267,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "Pole",
															"sid": 289551427142460,
															"parameters": {
																"instance-variable": "Clockwise"
															}
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 405582870082119,
															"parameters": {
																"object-to-create": "ideal",
																"layer": "drift_zone.LayerName",
																"x": "drift_zone.X - (circle_id % 2 = 0 ? 384: 0) * (circle_id  - 1)",
																"y": "drift_zone.Y - (circle_id % 2 = 1 ? 384: 0) * (circle_id - 2)",
																"create-hierarchy": false
															}
														},
														{
															"id": "set-position",
															"objectClass": "ideal",
															"sid": 293187257180977,
															"parameters": {
																"x": "Self.X - (circle_id % 2 = 1 ? 128: 0) * (circle_id- 2)",
																"y": "Self.Y + (circle_id % 2 = 0 ? 128: 0) * (circle_id - 1)"
															}
														}
													],
													"sid": 115648721937372
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 616272646397420
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 478578039402201,
															"parameters": {
																"object-to-create": "ideal",
																"layer": "drift_zone.LayerName",
																"x": "drift_zone.X + (circle_id % 2 = 1 ? 384: 0) * (circle_id - 2)",
																"y": "drift_zone.Y - (circle_id  % 2 = 0 ? 384: 0) * (circle_id - 1)",
																"create-hierarchy": false
															}
														},
														{
															"id": "set-position",
															"objectClass": "ideal",
															"sid": 524244862228735,
															"parameters": {
																"x": "Self.X + (circle_id % 2 = 0 ? 128: 0) * (circle_id - 1)",
																"y": "Self.Y + (circle_id % 2 = 1 ? 128: 0) * (circle_id - 2)"
															}
														}
													],
													"sid": 257482681231527
												}
											]
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-released",
					"objectClass": "Keyboard",
					"sid": 877449549200027,
					"parameters": {
						"key": 27
					}
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 504675617470086,
					"parameters": {
						"layout": "Menu"
					}
				}
			],
			"sid": 627027623658666
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-moving",
					"objectClass": "Car",
					"sid": 198437559846316,
					"behaviorType": "Car"
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Car",
					"sid": 895475608752531,
					"parameters": {
						"instance-variable": "Player"
					}
				}
			],
			"actions": [
				{
					"id": "set-position",
					"objectClass": "cam_follow",
					"sid": 775807865719217,
					"parameters": {
						"x": "Car.X + Car.Car.VectorX/5 * (1 - flags.Get(\"cam_center\"))",
						"y": "Car.Y + Car.Car.VectorY/3 * (1 - flags.Get(\"cam_center\"))"
					}
				}
			],
			"sid": 300078525979333,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 405866217878265,
							"parameters": {
								"instance-variable": "Flying"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 939424803421286,
					"children": [
						{
							"eventType": "variable",
							"name": "tile",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 973186133327901
						},
						{
							"eventType": "variable",
							"name": "max_speed_coef",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 207348219248468
						},
						{
							"eventType": "variable",
							"name": "accel_coef",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 281736846759456
						},
						{
							"eventType": "variable",
							"name": "decel_coef",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 803461815818588
						},
						{
							"eventType": "variable",
							"name": "steer_coef",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 541549686686634
						},
						{
							"eventType": "variable",
							"name": "recover_coef",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 165135002895130
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 354302602458649,
									"parameters": {
										"name": "\"Tires\"",
										"start-index": "1",
										"end-index": "4"
									}
								},
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 536737467376127,
									"parameters": {
										"object": "roads",
										"expression": "roads.back",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 498635059884279,
									"parameters": {
										"variable": "tile",
										"value": "roads.TileAt(roads.PositionToTileX(roads.SnapX(Car.ImagePointX(loopindex(\"Tires\")))), roads.PositionToTileY(roads.SnapY(Car.ImagePointY(loopindex(\"Tires\")))))"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 393254593496402,
									"parameters": {
										"variable": "max_speed_coef",
										"value": "0.25 * TileToConditionData.At(tile, 2)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 695123240189232,
									"parameters": {
										"variable": "accel_coef",
										"value": "0.25 * TileToConditionData.At(tile, 3)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 905230606359579,
									"parameters": {
										"variable": "decel_coef",
										"value": "0.25 * TileToConditionData.At(tile, 4)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 192150219194437,
									"parameters": {
										"variable": "steer_coef",
										"value": "0.25 * TileToConditionData.At(tile, 5)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 181054094772962,
									"parameters": {
										"variable": "recover_coef",
										"value": "0.25 * TileToConditionData.At(tile, 6)"
									}
								}
							],
							"sid": 373180261892117
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 810388146101602,
									"parameters": {
										"variable": "has_ideal_bonus"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 795613104772047,
									"parameters": {
										"variable": "max_speed_coef",
										"value": "0.3"
									}
								}
							],
							"sid": 690636128945910
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Car",
									"sid": 595920282046585,
									"parameters": {
										"instance-variable": "CarSpeed",
										"value": "Car.CarSpeedBasic * max_speed_coef"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Car",
									"sid": 414472696940060,
									"parameters": {
										"instance-variable": "CarRecover",
										"value": "Car.CarRecoverBasic* recover_coef"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Car",
									"sid": 993778345694793,
									"parameters": {
										"instance-variable": "CarDecel",
										"value": "Car.CarDecelBasic * decel_coef"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Car",
									"sid": 490884613596578,
									"parameters": {
										"instance-variable": "CarAccel",
										"value": "Car.CarAccelBasic * accel_coef"
									}
								},
								{
									"id": "set-max-speed",
									"objectClass": "Car",
									"sid": 564673117857545,
									"behaviorType": "Car",
									"parameters": {
										"max-speed": "lerp(Car.Car.MaxSpeed, Car.CarSpeed, 0.03)"
									}
								}
							],
							"sid": 932365208350420
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 128093278258356,
					"parameters": {
						"key": 90
					}
				}
			],
			"actions": [
				{
					"id": "set-layout-scale",
					"objectClass": "System",
					"sid": 947225301393814,
					"parameters": {
						"scale": "0.2"
					}
				}
			],
			"sid": 360107415566866
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 188644061277444
				}
			],
			"actions": [
				{
					"id": "set-layout-scale",
					"objectClass": "System",
					"sid": 388494476875949,
					"parameters": {
						"scale": "1.0"
					}
				}
			],
			"sid": 651468886956946
		},
		{
			"functionName": "do_timer",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": true,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "dbgtxt",
					"sid": 785447006561160,
					"parameters": {
						"text": "\"3\""
					}
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 872452996975169,
					"parameters": {
						"seconds": "0.5"
					}
				},
				{
					"id": "set-text",
					"objectClass": "dbgtxt",
					"sid": 267889157482050,
					"parameters": {
						"text": "\"2\""
					}
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 483535772376535,
					"parameters": {
						"seconds": "0.5"
					}
				},
				{
					"id": "set-text",
					"objectClass": "dbgtxt",
					"sid": 957196118643071,
					"parameters": {
						"text": "\"1\""
					}
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 274923404517836,
					"parameters": {
						"seconds": "0.5"
					}
				},
				{
					"id": "set-text",
					"objectClass": "dbgtxt",
					"sid": 498204945200149,
					"parameters": {
						"text": "\"GO!\""
					}
				},
				{
					"id": "set-object-time-scale",
					"objectClass": "System",
					"sid": 166994928725296,
					"parameters": {
						"object": "Car",
						"time-scale": "1"
					}
				},
				{
					"id": "wait",
					"objectClass": "System",
					"sid": 532145927276975,
					"parameters": {
						"seconds": "1.0"
					}
				},
				{
					"id": "set-text",
					"objectClass": "dbgtxt",
					"sid": 214023852890833,
					"parameters": {
						"text": "\"\""
					}
				}
			],
			"sid": 384147142029437
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "ondrop2",
					"objectClass": "SwipeZone",
					"sid": 556961834316291,
					"behaviorType": "BoundedDragDrop"
				}
			],
			"actions": [
				{
					"id": "set-x",
					"objectClass": "SwipeZone",
					"sid": 320306033798407,
					"parameters": {
						"x": "360"
					}
				}
			],
			"sid": 797970639144384
		},
		{
			"eventType": "variable",
			"name": "started_turn",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 134072866457235
		},
		{
			"eventType": "variable",
			"name": "motion",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 395466524120937
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "isdragging0",
					"objectClass": "SwipeZone",
					"sid": 224637147512880,
					"behaviorType": "BoundedDragDrop"
				},
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 728855437897259,
					"parameters": {
						"object": "Car",
						"expression": "Car.Player",
						"comparison": 0,
						"value": "1"
					}
				}
			],
			"actions": [
				{
					"id": "set-acceleration",
					"objectClass": "Car",
					"sid": 834079267358272,
					"disabled": true,
					"behaviorType": "Car",
					"parameters": {
						"acceleration": "lerp(Car.Car.MaxSpeed, Car.CarSpeed, 0.01)"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 275029846611404,
					"parameters": {
						"variable": "motion",
						"value": "max((motion=-Infinity?0:motion), Touch.SpeedAt(0))"
					}
				},
				{
					"id": "simulate-control",
					"objectClass": "Car",
					"sid": 419602780086858,
					"behaviorType": "Car",
					"parameters": {
						"control": "steer-right"
					}
				},
				{
					"id": "set-steer-speed",
					"objectClass": "Car",
					"sid": 352525306019118,
					"behaviorType": "Car",
					"parameters": {
						"steer-speed": "((roundToDp(ln(abs(round((SwipeZone.X - 360)*motion)))<1?1:ln(abs(round((SwipeZone.X - 360)*motion))), 3) - 7) * 25) * sign(SwipeZone.X - 360) * (-2 * flags.Get(\"controls_invert\")+ 1) * Self.SteerCoef"
					}
				},
				{
					"id": "simulate-control",
					"objectClass": "Car",
					"sid": 974626587124035,
					"behaviorType": "Car",
					"parameters": {
						"control": "brake"
					}
				}
			],
			"sid": 976155340558485,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Car",
							"sid": 755201450989210,
							"parameters": {
								"object": "Turns"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 807091328566031
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 844616734236181,
							"parameters": {
								"variable": "started_turn",
								"value": "true"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 190890533381889,
							"parameters": {
								"variable": "has_ideal_bonus",
								"value": "false"
							}
						}
					],
					"sid": 795765778019773
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "isdragging0",
					"objectClass": "SwipeZone",
					"sid": 618248043308757,
					"behaviorType": "BoundedDragDrop",
					"isInverted": true
				},
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 921002074102629,
					"parameters": {
						"object": "Car",
						"expression": "Car.Player",
						"comparison": 0,
						"value": "1"
					}
				},
				{
					"id": "pick-nth-instance",
					"objectClass": "System",
					"sid": 968574366820398,
					"parameters": {
						"object": "score_ui",
						"instance": "0"
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Car",
					"sid": 987299123425934,
					"behaviorType": "Car",
					"parameters": {
						"control": "accelerate"
					}
				}
			],
			"sid": 786882474764362,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Car",
							"sid": 778723139721719,
							"parameters": {
								"object": "Turns"
							},
							"isInverted": true
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 420469971829784,
							"parameters": {
								"variable": "started_turn"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 319990909165492,
							"parameters": {
								"variable": "LvlScore",
								"value": "1"
							}
						},
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 393912241856550,
							"parameters": {
								"text": "\"🚗\"&LvlScore"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 590172219286228,
							"parameters": {
								"variable": "started_turn",
								"value": "false"
							}
						}
					],
					"sid": 154514450761287,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Car",
									"sid": 483145893431750,
									"parameters": {
										"object": "ideal"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 680419677309938,
									"parameters": {
										"variable": "LvlScore",
										"value": "1"
									}
								},
								{
									"id": "set-text",
									"objectClass": "score_ui",
									"sid": 804371347452496,
									"parameters": {
										"text": "\"🚗\"&LvlScore"
									}
								},
								{
									"id": "set-acceleration",
									"objectClass": "Car",
									"sid": 869294514375312,
									"disabled": true,
									"behaviorType": "Car",
									"parameters": {
										"acceleration": "Car.CarSpeed + 150"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 948421499034559,
									"parameters": {
										"variable": "has_ideal_bonus",
										"value": "true"
									}
								}
							],
							"sid": 946856611291593
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "ondragstart1",
					"objectClass": "SwipeZone",
					"sid": 117434543716742,
					"behaviorType": "BoundedDragDrop"
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 623657072592813,
					"parameters": {
						"variable": "motion",
						"value": "0"
					}
				}
			],
			"sid": 252726039717465
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 664894617015813,
					"parameters": {
						"object": "Car",
						"expression": "Car.Player",
						"comparison": 0,
						"value": "1"
					}
				},
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 498958083191221
				}
			],
			"actions": [],
			"sid": 384944017700124,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-screen",
							"objectClass": "Car",
							"sid": 197624113506859
						},
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 747738164827550,
							"parameters": {
								"key": "\"cam_angle_follow\"",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-angle",
							"objectClass": "System",
							"sid": 566920042479080,
							"parameters": {
								"layer": "0",
								"angle": "Car.Angle + 90"
							}
						}
					],
					"sid": 431002357501327
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 789810842805303,
							"parameters": {
								"object": "roads",
								"expression": "roads.back",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 278691291578544,
							"parameters": {
								"text": "roads.TileAt(roads.PositionToTileX(roads.SnapX(Car.ImagePointX(1))), roads.PositionToTiley(roads.Snapy(Car.ImagePointy(1)))) "
							}
						}
					],
					"sid": 394269044133024,
					"disabled": true
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 609609898302434,
					"parameters": {
						"object": "lvl_restart"
					}
				},
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 214923739643307,
					"parameters": {
						"key": 82
					}
				}
			],
			"actions": [
				{
					"id": "restart-layout",
					"objectClass": "System",
					"sid": 683703083139792
				}
			],
			"sid": 794172737112218,
			"isOrBlock": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 606309814180509,
					"parameters": {
						"object": "pause_menu"
					}
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 758902602569689,
					"parameters": {
						"layout": "Menu"
					}
				}
			],
			"sid": 251655774174458
		},
		{
			"functionName": "PlaceTireEffects",
			"functionDescription": "",
			"functionCategory": "Car",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "for",
					"objectClass": "System",
					"sid": 287886272885324,
					"parameters": {
						"name": "\"TireImagePoints\"",
						"start-index": "1",
						"end-index": "4"
					}
				}
			],
			"actions": [
				{
					"id": "spawn-another-object",
					"objectClass": "Car",
					"sid": 326251537675877,
					"parameters": {
						"object": "Particles",
						"layer": "Car.LayerName",
						"image-point": "loopindex(\"TireImagePoints\")",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-angle",
					"objectClass": "Particles",
					"sid": 796201090403998,
					"parameters": {
						"angle": "Car.Angle - 180"
					}
				},
				{
					"id": "pin-to-object-properties",
					"objectClass": "Particles",
					"sid": 666343567353154,
					"behaviorType": "Pin",
					"parameters": {
						"pin-to": "Car",
						"x": true,
						"y": true,
						"angle": true,
						"width-type": "no",
						"height-type": "no",
						"z": false
					}
				},
				{
					"id": "set-rate",
					"objectClass": "Particles",
					"sid": 507137042452326,
					"parameters": {
						"rate": "0"
					}
				},
				{
					"id": "move-to-object",
					"objectClass": "Particles",
					"sid": 438397655445576,
					"parameters": {
						"where": "behind",
						"object": "Car"
					}
				}
			],
			"sid": 106802536567130
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Car",
					"sid": 524660324732640,
					"parameters": {
						"object": "Obstacle"
					}
				},
				{
					"id": "is-visible",
					"objectClass": "Obstacle",
					"sid": 187921159145389
				}
			],
			"actions": [
				{
					"id": "move-to-object",
					"objectClass": "Obstacle",
					"sid": 396358626848159,
					"parameters": {
						"where": "behind",
						"object": "Car"
					}
				}
			],
			"sid": 536250306048691,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 186013669087458,
							"parameters": {
								"instance-variable": "Player"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 832701944786509,
							"parameters": {
								"instance-variable": "Flying"
							},
							"isInverted": true
						},
						{
							"id": "is-flashing",
							"objectClass": "Car",
							"sid": 897244025282699,
							"behaviorType": "Flash",
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 166737194605203,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 767155686734252,
									"parameters": {
										"variable": "Lives",
										"comparison": 4,
										"value": "0"
									}
								},
								{
									"id": "pick-nth-instance",
									"objectClass": "System",
									"sid": 130350709203921,
									"parameters": {
										"object": "score_ui",
										"instance": "2"
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 980933785660310,
									"parameters": {
										"variable": "Lives",
										"value": "1"
									}
								},
								{
									"id": "set-text",
									"objectClass": "score_ui",
									"sid": 283340651848888,
									"parameters": {
										"text": "Lives&\"❤\""
									}
								},
								{
									"id": "flash",
									"objectClass": "Car",
									"sid": 124282884408575,
									"behaviorType": "Flash",
									"parameters": {
										"on-time": "0.1",
										"off-time": "0.1",
										"duration": "2"
									}
								}
							],
							"sid": 115197210711788
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 225924399049311
								}
							],
							"actions": [
								{
									"callFunction": "GameOver",
									"sid": 174546681566570
								}
							],
							"sid": 933664914530983
						}
					]
				}
			]
		},
		{
			"eventType": "variable",
			"name": "bonus_points",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 964462098444223
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Car",
					"sid": 219797985910387,
					"parameters": {
						"object": "Bonus"
					}
				},
				{
					"id": "is-visible",
					"objectClass": "Bonus",
					"sid": 158630039676986
				}
			],
			"actions": [],
			"sid": 746870235743867,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 465857910762751,
							"parameters": {
								"instance-variable": "Player"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 166757990896237,
							"parameters": {
								"variable": "bonus_points",
								"value": "1"
							}
						}
					],
					"sid": 927283055220444,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Bonus",
									"sid": 991598338553719,
									"parameters": {
										"instance-variable": "Moving"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 901374768091185,
									"parameters": {
										"variable": "bonus_points",
										"value": "1"
									}
								}
							],
							"sid": 984672844511339
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 335004969839580
						},
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 511602695483053,
							"parameters": {
								"object": "score_ui",
								"instance": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 298021469571673,
							"parameters": {
								"text": "\"👛\"&bonus_points"
							}
						},
						{
							"id": "destroy",
							"objectClass": "Bonus",
							"sid": 551724869833101
						}
					],
					"sid": 505321115962545
				}
			]
		},
		{
			"functionName": "GameOver",
			"functionDescription": "",
			"functionCategory": "Level",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "Car",
					"sid": 199845335588837
				},
				{
					"id": "alert",
					"objectClass": "Browser",
					"sid": 895548545048312,
					"parameters": {
						"message": "\"Хорошая была попытка! Нажми [R] для перезапуска или [ESC] для выхода в меню\""
					}
				}
			],
			"sid": 697708918401467
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Replays",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 447851251919444,
							"parameters": {
								"key": 84
							}
						}
					],
					"actions": [
						{
							"callFunction": "PlayRecording",
							"sid": 730292119384132
						}
					],
					"sid": 870157689291548
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onhitanypoint2",
							"objectClass": "Car",
							"sid": 382031192931229,
							"behaviorType": "Spline"
						}
					],
					"actions": [
						{
							"id": "setspeed51",
							"objectClass": "Car",
							"sid": 131384572952787,
							"behaviorType": "Spline",
							"parameters": {
								"speed0": "Recording.At(Car.Spline.CurSegP0, 4) = 0 ? 1 : Recording.At(Car.Spline.CurSegP0, 4)"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "Car",
							"sid": 107643455293602,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"replay_angle\"",
								"property": "offsetAngle",
								"end-value": "Recording.At(Car.Spline.CurSegP0, 2)",
								"time": "0.02",
								"ease": "noease",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 584676043645333
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onhittarget0",
							"objectClass": "Car",
							"sid": 958627202619030,
							"behaviorType": "Spline"
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Car",
							"sid": 588641582663336,
							"behaviorType": "Car",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 573268431675794,
							"parameters": {
								"instance-variable": "Recording",
								"value": "true"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Car",
							"sid": 606476196266486,
							"behaviorType": "Car",
							"parameters": {
								"speed": "Recording.At(Recording.Width - 1, 4)"
							}
						},
						{
							"id": "set-steer-speed",
							"objectClass": "Car",
							"sid": 854603968257718,
							"behaviorType": "Car",
							"parameters": {
								"steer-speed": "Recording.At(Recording.Width - 1, 5)"
							}
						}
					],
					"sid": 639716565281624
				},
				{
					"functionName": "PlayRecording",
					"functionDescription": "",
					"functionCategory": "Replay",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 907121905690319,
							"parameters": {
								"object": "Obstacle"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Car",
							"sid": 246128900534997,
							"behaviorType": "Car",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 487642576402156,
							"parameters": {
								"instance-variable": "Recording",
								"value": "false"
							}
						},
						{
							"id": "set-position",
							"objectClass": "Car",
							"sid": 422055562618172,
							"parameters": {
								"x": "Recording.At(0, 0)",
								"y": "Recording.At(0, 1)"
							}
						},
						{
							"id": "setenabled0",
							"objectClass": "Car",
							"sid": 841204561145028,
							"behaviorType": "Spline",
							"parameters": {
								"state2": "enabled"
							}
						},
						{
							"id": "cleanall4",
							"objectClass": "Car",
							"sid": 273609349252002,
							"behaviorType": "Spline"
						},
						{
							"id": "set-cycle-position",
							"objectClass": "Obstacle",
							"sid": 448389740968947,
							"behaviorType": "Sine",
							"parameters": {
								"cycle-position": "0"
							}
						}
					],
					"sid": 891195249981982,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 166024283259343,
									"parameters": {
										"name": "\"replay\"",
										"start-index": "0",
										"end-index": "Recording.Width - 1"
									}
								}
							],
							"actions": [
								{
									"id": "addpoint2",
									"objectClass": "Car",
									"sid": 901708778228190,
									"behaviorType": "Spline",
									"parameters": {
										"x0": "Recording.At(loopindex(\"replay\"), 0)",
										"y1": "Recording.At(loopindex(\"replay\"), 1)"
									}
								}
							],
							"sid": 572772502474361
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 817980754285257
								}
							],
							"actions": [
								{
									"id": "start11",
									"objectClass": "Car",
									"sid": 642078631394312,
									"behaviorType": "Spline"
								}
							],
							"sid": 390177435553625
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 267982475009382,
							"parameters": {
								"instance-variable": "Recording"
							}
						},
						{
							"id": "is-moving",
							"objectClass": "Car",
							"sid": 158309927404821,
							"behaviorType": "Car"
						},
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 656239895415409,
							"parameters": {
								"interval-seconds": "0.02"
							}
						}
					],
					"actions": [
						{
							"id": "push",
							"objectClass": "Recording",
							"sid": 874244107824949,
							"parameters": {
								"where": "back",
								"value": "0",
								"axis": "x"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 752438450721513,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "0",
								"value": "Car.X"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 560568263120212,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "1",
								"value": "Car.Y"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 607558351164766,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "2",
								"value": "Car.Angle"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 546437086308440,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "3",
								"value": "has_ideal_bonus"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 335655302737923,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "4",
								"value": "Car.Car.Speed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 672518735215222,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "5",
								"value": "Car.Car.SteerSpeed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 910023302307317,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "6",
								"value": "Car.Car.MaxSpeed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 588659555988874,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "7",
								"value": "Car.Car.Acceleration"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 594663994733942,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "8",
								"value": "Car.Car.Deceleration"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 734743721305741,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "9",
								"value": "Car.Car.DriftRecover"
							}
						}
					],
					"sid": 681221152113267
				}
			],
			"sid": 805120578053349
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 269785703807415,
					"parameters": {
						"object": "JumpBut"
					}
				},
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 712624905879571,
					"parameters": {
						"key": 32
					}
				}
			],
			"actions": [],
			"sid": 227509214276849,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 540460365312664,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 990709633037269,
							"parameters": {
								"instance-variable": "Flying"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 132366776272729,
							"parameters": {
								"instance-variable": "Flying",
								"value": "true"
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "Car",
							"sid": 987102020579676,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"jumpUp\"",
								"property": "scale",
								"end-x": "1.5",
								"end-y": "1.5",
								"time": "0.5",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 291735417048473
						},
						{
							"id": "tween-two-properties",
							"objectClass": "Car",
							"sid": 233741630407052,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"jumpDown\"",
								"property": "scale",
								"end-x": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\r\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25",
								"end-y": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\r\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25",
								"time": "0.5",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 408577990524836
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 501500217997459,
							"parameters": {
								"instance-variable": "Flying",
								"value": "false"
							}
						}
					],
					"sid": 190762254596948
				}
			],
			"isOrBlock": true
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Find collision points",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Toggle frame variable, so 0 ->1, 1 ->0"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "car_edge_collision",
							"sid": 157436948294115,
							"parameters": {
								"object": "Obstacle"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "Obstacle",
							"sid": 979177918711675
						},
						{
							"id": "pick-parent",
							"objectClass": "car_edge_collision",
							"sid": 521469503171737,
							"parameters": {
								"parent": "Car",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Car",
							"sid": 375430016305216,
							"parameters": {
								"instance-variable": "second_frame",
								"value": "1 - Self.second_frame"
							}
						}
					],
					"sid": 708394970639735,
					"children": [
						{
							"eventType": "comment",
							"text": "This condition added to decrease CPU utilization - every 2nd frame will be skipped"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Car",
									"sid": 261099388306599,
									"parameters": {
										"instance-variable": "second_frame",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "let obs = runtime.objects.Obstacle.getFirstPickedInstance();\nlet car = runtime.objects.car_edge_collision.getFirstPickedInstance();\nlet collisions = sprite_collision_points(car.uid, obs.uid, 5, runtime);\nfor (let [x, y] of collisions) {\n\tif (Math.random() * runtime.objects.EdgeSparks.getAllInstances().length < 4) {\n\t\tlet new_spark = runtime.objects.EdgeSparks.createInstance(\"Level\", x, y, false);\n\t\tnew_spark.angleDegrees = car.angleDegrees - 180;\n\t}\n}"
								}
							],
							"sid": 468478530275154
						}
					]
				}
			],
			"sid": 584124331413418
		},
		{
			"functionName": "CreateAI_Car",
			"functionDescription": "Make a Car instance become controlled by AI",
			"functionCategory": "AI",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "Car_UID",
					"type": "number",
					"initialValue": "0",
					"comment": "UID of a Car you want to make into AI-controlled",
					"sid": 112893805088891
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Car",
					"sid": 230932791543545,
					"parameters": {
						"unique-id": "Car_UID"
					}
				},
				{
					"id": "pick-nth-child",
					"objectClass": "Car",
					"sid": 451454440565153,
					"parameters": {
						"child": "car_edge_collision",
						"instance": "0"
					}
				},
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 825674507571603,
					"parameters": {
						"object": "checkpoint",
						"expression": "checkpoint.checkpointID",
						"comparison": 0,
						"value": "car_edge_collision.ToCheckpoint"
					}
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Car",
					"sid": 335435751353563,
					"parameters": {
						"instance-variable": "Player",
						"value": "false"
					}
				},
				{
					"id": "add-obstacle",
					"objectClass": "car_edge_collision",
					"sid": 914354732391188,
					"disabled": true,
					"behaviorType": "Pathfinding",
					"parameters": {
						"obstacle": "Obstacle"
					}
				},
				{
					"id": "regenerate-obstacle-map",
					"objectClass": "car_edge_collision",
					"sid": 729808310149689,
					"behaviorType": "Pathfinding"
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 357333968344994
				},
				{
					"id": "find-path",
					"objectClass": "car_edge_collision",
					"sid": 971340494764819,
					"behaviorType": "Pathfinding",
					"parameters": {
						"x": "checkpoint.X",
						"y": "checkpoint.Y"
					}
				}
			],
			"sid": 905569708946634
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-path-found",
					"objectClass": "car_edge_collision",
					"sid": 696535696859408,
					"behaviorType": "Pathfinding"
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "car_edge_collision",
					"sid": 940313426951422,
					"parameters": {
						"instance-variable": "AtNode",
						"value": "0"
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "car_edge_collision",
					"sid": 295438428633790,
					"parameters": {
						"instance-variable": "Moving",
						"value": "true"
					}
				}
			],
			"sid": 367065114867834,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 784231214596933,
							"parameters": {
								"name": "\"pathNodes\"",
								"start-index": "0",
								"end-index": "car_edge_collision.Pathfinding.NodeCount - 1"
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 632047749924487,
							"parameters": {
								"object-to-create": "Bonus",
								"layer": "\"Level\"",
								"x": "car_edge_collision.Pathfinding.NodeXAt(loopindex(\"pathNodes\"))",
								"y": "car_edge_collision.Pathfinding.NodeYAt(loopindex(\"pathNodes\"))",
								"create-hierarchy": false
							}
						},
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 719237700740467,
							"parameters": {
								"message": "car_edge_collision.Pathfinding.NodeXAt(loopindex(\"pathNodes\"))&\" \"&car_edge_collision.Pathfinding.NodeYAt(loopindex(\"pathNodes\"))"
							}
						}
					],
					"sid": 467388577273684,
					"disabled": true
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 701396298537208
				},
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 977239044415790,
					"parameters": {
						"object": "car_edge_collision"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "car_edge_collision",
					"sid": 313687415503989,
					"parameters": {
						"instance-variable": "Moving"
					}
				},
				{
					"id": "pick-parent",
					"objectClass": "car_edge_collision",
					"sid": 113677709454645,
					"parameters": {
						"parent": "Car",
						"which": "own"
					}
				}
			],
			"actions": [],
			"sid": 620645567089676,
			"children": [
				{
					"eventType": "variable",
					"name": "close_enough",
					"type": "number",
					"initialValue": "200",
					"comment": "",
					"isStatic": false,
					"isConstant": true,
					"sid": 317935231341300
				},
				{
					"eventType": "variable",
					"name": "AngleToNode",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 651976096125323
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "dbgtxt",
							"sid": 406683999516052,
							"parameters": {
								"text": "roundToDp(AngleToNode, 2)&\" \"&roundToDp(Car.Angle, 2)"
							}
						}
					],
					"sid": 942999338430740,
					"disabled": true
				},
				{
					"eventType": "comment",
					"text": "If we are close to a pathfinding node"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 235142601020433,
							"parameters": {
								"first-value": "distance(\ncar_edge_collision.Pathfinding.NodeXAt(car_edge_collision.AtNode), car_edge_collision.Pathfinding.NodeYAt(car_edge_collision.AtNode), \nCar.X, Car.Y)",
								"comparison": 3,
								"second-value": "close_enough"
							}
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 685905850719177,
							"disabled": true,
							"parameters": {
								"message": "\"close enough\""
							}
						}
					],
					"sid": 963740471694123,
					"children": [
						{
							"eventType": "comment",
							"text": "Arrived at a checkpoint"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "car_edge_collision",
									"sid": 428749502276704,
									"parameters": {
										"instance-variable": "AtNode",
										"comparison": 0,
										"value": "car_edge_collision.Pathfinding.NodeCount - 1"
									}
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 416734082798274
								}
							],
							"actions": [
								{
									"id": "stop",
									"objectClass": "Car",
									"sid": 252765642422346,
									"disabled": true,
									"behaviorType": "Car"
								},
								{
									"id": "add-to-instvar",
									"objectClass": "car_edge_collision",
									"sid": 743671081801229,
									"parameters": {
										"instance-variable": "ToCheckpoint",
										"value": "1"
									}
								}
							],
							"sid": 690525961632581,
							"children": [
								{
									"eventType": "comment",
									"text": "Now we have to select the next checkpoint to move to"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 277464756466408,
											"parameters": {
												"object": "drift_zone",
												"expression": "drift_zone.TurnId",
												"comparison": 0,
												"value": "car_edge_collision.ToCheckpoint"
											}
										},
										{
											"id": "pick-nearestfurthest",
											"objectClass": "drift_zone",
											"sid": 725281424303926,
											"parameters": {
												"which": "nearest",
												"x": "Car.X",
												"y": "Car.Y"
											}
										}
									],
									"actions": [
										{
											"id": "find-path",
											"objectClass": "car_edge_collision",
											"sid": 484182056334174,
											"behaviorType": "Pathfinding",
											"parameters": {
												"x": "drift_zone.X",
												"y": "drift_zone.Y"
											}
										}
									],
									"sid": 461778877714722
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 225273208047579
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "car_edge_collision",
											"sid": 739590647118721,
											"parameters": {
												"instance-variable": "ToCheckpoint",
												"value": "0"
											}
										}
									],
									"sid": 435138291336374,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 569831407235827,
													"parameters": {
														"object": "checkpoint",
														"expression": "checkpoint.checkpointID",
														"comparison": 0,
														"value": "car_edge_collision.ToCheckpoint"
													}
												}
											],
											"actions": [
												{
													"id": "find-path",
													"objectClass": "car_edge_collision",
													"sid": 328096044145540,
													"behaviorType": "Pathfinding",
													"parameters": {
														"x": "checkpoint.X",
														"y": "checkpoint.Y"
													}
												}
											],
											"sid": 730803530558238
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Still moving to checkpoint"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 226014282826673
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "car_edge_collision",
									"sid": 840037707327035,
									"parameters": {
										"instance-variable": "AtNode",
										"value": "1"
									}
								}
							],
							"sid": 307417413811969
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Moving to a Node"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 467833924261511
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 938606726226052,
							"disabled": true,
							"parameters": {
								"message": "\"far enough\""
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 721029437790111,
							"parameters": {
								"variable": "AngleToNode",
								"value": "angle(\r\ncar_edge_collision.Pathfinding.NodeXAt(car_edge_collision.AtNode), car_edge_collision.Pathfinding.NodeYAt(car_edge_collision.AtNode), \r\nCar.X, Car.Y) + 180"
							}
						}
					],
					"sid": 449369559439635,
					"children": [
						{
							"eventType": "comment",
							"text": "Check if faced correctly"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 963115445329630,
									"parameters": {
										"first-value": "anglediff(Car.Car.MovingAngle, AngleToNode)",
										"comparison": 3,
										"second-value": "10"
									}
								}
							],
							"actions": [
								{
									"id": "alert",
									"objectClass": "Browser",
									"sid": 676440761204147,
									"disabled": true,
									"parameters": {
										"message": "\"accel\""
									}
								},
								{
									"id": "simulate-control",
									"objectClass": "Car",
									"sid": 773208914383681,
									"behaviorType": "Car",
									"parameters": {
										"control": "accelerate"
									}
								}
							],
							"sid": 551028510722647
						},
						{
							"eventType": "comment",
							"text": "Turn if faced the wrong way"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 161835941826189
								}
							],
							"actions": [],
							"sid": 771895235373025,
							"children": [
								{
									"eventType": "comment",
									"text": "Turn left"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 468885909574891,
											"parameters": {
												"angle": "AngleToNode - Car.Angle",
												"first-angle": "0",
												"second-angle": "180"
											}
										}
									],
									"actions": [
										{
											"id": "alert",
											"objectClass": "Browser",
											"sid": 472419584713454,
											"disabled": true,
											"parameters": {
												"message": "\"left\""
											}
										},
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 869483351876050,
											"behaviorType": "Car",
											"parameters": {
												"control": "steer-left"
											}
										},
										{
											"id": "set-steer-speed",
											"objectClass": "Car",
											"sid": 487832833919917,
											"behaviorType": "Car",
											"parameters": {
												"steer-speed": "Car.Angle - AngleToNode - 120"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "Car",
											"sid": 254825765575761,
											"behaviorType": "Car",
											"parameters": {
												"speed": "Car.Car.Speed - Car.Car.Deceleration / fps"
											}
										},
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 734605664316173,
											"disabled": true,
											"behaviorType": "Car",
											"parameters": {
												"control": "brake"
											}
										}
									],
									"sid": 738486232239876
								},
								{
									"eventType": "comment",
									"text": "Turn right"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 988832986180242
										}
									],
									"actions": [
										{
											"id": "alert",
											"objectClass": "Browser",
											"sid": 129160693687990,
											"disabled": true,
											"parameters": {
												"message": "\"right\""
											}
										},
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 697142911077538,
											"disabled": true,
											"behaviorType": "Car",
											"parameters": {
												"control": "brake"
											}
										},
										{
											"id": "set-steer-speed",
											"objectClass": "Car",
											"sid": 749612599446739,
											"behaviorType": "Car",
											"parameters": {
												"steer-speed": "(AngleToNode - Car.Angle > 0 ? Car.Angle - AngleToNode + 180 : AngleToNode - Car.Angle) - 120"
											}
										},
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 596726647623428,
											"behaviorType": "Car",
											"parameters": {
												"control": "steer-right"
											}
										}
									],
									"sid": 767270865763679
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Car",
					"sid": 153557126244204,
					"parameters": {
						"object": "checkpoint"
					}
				}
			],
			"actions": [
				{
					"id": "move-to-object",
					"objectClass": "checkpoint",
					"sid": 297182450140916,
					"parameters": {
						"where": "behind",
						"object": "Car"
					}
				}
			],
			"sid": 497384907170441
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-size",
					"objectClass": "Collisions",
					"sid": 571050668844004,
					"parameters": {
						"axis": "x",
						"comparison": 4,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-size",
					"objectClass": "Collisions",
					"sid": 256589165377642,
					"parameters": {
						"width": "0",
						"height": "1",
						"depth": "1"
					}
				}
			],
			"sid": 600886507833377
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "car_edge_collision",
					"sid": 687634114978166,
					"parameters": {
						"object": "Car"
					}
				}
			],
			"actions": [],
			"sid": 563791324150416,
			"disabled": true,
			"children": [
				{
					"eventType": "variable",
					"name": "vy2",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 271433681357505
				},
				{
					"eventType": "variable",
					"name": "vy1",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 557506337549589
				},
				{
					"eventType": "variable",
					"name": "vx2",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 364517406309987
				},
				{
					"eventType": "variable",
					"name": "vx1",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 213761429010460
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 518535227142638,
							"parameters": {
								"object": "Car",
								"expression": "Car.UID",
								"comparison": 1,
								"value": "car_edge_collision.AttachedToCarUID"
							}
						},
						{
							"id": "contains-value",
							"objectClass": "Collisions",
							"sid": 286319406843099,
							"parameters": {
								"value": "Car.UID"
							},
							"isInverted": true
						},
						{
							"id": "contains-value",
							"objectClass": "Collisions",
							"sid": 607211231362405,
							"parameters": {
								"value": "car_edge_collision.AttachedToCarUID"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 991925828423811,
							"disabled": true,
							"parameters": {
								"message": "\"it's time!\""
							}
						},
						{
							"id": "push",
							"objectClass": "Collisions",
							"sid": 514584685779167,
							"parameters": {
								"where": "back",
								"value": "car_edge_collision.AttachedToCarUID",
								"axis": "x"
							}
						},
						{
							"id": "push",
							"objectClass": "Collisions",
							"sid": 816073773603735,
							"parameters": {
								"where": "back",
								"value": "Car.UID",
								"axis": "x"
							}
						},
						{
							"type": "script",
							"script": "let picked_car = runtime.objects.Car.getFirstPickedInstance();\nlet picked_collision = runtime.objects.car_edge_collision.getFirstPickedInstance();\n[localVars.vx1, localVars.vy1, localVars.vx2, localVars.vy2] = car_collision_resolution(picked_collision.instVars.AttachedToCarUID, picked_car.uid, runtime);"
						},
						{
							"id": "set-vector",
							"objectClass": "Car",
							"sid": 442422514113714,
							"behaviorType": "Car",
							"parameters": {
								"x": "vx1",
								"y": "vy1"
							}
						}
					],
					"sid": 289137810677402,
					"disabled": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "Car",
									"sid": 308881549138169,
									"parameters": {
										"unique-id": "car_edge_collision.AttachedToCarUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-vector",
									"objectClass": "Car",
									"sid": 104718559177934,
									"behaviorType": "Car",
									"parameters": {
										"x": "vx2",
										"y": "vy2"
									}
								}
							],
							"sid": 270300937453745,
							"disabled": true
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-parent",
							"objectClass": "car_edge_collision",
							"sid": 485607942456509,
							"parameters": {
								"parent": "Car",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 680831593990607,
							"parameters": {
								"instance-variable": "Collided",
								"value": "true"
							}
						}
					],
					"sid": 951967490815459,
					"disabled": true
				}
			]
		}
	],
	"sid": 528873411861220
}