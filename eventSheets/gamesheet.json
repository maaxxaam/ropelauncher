{
	"name": "GameSheet",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "EnemyAI"
		},
		{
			"eventType": "variable",
			"name": "Rewinding",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 519268204850706
		},
		{
			"eventType": "variable",
			"name": "RaceLaps",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 397961711230499
		},
		{
			"eventType": "variable",
			"name": "RaceEnded",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 121909620870431
		},
		{
			"eventType": "variable",
			"name": "RaceStarted",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 798869248164890
		},
		{
			"eventType": "variable",
			"name": "AdsDisabled",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 524580793711449
		},
		{
			"eventType": "variable",
			"name": "Lives",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 813717106884652
		},
		{
			"eventType": "variable",
			"name": "Speed",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 408447452104862
		},
		{
			"eventType": "variable",
			"name": "NitroState",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 956288723818787
		},
		{
			"eventType": "variable",
			"name": "NitroCharge",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 818865361385580
		},
		{
			"eventType": "variable",
			"name": "LvlScore",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 264636612934621
		},
		{
			"eventType": "variable",
			"name": "DesAngle",
			"type": "number",
			"initialValue": "270",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 854686913018689
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 157482633919241
				}
			],
			"actions": [
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 849047528710623,
					"parameters": {
						"name": "\"destruction\"",
						"string": "\"CarDamage\"",
						"function": "CarDamage"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 455288996174975,
					"parameters": {
						"name": "\"destruction\"",
						"string": "\"ObstacleDamage\"",
						"function": "ObstacleDamage"
					}
				},
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 457275661211614,
					"parameters": {
						"variable": "RaceStarted",
						"value": "false"
					}
				},
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 413331067832303,
					"parameters": {
						"variable": "RaceEnded",
						"value": "false"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 117795634144181,
					"parameters": {
						"variable": "RaceLaps",
						"value": "flags.Get(\"difficulty_laps\")"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 653482658606803,
					"parameters": {
						"variable": "NitroCharge",
						"value": "0"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 608085690447967,
					"parameters": {
						"variable": "NitroState",
						"value": "0"
					}
				},
				{
					"callFunction": "NitroChanged",
					"sid": 891336781107510
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 672535164683277,
					"parameters": {
						"variable": "Lives",
						"value": "flags.Get(\"difficulty_lives\")"
					}
				},
				{
					"id": "regenerate-obstacle-map",
					"objectClass": "car_edge_collision",
					"sid": 567998723866645,
					"disabled": true,
					"behaviorType": "Pathfinding"
				},
				{
					"callFunction": "PlaceDriftZones",
					"sid": 256532380267772,
					"disabled": true
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 422176973640270,
					"disabled": true
				},
				{
					"callFunction": "PlaceCars",
					"sid": 222769547797731
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 450421481292698
				},
				{
					"callFunction": "RocketsChanged",
					"sid": 135117705470742
				},
				{
					"callFunction": "PlaceTireEffects",
					"sid": 599696852187898
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 160266776133250,
					"disabled": true
				},
				{
					"callFunction": "do_timer",
					"sid": 162916691352975
				},
				{
					"id": "move-to-object",
					"objectClass": "LevelLight",
					"sid": 748838774466109,
					"parameters": {
						"where": "in-front",
						"object": "Car"
					}
				}
			],
			"sid": 515440288879850,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 863626839444245,
							"parameters": {
								"object": "scenery"
							}
						}
					],
					"actions": [],
					"sid": 275767945633297,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "scenery",
									"sid": 753853388333397,
									"parameters": {
										"animation": "\"Tree2\""
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "scenery",
									"sid": 699474411523154,
									"parameters": {
										"animation": "\"Tree1\""
									}
								}
							],
							"actions": [
								{
									"id": "set-angle",
									"objectClass": "scenery",
									"sid": 181133331728695,
									"parameters": {
										"angle": "random(0, 360)"
									}
								}
							],
							"sid": 828365848589729,
							"isOrBlock": true
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Turn off moving obstacles if they are disabled"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 478747386383941,
							"parameters": {
								"object": "Obstacle",
								"expression": "Obstacle.Moving",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [],
					"sid": 499641763662359,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-value",
									"objectClass": "flags",
									"sid": 447137473222525,
									"parameters": {
										"key": "\"obstacles_dynamic_enabled\"",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Obstacle",
									"sid": 264788568154962,
									"parameters": {
										"instance-variable": "Moving",
										"value": "false"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Obstacle",
									"sid": 671225531907116,
									"parameters": {
										"animation": "\"rock\"&choose(\"1\", \"2\", \"3\")",
										"from": "beginning"
									}
								}
							],
							"sid": 498036860872335
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 383253697425476
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "Obstacle",
									"sid": 171149453422169,
									"behaviorType": "Sine",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 197732819968811
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Hide static obstacles if they are disabled"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 926003344190119,
							"parameters": {
								"key": "\"obstacles_static_enabled\"",
								"comparison": 0,
								"value": "0"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 174780462532516,
							"parameters": {
								"object": "Obstacle",
								"expression": "Obstacle.Moving",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Obstacle",
							"sid": 421158355766519
						},
						{
							"id": "regenerate-obstacle-map",
							"objectClass": "car_edge_collision",
							"sid": 331459845722029,
							"behaviorType": "Pathfinding"
						}
					],
					"sid": 607538592892213
				},
				{
					"eventType": "comment",
					"text": "Turn moving bonuses into static if they are disabled"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 613750456156920,
							"parameters": {
								"key": "\"bonuses_rockets_enabled\"",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [],
					"sid": 965767737321887,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 810097910379749,
									"parameters": {
										"object": "Bonus",
										"expression": "Bonus.AnimationName",
										"comparison": 0,
										"value": "\"Rocket\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Bonus",
									"sid": 931473539006948,
									"parameters": {
										"instance-variable": "Moving",
										"value": "false"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Bonus",
									"sid": 927528614282927,
									"parameters": {
										"animation": "\"Nitro\"",
										"from": "beginning"
									}
								}
							],
							"sid": 520919525920556
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 966771964488045
						}
					],
					"actions": [],
					"sid": 441644156030615,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 768428732395293,
									"parameters": {
										"object": "Bonus",
										"expression": "Bonus.Moving",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "Bonus",
									"sid": 472452379195856,
									"behaviorType": "Sine",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 102696978986324
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Hide static bonuses if they are disabled"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 856741261432126,
							"parameters": {
								"key": "\"bonuses_nitro_enabled\"",
								"comparison": 0,
								"value": "0"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 164764702701021,
							"parameters": {
								"object": "Bonus",
								"expression": "Bonus.Moving",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Bonus",
							"sid": 914371191052290
						}
					],
					"sid": 606589347167187
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 439556661012432,
							"parameters": {
								"object": "score_ui",
								"instance": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 533755586127328,
							"parameters": {
								"text": "lives&\"❤\""
							}
						}
					],
					"sid": 632762003142762
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 922058109634750,
							"parameters": {
								"key": "\"controls_scheme\"",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "SwipeZone",
							"sid": 719797038330725
						}
					],
					"sid": 979768128826583
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 987746397262003
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Wheel",
							"sid": 739756318324340
						},
						{
							"id": "destroy",
							"objectClass": "AccelBut",
							"sid": 924776688248257
						},
						{
							"id": "destroy",
							"objectClass": "DecelBut",
							"sid": 153204840588619
						}
					],
					"sid": 330459291627549
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 980742843819439,
					"parameters": {
						"object": "roads",
						"expression": "roads.back",
						"comparison": 0,
						"value": "0"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Car",
					"sid": 377815285178596,
					"parameters": {
						"object": "roads"
					},
					"isInverted": true
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Car",
					"sid": 904803748240610,
					"parameters": {
						"instance-variable": "Player"
					}
				}
			],
			"actions": [
				{
					"callFunction": "GameOver",
					"sid": 789709497906417
				}
			],
			"sid": 412178629026609
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 725598072013512,
					"parameters": {
						"variable": "RaceStarted"
					},
					"isInverted": true
				},
				{
					"id": "pick-all",
					"objectClass": "System",
					"sid": 717286730691064,
					"parameters": {
						"object": "Car"
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Car",
					"sid": 214996296527328,
					"behaviorType": "Car",
					"parameters": {
						"control": "accelerate"
					}
				}
			],
			"sid": 213140790677711
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Car Mechanics",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Check whether to apply smoke and tire effect"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 412658354194635,
							"parameters": {
								"object": "Car"
							}
						}
					],
					"actions": [],
					"sid": 363656440748708,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-enabled",
									"objectClass": "Car",
									"sid": 585484980977441,
									"behaviorType": "Car"
								},
								{
									"id": "is-moving",
									"objectClass": "Car",
									"sid": 876938573893378,
									"behaviorType": "Car"
								},
								{
									"id": "is-within-angle",
									"objectClass": "System",
									"sid": 430480944126266,
									"parameters": {
										"angle-1": "Car.Angle",
										"within": "7",
										"angle-2": "Car.Car.MovingAngle"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 548829048720064,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Car",
											"sid": 507358370859573,
											"parameters": {
												"instance-variable": "Drifting"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Car",
											"sid": 634563907155103,
											"parameters": {
												"instance-variable": "Drifting",
												"value": "true"
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "Car",
											"sid": 677482191133322,
											"parameters": {
												"object": "DriftMarks",
												"layer": "Car.LayerName",
												"image-point": "1",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Car",
											"sid": 989741116415005,
											"parameters": {
												"instance-variable": "TrailLeft",
												"value": "DriftMarks.IID"
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "Car",
											"sid": 918824804993798,
											"parameters": {
												"object": "DriftMarks",
												"layer": "Car.LayerName",
												"image-point": "2",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Car",
											"sid": 116348120184973,
											"parameters": {
												"instance-variable": "TrailRight",
												"value": "DriftMarks.IID"
											}
										}
									],
									"sid": 551879497810265,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-children",
													"objectClass": "Car",
													"sid": 481515499128960,
													"parameters": {
														"child": "Particles",
														"which": "own"
													}
												}
											],
											"actions": [
												{
													"id": "set-rate",
													"objectClass": "Particles",
													"sid": 713822917614771,
													"parameters": {
														"rate": "100"
													}
												}
											],
											"sid": 363560143587717
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 697728666376905
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Car",
									"sid": 925930941784153,
									"parameters": {
										"instance-variable": "Drifting",
										"value": "false"
									}
								}
							],
							"sid": 766017055587381,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-children",
											"objectClass": "Car",
											"sid": 268583865725255,
											"parameters": {
												"child": "Particles",
												"which": "own"
											}
										}
									],
									"actions": [
										{
											"id": "set-rate",
											"objectClass": "Particles",
											"sid": 693379592591973,
											"parameters": {
												"rate": "0"
											}
										}
									],
									"sid": 522718001379428
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Apply smoke and tire effect when needed"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 298003469467587,
									"parameters": {
										"instance-variable": "Drifting"
									}
								}
							],
							"actions": [],
							"sid": 946437064654798,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-nth-instance",
											"objectClass": "System",
											"sid": 483719405731409,
											"parameters": {
												"object": "DriftMarks",
												"instance": "Car.TrailLeft"
											}
										}
									],
									"actions": [
										{
											"id": "push-point",
											"objectClass": "DriftMarks",
											"sid": 822870033205089,
											"behaviorType": "TrailRenderer",
											"parameters": {
												"x": "Car.ImagePointX(1)",
												"y": "Car.ImagePointY(1)",
												"angle": "0",
												"angle-towards-new-position": true
											}
										}
									],
									"sid": 918997693990784
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-nth-instance",
											"objectClass": "System",
											"sid": 362221260488486,
											"parameters": {
												"object": "DriftMarks",
												"instance": "Car.TrailRight"
											}
										}
									],
									"actions": [
										{
											"id": "push-point",
											"objectClass": "DriftMarks",
											"sid": 467670404572209,
											"behaviorType": "TrailRenderer",
											"parameters": {
												"x": "Car.ImagePointX(2)",
												"y": "Car.ImagePointY(2)",
												"angle": "0",
												"angle-towards-new-position": true
											}
										}
									],
									"sid": 359121604026060
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 495325693973706,
							"parameters": {
								"object": "JumpBut"
							}
						},
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 845605766865841,
							"parameters": {
								"key": 32
							}
						}
					],
					"actions": [],
					"sid": 786241823756579,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 360238242859564,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 699737363963954,
									"parameters": {
										"instance-variable": "Flying"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Car",
									"sid": 986196352161118,
									"parameters": {
										"instance-variable": "Flying",
										"value": "true"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "Car",
									"sid": 520323209109957,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"jumpUp\"",
										"property": "scale",
										"end-x": "1.5",
										"end-y": "1.5",
										"time": "0.5",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 743625620821554
								},
								{
									"id": "tween-two-properties",
									"objectClass": "Car",
									"sid": 117118592349166,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"jumpDown\"",
										"property": "scale",
										"end-x": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\r\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25",
										"end-y": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\r\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25",
										"time": "0.5",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 657494483037104
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Car",
									"sid": 684306606820131,
									"parameters": {
										"instance-variable": "Flying",
										"value": "false"
									}
								}
							],
							"sid": 837741235365745
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Surface affecting performance"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 480364411616812,
							"parameters": {
								"object": "Car"
							}
						},
						{
							"id": "is-moving",
							"objectClass": "Car",
							"sid": 968863281515252,
							"behaviorType": "Car"
						}
					],
					"actions": [],
					"sid": 429286834679108,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 553978399557008,
									"parameters": {
										"instance-variable": "Player"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "cam_follow",
									"sid": 687348284574735,
									"parameters": {
										"x": "Car.X + Car.Car.VectorX/5 * (1 - flags.Get(\"cam_center\"))",
										"y": "Car.Y + Car.Car.VectorY/3 * (1 - flags.Get(\"cam_center\"))"
									}
								}
							],
							"sid": 269883864425734
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 917737524202117,
									"parameters": {
										"instance-variable": "Flying"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 105509641822912,
							"children": [
								{
									"eventType": "variable",
									"name": "tile",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 741230708975670
								},
								{
									"eventType": "variable",
									"name": "max_speed_coef",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 258682572979122
								},
								{
									"eventType": "variable",
									"name": "accel_coef",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 723999461919258
								},
								{
									"eventType": "variable",
									"name": "decel_coef",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 999744980271999
								},
								{
									"eventType": "variable",
									"name": "steer_coef",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 559119845336489
								},
								{
									"eventType": "variable",
									"name": "recover_coef",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 322846045079750
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 192760961064356,
											"parameters": {
												"name": "\"Tires\"",
												"start-index": "1",
												"end-index": "4"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 430033492152479,
											"parameters": {
												"object": "roads",
												"expression": "roads.back",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 890769410262424,
											"parameters": {
												"variable": "tile",
												"value": "roads.TileAt(roads.PositionToTileX(roads.SnapX(Car.ImagePointX(loopindex(\"Tires\")))), roads.PositionToTileY(roads.SnapY(Car.ImagePointY(loopindex(\"Tires\")))))"
											}
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 105149271329141,
											"parameters": {
												"variable": "max_speed_coef",
												"value": "0.25 * TileToConditionData.At(tile, 2)"
											}
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 173461309562733,
											"parameters": {
												"variable": "accel_coef",
												"value": "0.25 * TileToConditionData.At(tile, 3)"
											}
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 881886239297693,
											"parameters": {
												"variable": "decel_coef",
												"value": "0.25 * TileToConditionData.At(tile, 4)"
											}
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 261249333390300,
											"parameters": {
												"variable": "steer_coef",
												"value": "0.25 * TileToConditionData.At(tile, 5)"
											}
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 275766707750704,
											"parameters": {
												"variable": "recover_coef",
												"value": "0.25 * TileToConditionData.At(tile, 6)"
											}
										}
									],
									"sid": 992949153542527
								},
								{
									"eventType": "comment",
									"text": "Add boost from nitrous"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Car",
											"sid": 458527538749581,
											"parameters": {
												"instance-variable": "Player"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 107688871570632,
											"parameters": {
												"variable": "NitroState",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 990999997941473,
											"parameters": {
												"variable": "max_speed_coef",
												"value": "flags.Get(\"difficulty_nitro_boost_max_speed\") + (NitroState = 2 ? flags.Get(\"difficulty_nitro_extra_boost_max_speed\") : 0)"
											}
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 972240470534670,
											"parameters": {
												"variable": "accel_coef",
												"value": "(flags.Get(\"difficulty_nitro_boost_accel\") + (NitroState = 2 ? flags.Get(\"difficulty_nitro_extra_boost_accel\") : 0))"
											}
										}
									],
									"sid": 513844427081391
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Car",
											"sid": 966870668445064,
											"parameters": {
												"instance-variable": "CarSpeed",
												"value": "Car.CarSpeedBasic * max_speed_coef"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Car",
											"sid": 274420270905154,
											"parameters": {
												"instance-variable": "CarRecover",
												"value": "Car.CarRecoverBasic* recover_coef"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Car",
											"sid": 896451412618669,
											"parameters": {
												"instance-variable": "CarDecel",
												"value": "Car.CarDecelBasic * decel_coef"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Car",
											"sid": 954726559582315,
											"parameters": {
												"instance-variable": "CarAccel",
												"value": "Car.CarAccelBasic * accel_coef"
											}
										},
										{
											"id": "set-max-speed",
											"objectClass": "Car",
											"sid": 618902514936187,
											"behaviorType": "Car",
											"parameters": {
												"max-speed": "lerp(Car.Car.MaxSpeed, Car.CarSpeed, 0.03)"
											}
										},
										{
											"id": "set-drift-recover",
											"objectClass": "Car",
											"sid": 896611170225930,
											"behaviorType": "Car",
											"parameters": {
												"drift-recover": "lerp(Car.Car.DriftRecover, Car.CarRecover, 0.03)"
											}
										},
										{
											"id": "set-deceleration",
											"objectClass": "Car",
											"sid": 861065630915387,
											"behaviorType": "Car",
											"parameters": {
												"deceleration": "lerp(Car.Car.Deceleration, Car.CarDecel, 0.03)"
											}
										},
										{
											"id": "set-acceleration",
											"objectClass": "Car",
											"sid": 760689911948802,
											"behaviorType": "Car",
											"parameters": {
												"acceleration": "lerp(Car.Car.Acceleration, Car.CarAccel, 0.03)"
											}
										}
									],
									"sid": 271534029397662
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Disable reverse gear"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-speed",
									"objectClass": "Car",
									"sid": 555951016170524,
									"behaviorType": "Car",
									"parameters": {
										"comparison": 2,
										"speed": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "Car",
									"sid": 617404163274906,
									"behaviorType": "Car",
									"parameters": {
										"speed": "0"
									}
								}
							],
							"sid": 564484440026874
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-speed",
									"objectClass": "Car",
									"sid": 611328663787088,
									"behaviorType": "Car",
									"parameters": {
										"comparison": 5,
										"speed": "Car.CarSpeed"
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "Car",
									"sid": 117041897324327,
									"behaviorType": "Car",
									"parameters": {
										"speed": "lerp(Self.Car.Speed, Self.CarSpeed, 0.01)"
									}
								}
							],
							"sid": 465389961744135
						}
					]
				}
			],
			"sid": 497347902982358
		},
		{
			"eventType": "variable",
			"name": "motion",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 395466524120937
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-value",
					"objectClass": "flags",
					"sid": 890303533509850,
					"parameters": {
						"key": "\"cam_angle_follow\"",
						"comparison": 0,
						"value": "1"
					}
				}
			],
			"actions": [],
			"sid": 384944017700124,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 703373664069926,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						},
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 146949085278918,
							"parameters": {
								"object": "car_position"
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-angle",
							"objectClass": "System",
							"sid": 330844277319333,
							"parameters": {
								"layer": "\"Level\"",
								"angle": "Car.Angle + 90"
							}
						},
						{
							"id": "set-layer-angle",
							"objectClass": "System",
							"sid": 761935531134450,
							"parameters": {
								"layer": "\"Layout\"",
								"angle": "Car.Angle + 90"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "car_position",
							"sid": 406256871839748,
							"parameters": {
								"angle": "LayerAngle(\"Level\")"
							}
						}
					],
					"sid": 349307497066095
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 235744258507226
				},
				{
					"id": "trigger-once-while-true",
					"objectClass": "System",
					"sid": 598917181921448
				}
			],
			"actions": [
				{
					"id": "set-layer-angle",
					"objectClass": "System",
					"sid": 828117932886346,
					"parameters": {
						"layer": "\"Level\"",
						"angle": "0"
					}
				},
				{
					"id": "set-layer-angle",
					"objectClass": "System",
					"sid": 168706807812257,
					"parameters": {
						"layer": "\"Layout\"",
						"angle": "0"
					}
				}
			],
			"sid": 914673005755405
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-value",
					"objectClass": "flags",
					"sid": 850339704399933,
					"parameters": {
						"key": "\"cam_zoom_speed\"",
						"comparison": 0,
						"value": "1"
					}
				}
			],
			"actions": [],
			"sid": 252607716949650,
			"children": [
				{
					"eventType": "variable",
					"name": "zoom_diameter",
					"type": "number",
					"initialValue": "0.15",
					"comment": "",
					"isStatic": false,
					"isConstant": true,
					"sid": 844237985362359
				},
				{
					"eventType": "variable",
					"name": "zoom_speed",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 345880270122416
				},
				{
					"eventType": "variable",
					"name": "zoom_coef",
					"type": "number",
					"initialValue": "1",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 287819069018484
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 500454915100198
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 184994975292937,
							"parameters": {
								"variable": "zoom_coef",
								"value": "flags.Get(\"cam_scale\") = 0 ? 0.75 :\r\nflags.Get(\"cam_scale\") = 1 ? 1 : 1.25"
							}
						}
					],
					"sid": 796040813719398
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 191680250693123,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 956228339966637,
							"parameters": {
								"variable": "zoom_speed",
								"value": "(Car.Car.Speed - Car.CarSpeedBasic / 2) / Car.CarSpeedBasic"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 796542067609039,
							"parameters": {
								"layer": "\"Level\"",
								"scale": "zoom_coef - (flags.Get(\"cam_zoom_strength\")* zoom_speed)"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 353944694336455,
							"parameters": {
								"layer": "\"Layout\"",
								"scale": "zoom_coef - (flags.Get(\"cam_zoom_strength\")* zoom_speed)"
							}
						}
					],
					"sid": 330551896492921
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 501971968761903
				},
				{
					"id": "trigger-once-while-true",
					"objectClass": "System",
					"sid": 767598699425021
				}
			],
			"actions": [
				{
					"id": "set-layer-scale",
					"objectClass": "System",
					"sid": 814681009362879,
					"parameters": {
						"layer": "\"Level\"",
						"scale": "flags.Get(\"cam_scale\") = 0 ? 0.75 :\r\nflags.Get(\"cam_scale\") = 1 ? 1 : 1.25"
					}
				},
				{
					"id": "set-layer-scale",
					"objectClass": "System",
					"sid": 699358182700617,
					"parameters": {
						"layer": "\"Layout\"",
						"scale": "flags.Get(\"cam_scale\") = 0 ? 0.75 :\r\nflags.Get(\"cam_scale\") = 1 ? 1 : 1.25"
					}
				}
			],
			"sid": 644029844609086
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "GUI",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "ShowLap",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": true,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 420829081347001,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 523053961904028,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "pick-nth-child",
									"objectClass": "Car",
									"sid": 724185225132736,
									"parameters": {
										"child": "car_edge_collision",
										"instance": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "dbgtxt",
									"sid": 238067749937320,
									"parameters": {
										"text": "\"Круг \"&car_edge_collision.Lap + 1"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 406837667769845,
									"parameters": {
										"seconds": "0.75"
									}
								},
								{
									"id": "set-text",
									"objectClass": "dbgtxt",
									"sid": 327561633771959,
									"parameters": {
										"text": "\"\""
									}
								}
							],
							"sid": 347411614690686
						}
					]
				},
				{
					"functionName": "PauseGUI",
					"functionDescription": "",
					"functionCategory": "GUI",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Mode",
							"type": "string",
							"initialValue": "RaceEnd",
							"comment": "",
							"sid": 571435829572596
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 629615937974215,
							"parameters": {
								"time-scale": "0.01"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 257106818830090,
							"parameters": {
								"object-to-create": "pause_back",
								"layer": "\"GUI\"",
								"x": "360",
								"y": "700",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 855076346705585,
							"parameters": {
								"object": "ToMenuBut",
								"layer": "\"GUI\"",
								"image-point": "\"LeftBut\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 368748001076354,
							"parameters": {
								"object": "RestartBut",
								"layer": "\"GUI\"",
								"image-point": "\"MidBut\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 112025289366601,
							"parameters": {
								"object": "PauseTxt",
								"layer": "\"GUI\"",
								"image-point": "\"Txt\"",
								"create-hierarchy": false
							}
						}
					],
					"sid": 238513692520512,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 531924781367740,
									"parameters": {
										"variable": "Mode",
										"comparison": 0,
										"value": "\"Pause\""
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "pause_back",
									"sid": 737115175120327,
									"parameters": {
										"object": "ResumeBut",
										"layer": "\"GUI\"",
										"image-point": "\"RightBut\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-text",
									"objectClass": "PauseTxt",
									"sid": 272459261059524,
									"parameters": {
										"text": "\"Пауза\""
									}
								}
							],
							"sid": 295192267729518
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 303611845008574
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "pause_back",
									"sid": 990121974995858,
									"parameters": {
										"object": "ReplayBut",
										"layer": "\"GUI\"",
										"image-point": "\"RightBut\"",
										"create-hierarchy": false
									}
								}
							],
							"sid": 547560536510695,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 542966214384673,
											"parameters": {
												"variable": "Mode",
												"comparison": 0,
												"value": "\"RaceWin\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "PauseTxt",
											"sid": 194952211357560,
											"parameters": {
												"text": "\"Победа!\""
											}
										}
									],
									"sid": 747008374698656
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 462726034508366
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 940876548877288,
											"parameters": {
												"variable": "Mode",
												"comparison": 0,
												"value": "\"RaceLoss\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "PauseTxt",
											"sid": 998120010909012,
											"parameters": {
												"text": "\"Поражение!\""
											}
										}
									],
									"sid": 932877534151738
								}
							]
						}
					]
				},
				{
					"functionName": "ClosePauseMenu",
					"functionDescription": "",
					"functionCategory": "GUI",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 489998632915930,
							"parameters": {
								"object": "pause_back"
							}
						},
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 222027298766555,
							"parameters": {
								"object": "PauseTxt"
							}
						},
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 262271191140374,
							"parameters": {
								"object": "ToMenuBut"
							}
						},
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 369164447701455,
							"parameters": {
								"object": "RestartBut"
							}
						}
					],
					"actions": [
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 823858914725015,
							"parameters": {
								"time-scale": "1.0"
							}
						},
						{
							"id": "destroy",
							"objectClass": "pause_back",
							"sid": 820266637939369
						},
						{
							"id": "destroy",
							"objectClass": "PauseTxt",
							"sid": 535359755265207
						},
						{
							"id": "destroy",
							"objectClass": "ToMenuBut",
							"sid": 777885399662911
						},
						{
							"id": "destroy",
							"objectClass": "RestartBut",
							"sid": 608153959193111
						}
					],
					"sid": 813727308093694,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 611445516181572,
									"parameters": {
										"object": "ResumeBut"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "ResumeBut",
									"sid": 807394776566781
								}
							],
							"sid": 687766470478850
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 992005961362361,
									"parameters": {
										"object": "ReplayBut"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "ReplayBut",
									"sid": 182601623567211
								}
							],
							"sid": 241740244725785
						}
					]
				},
				{
					"functionName": "do_timer",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": true,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "dbgtxt",
							"sid": 170433467922972,
							"parameters": {
								"text": "\"3\""
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 281330208293131,
							"parameters": {
								"seconds": "0.5"
							}
						},
						{
							"id": "set-text",
							"objectClass": "dbgtxt",
							"sid": 286854944623270,
							"parameters": {
								"text": "\"2\""
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 925943012054191,
							"parameters": {
								"seconds": "0.5"
							}
						},
						{
							"id": "set-text",
							"objectClass": "dbgtxt",
							"sid": 141912028675721,
							"parameters": {
								"text": "\"1\""
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 571655368683626,
							"parameters": {
								"seconds": "0.5"
							}
						},
						{
							"id": "set-text",
							"objectClass": "dbgtxt",
							"sid": 581272343030200,
							"parameters": {
								"text": "\"GO!\""
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 402222963990264,
							"parameters": {
								"variable": "RaceStarted",
								"value": "true"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "car_edge_collision",
							"sid": 249686616296075,
							"parameters": {
								"instance-variable": "Moving",
								"value": "true"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 354651834876794,
							"parameters": {
								"seconds": "1.0"
							}
						},
						{
							"id": "set-text",
							"objectClass": "dbgtxt",
							"sid": 177765956044160,
							"parameters": {
								"text": "\"\""
							}
						}
					],
					"sid": 726635467225390
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Debug",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 676890518880027,
									"parameters": {
										"key": 90
									}
								}
							],
							"actions": [
								{
									"id": "set-layout-scale",
									"objectClass": "System",
									"sid": 935249982967248,
									"parameters": {
										"scale": "0.2"
									}
								}
							],
							"sid": 798730320549331
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 954317057077242
								}
							],
							"actions": [
								{
									"id": "set-layout-scale",
									"objectClass": "System",
									"sid": 262819091748651,
									"parameters": {
										"scale": "1"
									}
								}
							],
							"sid": 588618551746063
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 160143524653370,
									"parameters": {
										"key": 16
									}
								}
							],
							"actions": [
								{
									"id": "set-time-scale",
									"objectClass": "System",
									"sid": 512676045898383,
									"parameters": {
										"time-scale": "4"
									}
								}
							],
							"sid": 239375499576273
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 672595805278182
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 129475881330596,
									"parameters": {
										"first-value": "pause_back.Count",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-time-scale",
									"objectClass": "System",
									"sid": 117279299331495,
									"parameters": {
										"time-scale": "1"
									}
								}
							],
							"sid": 228547551021955
						}
					],
					"sid": 215102542087528
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "SwipeControls",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "ondrop2",
									"objectClass": "SwipeZone",
									"sid": 779011457338486,
									"behaviorType": "BoundedDragDrop"
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "SwipeZone",
									"sid": 900674882810838,
									"parameters": {
										"x": "360"
									}
								}
							],
							"sid": 881052495454622
						},
						{
							"eventType": "variable",
							"name": "motion_len",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 840714744923086
						},
						{
							"eventType": "variable",
							"name": "motion_speed",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 441198790167835
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "isdragging0",
									"objectClass": "SwipeZone",
									"sid": 814421057279537,
									"behaviorType": "BoundedDragDrop"
								},
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 696451386750985,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 877186804894581,
									"parameters": {
										"variable": "motion",
										"value": "max((motion < 1 ? 1 : motion), Touch.SpeedAt(0))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 121465515409185,
									"parameters": {
										"variable": "motion_len",
										"value": "abs(SwipeZone.X - 360) < flags.Get(\"controls_dead_zone\") ? 0 : SwipeZone.X - 360"
									}
								},
								{
									"id": "set-steer-speed",
									"objectClass": "Car",
									"sid": 980941523533467,
									"disabled": true,
									"behaviorType": "Car",
									"parameters": {
										"steer-speed": "((roundToDp(ln(abs(round((SwipeZone.X - 360)*motion)))<1?1:ln(abs(round((SwipeZone.X - 360)*motion))), 3) - 7) * 25) * sign(SwipeZone.X - 360) * (-2 * flags.Get(\"controls_invert\")+ 1) * Self.SteerCoef"
									}
								},
								{
									"id": "set-steer-speed",
									"objectClass": "Car",
									"sid": 742556027447257,
									"behaviorType": "Car",
									"parameters": {
										"steer-speed": "ln(motion)/ln(flags.Get(\"controls_speed_factor\")) * (motion_len / 360) * (-2 * flags.Get(\"controls_invert\")+ 1) * flags.Get(\"controls_sensitivity\") * Self.SteerCoef"
									}
								},
								{
									"id": "simulate-control",
									"objectClass": "Car",
									"sid": 693740566388474,
									"behaviorType": "Car",
									"parameters": {
										"control": "steer-right"
									}
								}
							],
							"sid": 257865270633952,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-value",
											"objectClass": "flags",
											"sid": 705892284374136,
											"parameters": {
												"key": "\"controls_drift_mode\"",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 729348792211350,
											"behaviorType": "Car",
											"parameters": {
												"control": "brake"
											}
										}
									],
									"sid": 914386672904126
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 113951808885763
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 748357377111571,
											"behaviorType": "Car",
											"parameters": {
												"control": "accelerate"
											}
										}
									],
									"sid": 118345751755873
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "isdragging0",
									"objectClass": "SwipeZone",
									"sid": 190814871638506,
									"behaviorType": "BoundedDragDrop",
									"isInverted": true
								},
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 801939325419952,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 311840514632615,
									"parameters": {
										"variable": "RaceStarted"
									}
								}
							],
							"actions": [],
							"sid": 477447487698086,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-value",
											"objectClass": "flags",
											"sid": 726378403227382,
											"parameters": {
												"key": "\"controls_drift_mode\"",
												"comparison": 1,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 523763073975496,
											"behaviorType": "Car",
											"parameters": {
												"control": "accelerate"
											}
										}
									],
									"sid": 105223095828104
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 770291405624204
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 699175240209442,
											"behaviorType": "Car",
											"parameters": {
												"control": "brake"
											}
										}
									],
									"sid": 780835110431589
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "ondragstart1",
									"objectClass": "SwipeZone",
									"sid": 523826390134670,
									"behaviorType": "BoundedDragDrop"
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 265681062183861,
									"parameters": {
										"variable": "motion",
										"value": "0"
									}
								}
							],
							"sid": 863328743120118
						}
					],
					"sid": 165125792413525
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 207468257255313,
							"parameters": {
								"object": "RestartBut"
							}
						},
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 370335989656953,
							"parameters": {
								"key": 82
							}
						}
					],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 495515134177355
						}
					],
					"sid": 168451537167967,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 270802273205703,
							"parameters": {
								"object": "ResumeBut"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 395797030688577,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						},
						{
							"id": "is-enabled",
							"objectClass": "Car",
							"sid": 379294827541584,
							"behaviorType": "Car"
						}
					],
					"actions": [
						{
							"callFunction": "ClosePauseMenu",
							"sid": 391500513750807
						}
					],
					"sid": 480063993697248
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-released",
							"objectClass": "Keyboard",
							"sid": 916676471859686,
							"parameters": {
								"key": 27
							}
						},
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 469013050197437,
							"parameters": {
								"object": "pause_menu"
							}
						}
					],
					"actions": [],
					"sid": 486319699999264,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 605608289106239,
									"parameters": {
										"first-value": "pause_back.Count",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"callFunction": "PauseGUI",
									"sid": 319920750890478,
									"parameters": [
										"\"Pause\""
									]
								}
							],
							"sid": 253509037624205
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 914768048822288
								}
							],
							"actions": [
								{
									"callFunction": "ClosePauseMenu",
									"sid": 979644386001232
								}
							],
							"sid": 225298065890444
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 822540791152301,
							"parameters": {
								"object": "ToMenuBut"
							}
						},
						{
							"id": "on-key-released",
							"objectClass": "Keyboard",
							"sid": 933181437916004,
							"parameters": {
								"key": 77
							}
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 790302344164399,
							"parameters": {
								"layout": "Menu"
							}
						}
					],
					"sid": 633491082395871,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 257182862903290,
							"parameters": {
								"object": "ReplayBut"
							}
						}
					],
					"actions": [
						{
							"callFunction": "ClosePauseMenu",
							"sid": 155155631590907
						},
						{
							"callFunction": "PlayRecording",
							"sid": 703720135853114
						}
					],
					"sid": 508264619498175
				}
			],
			"sid": 331973970547161
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Car",
					"sid": 219797985910387,
					"parameters": {
						"object": "Bonus"
					}
				},
				{
					"id": "is-visible",
					"objectClass": "Bonus",
					"sid": 158630039676986
				}
			],
			"actions": [],
			"sid": 746870235743867,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "Bonus",
							"sid": 238481162742189,
							"parameters": {
								"animation": "\"Rocket\""
							}
						}
					],
					"actions": [
						{
							"id": "add-to-instvar",
							"objectClass": "Car",
							"sid": 662783320993322,
							"parameters": {
								"instance-variable": "Ammo",
								"value": "1"
							}
						}
					],
					"sid": 862892440629221,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 171298824403676,
									"parameters": {
										"instance-variable": "Player"
									}
								}
							],
							"actions": [
								{
									"callFunction": "RocketsChanged",
									"sid": 874919004596396
								}
							],
							"sid": 386164095410959
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 465857910762751,
							"parameters": {
								"instance-variable": "Player"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "Bonus",
							"sid": 654363564068292,
							"parameters": {
								"animation": "\"Nitro\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 111574373256714,
							"parameters": {
								"variable": "NitroCharge",
								"value": "clamp(NitroCharge + flags.Get(\"difficulty_nitro_refill\"), 0, 100)"
							}
						},
						{
							"callFunction": "NitroChanged",
							"sid": 538382088095181
						}
					],
					"sid": 927283055220444
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 294413402385392
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Bonus",
							"sid": 119785878002064
						}
					],
					"sid": 450830539586907
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Replays",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 447851251919444,
							"parameters": {
								"key": 84
							}
						}
					],
					"actions": [
						{
							"callFunction": "PlayRecording",
							"sid": 730292119384132
						},
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 405858672289170,
							"disabled": true,
							"parameters": {
								"message": "\"called\""
							}
						}
					],
					"sid": 870157689291548
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onhitanypoint2",
							"objectClass": "Car",
							"sid": 382031192931229,
							"behaviorType": "Spline"
						}
					],
					"actions": [],
					"sid": 584676043645333,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 232006322795704,
									"parameters": {
										"variable": "Rewinding"
									}
								}
							],
							"actions": [
								{
									"id": "setspeed51",
									"objectClass": "Car",
									"sid": 302454129714257,
									"behaviorType": "Spline",
									"parameters": {
										"speed0": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 4) = 0 ? 1 : Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 4)"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Car",
									"sid": 544112830580681,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"replay_angle\"",
										"property": "offsetAngle",
										"end-value": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 2)",
										"time": "0.02",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 584706997816153
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 195830090921966
								}
							],
							"actions": [
								{
									"id": "setspeed51",
									"objectClass": "Car",
									"sid": 474275350683106,
									"behaviorType": "Spline",
									"parameters": {
										"speed0": "Recording.At(Car.Spline.CurSegP0, 4) = 0 ? 1 : Recording.At(Car.Spline.CurSegP0, 4)"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Car",
									"sid": 465340069420834,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"replay_angle\"",
										"property": "offsetAngle",
										"end-value": "Recording.At(Car.Spline.CurSegP0, 2)",
										"time": "0.02",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 631839685659046
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onhittarget0",
							"objectClass": "Car",
							"sid": 958627202619030,
							"behaviorType": "Spline"
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Car",
							"sid": 588641582663336,
							"disabled": true,
							"behaviorType": "Car",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 573268431675794,
							"disabled": true,
							"parameters": {
								"instance-variable": "Recording",
								"value": "true"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "Car",
							"sid": 606476196266486,
							"disabled": true,
							"behaviorType": "Car",
							"parameters": {
								"speed": "Recording.At(Recording.Width - 1, 4)"
							}
						},
						{
							"id": "set-steer-speed",
							"objectClass": "Car",
							"sid": 854603968257718,
							"disabled": true,
							"behaviorType": "Car",
							"parameters": {
								"steer-speed": "Recording.At(Recording.Width - 1, 5)"
							}
						}
					],
					"sid": 639716565281624,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 769794312595657,
									"parameters": {
										"variable": "Rewinding"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 174732985981969,
									"parameters": {
										"variable": "Rewinding",
										"value": "false"
									}
								},
								{
									"id": "flash",
									"objectClass": "Car",
									"sid": 675600324744421,
									"behaviorType": "Flash",
									"parameters": {
										"on-time": "0.1",
										"off-time": "0.1",
										"duration": "2"
									}
								}
							],
							"sid": 341078312418775,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 708547865446529,
											"parameters": {
												"object": "Obstacle"
											}
										}
									],
									"actions": [
										{
											"id": "set-magnitude",
											"objectClass": "Obstacle",
											"sid": 820090559324957,
											"behaviorType": "Sine",
											"parameters": {
												"magnitude": "-Self.Sine.Magnitude"
											}
										}
									],
									"sid": 146243238096170
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 149118122770129,
											"parameters": {
												"object": "Car"
											}
										}
									],
									"actions": [
										{
											"id": "set-enabled",
											"objectClass": "Car",
											"sid": 494542795454543,
											"behaviorType": "Car",
											"parameters": {
												"state": "enabled"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "Car",
											"sid": 782808024051455,
											"parameters": {
												"instance-variable": "Recording",
												"value": "true"
											}
										},
										{
											"id": "setenabled0",
											"objectClass": "Car",
											"sid": 241686097844583,
											"behaviorType": "Spline",
											"parameters": {
												"state2": "disabled"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "Car",
											"sid": 692718028402606,
											"behaviorType": "Car",
											"parameters": {
												"speed": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 4)"
											}
										},
										{
											"id": "set-steer-speed",
											"objectClass": "Car",
											"sid": 933617273286001,
											"behaviorType": "Car",
											"parameters": {
												"steer-speed": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 5)"
											}
										},
										{
											"id": "set-max-speed",
											"objectClass": "Car",
											"sid": 230178445196260,
											"behaviorType": "Car",
											"parameters": {
												"max-speed": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 6)"
											}
										},
										{
											"id": "set-acceleration",
											"objectClass": "Car",
											"sid": 155562185302213,
											"behaviorType": "Car",
											"parameters": {
												"acceleration": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 7)"
											}
										},
										{
											"id": "set-deceleration",
											"objectClass": "Car",
											"sid": 682877018767246,
											"behaviorType": "Car",
											"parameters": {
												"deceleration": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 8)"
											}
										},
										{
											"id": "set-drift-recover",
											"objectClass": "Car",
											"sid": 312474244657370,
											"behaviorType": "Car",
											"parameters": {
												"drift-recover": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 9)"
											}
										}
									],
									"sid": 214936330004757
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 780319307463583
								}
							],
							"actions": [
								{
									"id": "setenabled0",
									"objectClass": "Car",
									"sid": 144886868271451,
									"behaviorType": "Spline",
									"parameters": {
										"state2": "disabled"
									}
								},
								{
									"callFunction": "PauseGUI",
									"sid": 172461315080818,
									"parameters": [
										"\"Pause\""
									]
								}
							],
							"sid": 647448573476041
						}
					]
				},
				{
					"functionName": "PlayRecording",
					"functionDescription": "",
					"functionCategory": "Replay",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 653193130161429,
							"parameters": {
								"object": "Car"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Car",
							"sid": 246128900534997,
							"behaviorType": "Car",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 487642576402156,
							"parameters": {
								"instance-variable": "Recording",
								"value": "false"
							}
						},
						{
							"id": "set-position",
							"objectClass": "Car",
							"sid": 422055562618172,
							"parameters": {
								"x": "Recording.At(0, 0)",
								"y": "Recording.At(0, 1)"
							}
						},
						{
							"id": "setenabled0",
							"objectClass": "Car",
							"sid": 841204561145028,
							"behaviorType": "Spline",
							"parameters": {
								"state2": "enabled"
							}
						},
						{
							"id": "cleanall4",
							"objectClass": "Car",
							"sid": 273609349252002,
							"behaviorType": "Spline"
						}
					],
					"sid": 891195249981982,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 886177709674595,
									"parameters": {
										"object": "Obstacle"
									}
								}
							],
							"actions": [
								{
									"id": "set-cycle-position",
									"objectClass": "Obstacle",
									"sid": 923041202704778,
									"behaviorType": "Sine",
									"parameters": {
										"cycle-position": "0"
									}
								}
							],
							"sid": 446631089617771
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 166024283259343,
									"parameters": {
										"name": "\"replay\"",
										"start-index": "0",
										"end-index": "Recording.Width - 1"
									}
								}
							],
							"actions": [
								{
									"id": "addpoint2",
									"objectClass": "Car",
									"sid": 901708778228190,
									"behaviorType": "Spline",
									"parameters": {
										"x0": "Recording.At(loopindex(\"replay\"), 0)",
										"y1": "Recording.At(loopindex(\"replay\"), 1)"
									}
								}
							],
							"sid": 572772502474361
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 817980754285257
								}
							],
							"actions": [
								{
									"id": "start11",
									"objectClass": "Car",
									"sid": 642078631394312,
									"behaviorType": "Spline"
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 875323541320301,
									"parameters": {
										"variable": "Rewinding",
										"value": "true"
									}
								}
							],
							"sid": 390177435553625
						}
					]
				},
				{
					"functionName": "StartRewind",
					"functionDescription": "",
					"functionCategory": "Replay",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "frames_back",
							"type": "number",
							"initialValue": "150",
							"comment": "",
							"sid": 827451368810753
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 541779589798347,
							"parameters": {
								"object": "Car"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Car",
							"sid": 557112264343568,
							"behaviorType": "Car",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 506257406777925,
							"parameters": {
								"instance-variable": "Recording",
								"value": "false"
							}
						},
						{
							"id": "setenabled0",
							"objectClass": "Car",
							"sid": 797622023421705,
							"behaviorType": "Spline",
							"parameters": {
								"state2": "enabled"
							}
						},
						{
							"id": "cleanall4",
							"objectClass": "Car",
							"sid": 891455871063759,
							"behaviorType": "Spline"
						}
					],
					"sid": 139741880982889,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 953773374705483,
									"parameters": {
										"object": "Obstacle"
									}
								}
							],
							"actions": [
								{
									"id": "set-magnitude",
									"objectClass": "Obstacle",
									"sid": 988811198165684,
									"behaviorType": "Sine",
									"parameters": {
										"magnitude": "-Self.Sine.Magnitude"
									}
								}
							],
							"sid": 562463380903254
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 658242710457001,
									"parameters": {
										"name": "\"replay\"",
										"start-index": "0",
										"end-index": "frames_back"
									}
								}
							],
							"actions": [
								{
									"id": "addpoint2",
									"objectClass": "Car",
									"sid": 425870891227808,
									"behaviorType": "Spline",
									"parameters": {
										"x0": "Recording.At(Recording.Width - 1 - loopindex(\"replay\"), 0)",
										"y1": "Recording.At(Recording.Width - 1 - loopindex(\"replay\"), 1)"
									}
								}
							],
							"sid": 194819543142527
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 350989367041335
								}
							],
							"actions": [
								{
									"id": "start11",
									"objectClass": "Car",
									"sid": 265150300081233,
									"behaviorType": "Spline"
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 867612092376686,
									"parameters": {
										"variable": "Rewinding",
										"value": "true"
									}
								}
							],
							"sid": 532810477592606
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 267982475009382,
							"parameters": {
								"instance-variable": "Recording"
							}
						},
						{
							"id": "is-moving",
							"objectClass": "Car",
							"sid": 158309927404821,
							"behaviorType": "Car"
						},
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 656239895415409,
							"parameters": {
								"interval-seconds": "0.02"
							}
						}
					],
					"actions": [
						{
							"id": "push",
							"objectClass": "Recording",
							"sid": 874244107824949,
							"parameters": {
								"where": "back",
								"value": "0",
								"axis": "x"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 752438450721513,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "0",
								"value": "Car.X"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 560568263120212,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "1",
								"value": "Car.Y"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 607558351164766,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "2",
								"value": "Car.Angle"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 335655302737923,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "4",
								"value": "Car.Car.Speed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 672518735215222,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "5",
								"value": "Car.Car.SteerSpeed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 910023302307317,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "6",
								"value": "Car.Car.MaxSpeed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 588659555988874,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "7",
								"value": "Car.Car.Acceleration"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 594663994733942,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "8",
								"value": "Car.Car.Deceleration"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 734743721305741,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "9",
								"value": "Car.Car.DriftRecover"
							}
						}
					],
					"sid": 681221152113267
				}
			],
			"sid": 805120578053349
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Find collision points",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Toggle frame variable, so 0 ->1, 1 ->0"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "car_edge_collision",
							"sid": 157436948294115,
							"parameters": {
								"object": "Obstacle"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "Obstacle",
							"sid": 979177918711675
						},
						{
							"id": "pick-parent",
							"objectClass": "car_edge_collision",
							"sid": 521469503171737,
							"parameters": {
								"parent": "Car",
								"which": "own"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 816522377958137,
							"parameters": {
								"instance-variable": "Flying"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Car",
							"sid": 375430016305216,
							"parameters": {
								"instance-variable": "second_frame",
								"value": "1 - Self.second_frame"
							}
						},
						{
							"callFunction": "DrawArray",
							"sid": 507554189308880,
							"disabled": true
						}
					],
					"sid": 708394970639735,
					"children": [
						{
							"eventType": "comment",
							"text": "This condition added to decrease CPU utilization - every 2nd frame will be skipped"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Car",
									"sid": 261099388306599,
									"parameters": {
										"instance-variable": "second_frame",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "is-on-screen",
									"objectClass": "Car",
									"sid": 128830663173287
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "const obs = runtime.objects.Obstacle.getFirstPickedInstance();\nconst car = runtime.objects.car_edge_collision.getFirstPickedInstance();\nconst collision = SAT_collision(car, obs);\n//console.log(collision);\n\nif (collision.collided) {\nconst point = get_collision_point(car, obs, collision);\n//console.log(point);\nlet new_spark = runtime.objects.EdgeSparks.createInstance(\"Level\", point.x, point.y, false);\nnew_spark.angleDegrees = car.angleDegrees - 180;\n}\n\n/*\n// debug stuff here\nlet gui = runtime.layout.getLayer(\"GUI\");\nlet lay = runtime.layout.getLayer(\"Layout\");\n\nfunction get_point(param) {\n\treturn layer_to_layer_px(param.x, param.y, lay, gui);\n}\nlet vals = [];\nvals.push(get_point(point.inc[0]));\nvals.push(get_point(point.inc[1]));\nvals.push(get_point(point.p0));\nvals.push(get_point(point.ref[0]));\nvals.push(get_point(point.ref[1]));\nvals.push(get_point(point.p3));\nvals.push(get_point(point.cut[0]));\nvals.push(get_point(point.cut[1]));\nvals.push(get_point(collision.obj));\nvals.push(get_point(Vector.add(Vector.multiply(collision.normal, 20), collision.obj)));\nlet arr = runtime.objects.ddraw.getFirstInstance();\nfor (let i = 0; i < vals.length; i++) {\n\tarr.setAt(vals[i][0], i, 0);\n\tarr.setAt(vals[i][1], i, 1);\n}\n*/\n"
								}
							],
							"sid": 468478530275154
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-time-scale",
									"objectClass": "System",
									"sid": 106919346375838,
									"parameters": {
										"time-scale": "0.1"
									}
								}
							],
							"sid": 407283617756530,
							"disabled": true
						}
					]
				}
			],
			"sid": 584124331413418
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Nitrous",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "NitroChanged",
					"functionDescription": "",
					"functionCategory": "GUI",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-width",
							"objectClass": "NitroBar",
							"sid": 509367434703503,
							"parameters": {
								"width": "4.6 * NitroCharge"
							}
						}
					],
					"sid": 188501627324224
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 104070302505379,
							"parameters": {
								"object": "NitroBut"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 981565806324316,
							"parameters": {
								"variable": "NitroCharge",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [],
					"sid": 498409207826978,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 574889884645141,
									"parameters": {
										"variable": "NitroState",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "tween-value",
									"objectClass": "NitroBar",
									"sid": 130970816840176,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"PerfectQTE\"",
										"start-value": "0",
										"end-value": "30",
										"time": "1",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "yes"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 247854406736451,
									"parameters": {
										"variable": "NitroState",
										"value": "1"
									}
								}
							],
							"sid": 802565007239751
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 823685277917861,
									"parameters": {
										"variable": "NitroState",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 214525072193509,
									"parameters": {
										"first-value": "NitroBar.Tween.Value(\"PerfectQTE\")",
										"comparison": 5,
										"second-value": "20"
									}
								}
							],
							"actions": [
								{
									"id": "stop-all-tweens",
									"objectClass": "NitroBar",
									"sid": 715689080699809,
									"behaviorType": "Tween"
								},
								{
									"id": "set-effect-parameter",
									"objectClass": "NitroBar",
									"sid": 845903467178377,
									"parameters": {
										"effect": "\"AdjustHSL\"",
										"parameter-index": "0",
										"value": "30"
									}
								},
								{
									"id": "set-effect-parameter",
									"objectClass": "NitroBar",
									"sid": 710278218570903,
									"parameters": {
										"effect": "\"AdjustHSL\"",
										"parameter-index": "2",
										"value": "110"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 302689571092592,
									"parameters": {
										"variable": "NitroState",
										"value": "2"
									}
								}
							],
							"sid": 771196771063840
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "NitroBar",
							"sid": 596700319283639,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"PerfectQTE\""
							}
						}
					],
					"actions": [
						{
							"id": "set-effect-parameter",
							"objectClass": "NitroBar",
							"sid": 515613974502431,
							"parameters": {
								"effect": "\"AdjustHSL\"",
								"parameter-index": "0",
								"value": "Self.Tween.Value(\"PerfectQTE\")"
							}
						}
					],
					"sid": 283418350082540
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 758149531702668,
							"parameters": {
								"variable": "NitroState",
								"comparison": 1,
								"value": "0"
							}
						}
					],
					"actions": [],
					"sid": 207135247844216,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 967508338735115,
									"parameters": {
										"variable": "NitroCharge",
										"comparison": 4,
										"value": "0"
									}
								},
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 219040892974942,
									"disabled": true,
									"parameters": {
										"interval-seconds": "dt"
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 739942859607628,
									"parameters": {
										"variable": "NitroCharge",
										"value": "flags.Get(\"difficulty_nitro_consumption\") * dt * (1 + (NitroState = 2 ? flags.Get(\"difficulty_nitro_extra_coef\") : 0))"
									}
								},
								{
									"callFunction": "NitroChanged",
									"sid": 818903763358340
								}
							],
							"sid": 517111887666095
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 544520811927454
								}
							],
							"actions": [
								{
									"id": "stop-all-tweens",
									"objectClass": "NitroBar",
									"sid": 793898924969459,
									"behaviorType": "Tween"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 433661810697601,
									"parameters": {
										"variable": "NitroCharge",
										"value": "0"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 653482084304613,
									"parameters": {
										"variable": "NitroState",
										"value": "0"
									}
								},
								{
									"id": "set-effect-parameter",
									"objectClass": "NitroBar",
									"sid": 295258652084984,
									"parameters": {
										"effect": "\"AdjustHSL\"",
										"parameter-index": "0",
										"value": "0"
									}
								},
								{
									"id": "set-effect-parameter",
									"objectClass": "NitroBar",
									"sid": 746279422324882,
									"parameters": {
										"effect": "\"AdjustHSL\"",
										"parameter-index": "2",
										"value": "100"
									}
								}
							],
							"sid": 329669942008563
						}
					]
				}
			],
			"sid": 664422197213966
		},
		{
			"eventType": "script",
			"script": "// let's perform collision checks for cars! yay!\nif (!runtime.globalVars.RaceEnded) {\nconst dt = runtime.dt;\nconst all_cars = runtime.objects.Car.getAllInstances();\nfor (let index1 = 0; index1 < all_cars.length; index1++) {\n\tfor (let index2 = 0; index2 < all_cars.length; index2++) {\n\t\tif (index1 == index2) continue;\n\t\t\n\t\tlet cars = [all_cars[index1], all_cars[index2]];\n\t\tlet [cols, vecs, angdiffs] = [[], [], []];\n\t\tfor (let car of cars) {\n\t\t\tcols.push(car.getChildAt(0));\n\t\t\tvecs.push([car.behaviors.Car.vectorX, car.behaviors.Car.vectorY]);\n\t\t\tangdiffs.push(car.behaviors.Car.facingAngle - car.angle);\n\t\t\t//car.x += car.behaviors.Car.vectorX * dt;\n\t\t\t//car.y += car.behaviors.Car.vectorY * dt;\n\t\t\t//car.angle = car.behaviors.Car.facingAngle;\n\t\t}\n\t\tconst col_data = SAT_collision(cols[0], cols[1]);\n\t\tif (col_data.collided) {\n\t\t\tconst point = get_collision_point(cols[0], cols[1], col_data);\n\t\t\tlet new_v = [[0, 0], [0, 0]];\n\t\t\tlet new_av = [0, 0];\n\t\t\t[new_v[0][0], new_v[0][1], new_av[0], new_v[1][0], new_v[1][1], new_av[1]] = car_collision_resolution(cars[0], cars[1], col_data, point, runtime);\n\t\t\tfor (let i = 0; i < 2; i++) {\n\t\t\t\tcars[i].x -= col_data.overlap.x / 2 * (-i * 2 + 1) * ((col_data.obj === cars[0]) * 2 - 1);\n\t\t\t\tcars[i].y -= col_data.overlap.y / 2 * (-i * 2 + 1) * ((col_data.obj === cars[0]) * 2 - 1);\n\t\t\t\tcars[i].behaviors.Car.setImpulse(new_v[i][0], new_v[i][1]);\n\t\t\t\tcars[i].behaviors.Car.setVector(new_v[i][0], new_v[i][1]);\n\t\t\t\t//cars[i].behaviors.Car.spin = new_av[i] * (-i * 2 + 1);\n\t\t\t}\n\t\t}\n\t\t/*\n\t\tfor (let i = 0; i < 2; i++) {\n\t\t\tcars[i].x -= vecs[i][0] * dt;\n\t\t\tcars[i].y -= vecs[i][1] * dt;\n\t\t\tcars[i].angle -= angdiffs[i];\n\t\t}\n\t\t*/\n\t}\n}\n}"
		},
		{
			"eventType": "script",
			"script": "// calculate car positions\nfunction getCP(id) {\n\tconst CP = runtime.objects.checkpoint.getAllInstances();\n\tfor (let checkpoint of CP) {\n\t\tif (checkpoint.instVars.checkpointID == id) { return checkpoint; }\n\t}\n}\n\nconst dt = runtime.dt;\nconst all_cars = runtime.objects.Car.getAllInstances();\nconst CPs = runtime.objects.checkpoint.getAllInstances().length;\nlet results = [];\nfor (let index = 0; index < all_cars.length; index++) {\n\tlet car = all_cars[index];\n\tlet [posx, posy] = car.getImagePoint(\"Front\");\n\tlet col = car.getChildAt(0);\n\tlet txt = car.getChildAt(1);\n\tlet newCP = getCP(col.instVars.ToCheckpoint);\n\tlet oldCP = getCP((CPs - 1 + col.instVars.ToCheckpoint) % CPs);\n\tlet completion_fraction = Vector.distance(Vector(posx, posy), Vector(oldCP.x, oldCP.y)) / Vector.distance(Vector(oldCP.x, oldCP.y), Vector(newCP.x, newCP.y));\n\tlet pos = (col.instVars.Lap) * CPs + col.instVars.ToCheckpoint + completion_fraction;\n\t//console.log(col, pos);\n\tresults.push({txt: txt, pos: pos});\n}\nresults = results.sort((a, b) => {return b.pos - a.pos});\nfor (let index = 0; index < results.length; index++) results[index].txt.text = String(index + 1);"
		},
		{
			"functionName": "GameOver",
			"functionDescription": "",
			"functionCategory": "Level",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 668442320460034,
					"parameters": {
						"object": "Car",
						"expression": "Car.Player",
						"comparison": 0,
						"value": "1"
					}
				}
			],
			"actions": [
				{
					"id": "alert",
					"objectClass": "Browser",
					"sid": 644850693104751,
					"disabled": true,
					"parameters": {
						"message": "\"gameover\""
					}
				}
			],
			"sid": 402050969568482,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 895669639907753,
							"parameters": {
								"object": "Particles",
								"expression": "Particles.Pin.PinnedUID",
								"comparison": 0,
								"value": "Car.UID"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Particles",
							"sid": 521574783897645
						}
					],
					"sid": 481176952738504
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Car",
							"sid": 240450283831910
						},
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 319572923500503,
							"parameters": {
								"message": "\"Хорошая была попытка! Нажми [R] для перезапуска или [ESC] для выхода в меню\""
							}
						}
					],
					"sid": 332326593847943
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Init Functions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "PlaceTireEffects",
					"functionDescription": "",
					"functionCategory": "Car",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 742312758052950,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 244254161580286,
									"parameters": {
										"object": "Car"
									}
								}
							],
							"actions": [],
							"sid": 869570959215143,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 801473063391808,
											"parameters": {
												"name": "\"TireImagePoints\"",
												"start-index": "1",
												"end-index": "2"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "Car",
											"sid": 660051512525494,
											"parameters": {
												"object": "Particles",
												"layer": "Car.LayerName",
												"image-point": "loopindex(\"TireImagePoints\")",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-angle",
											"objectClass": "Particles",
											"sid": 619023062418516,
											"parameters": {
												"angle": "Car.Angle - 180"
											}
										},
										{
											"id": "pin-to-object-properties",
											"objectClass": "Particles",
											"sid": 637640197501913,
											"disabled": true,
											"behaviorType": "Pin",
											"parameters": {
												"pin-to": "Car",
												"x": true,
												"y": true,
												"angle": true,
												"width-type": "no",
												"height-type": "no",
												"z": false
											}
										},
										{
											"id": "add-child",
											"objectClass": "Car",
											"sid": 453667252843530,
											"parameters": {
												"child": "Particles",
												"transform-x": true,
												"transform-y": true,
												"transform-w": true,
												"transform-h": true,
												"transform-a": true,
												"transform-z-elevation": true,
												"destroy-with-parent": true
											}
										},
										{
											"id": "set-rate",
											"objectClass": "Particles",
											"sid": 593759753189017,
											"parameters": {
												"rate": "0"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "Particles",
											"sid": 133053887744600,
											"parameters": {
												"where": "behind",
												"object": "Car"
											}
										}
									],
									"sid": 163290690559552
								}
							]
						}
					]
				},
				{
					"functionName": "PlaceCars",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 506008166153602,
					"children": [
						{
							"eventType": "variable",
							"name": "your_car",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 464665720206785
						},
						{
							"eventType": "variable",
							"name": "max_cars",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 719507629488441
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 767997567724479
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 746396337756418,
									"parameters": {
										"variable": "max_cars",
										"value": "game_mode = \"FreeRoam\" ? 1 : game_mode = \"Race\" ? flags.Get(\"difficulty_enemies\") + 1 : 6"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 181457396239701,
									"parameters": {
										"variable": "your_car",
										"value": "floor(random(max_cars))"
									}
								}
							],
							"sid": 609190384951487,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 173581067394661,
											"parameters": {
												"name": "\"roadX\"",
												"start-index": "0",
												"end-index": "roads.MapDisplayWidth - 1"
											}
										}
									],
									"actions": [],
									"sid": 868289751795728,
									"children": [
										{
											"eventType": "variable",
											"name": "is_start",
											"type": "boolean",
											"initialValue": "false",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 486606787721111
										},
										{
											"eventType": "variable",
											"name": "tile",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 708620185504794
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 642786714204802,
													"parameters": {
														"name": "\"roadY\"",
														"start-index": "0",
														"end-index": "roads.MapDisplayHeight - 1"
													}
												},
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 782029725529039,
													"parameters": {
														"object": "roads",
														"expression": "roads.back",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 932449154035040,
													"parameters": {
														"variable": "tile",
														"value": "roads.TileAt(loopindex(\"roadX\"), loopindex(\"roadY\"))"
													}
												},
												{
													"type": "script",
													"script": "const tile = localVars.tile;\n//console.log(tile);\nlocalVars.is_start = ((tile == 1) || (tile == 19) || (tile == 37) || (tile == 55));"
												}
											],
											"sid": 487921406185401,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-boolean-eventvar",
															"objectClass": "System",
															"sid": 963645281528584,
															"parameters": {
																"variable": "is_start"
															}
														},
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 780915291047838,
															"parameters": {
																"variable": "max_cars",
																"comparison": 4,
																"value": "0"
															}
														}
													],
													"actions": [
														{
															"id": "subtract-from-eventvar",
															"objectClass": "System",
															"sid": 912479585703204,
															"parameters": {
																"variable": "max_cars",
																"value": "1"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 624926580293675,
															"parameters": {
																"object-to-create": "Car",
																"layer": "\"Level\"",
																"x": "roads.TileToPositionX(loopindex(\"roadX\"))",
																"y": "roads.TileToPositionY(loopindex(\"roadY\"))",
																"create-hierarchy": false
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Car",
															"sid": 843039416997822,
															"parameters": {
																"instance-variable": "Player",
																"value": "false"
															}
														},
														{
															"id": "set-scale",
															"objectClass": "Car",
															"sid": 600323437430708,
															"parameters": {
																"scale": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25\n"
															}
														},
														{
															"id": "move-to-top",
															"objectClass": "Car",
															"sid": 840226071667387
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 945175612847425,
															"parameters": {
																"variable": "DesAngle",
																"value": "Car.Angle"
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "Car",
															"sid": 204856059643564,
															"parameters": {
																"object": "car_edge_collision",
																"layer": "Car.LayerName",
																"image-point": "0",
																"create-hierarchy": false
															}
														},
														{
															"id": "add-child",
															"objectClass": "Car",
															"sid": 314115766573560,
															"parameters": {
																"child": "car_edge_collision",
																"transform-x": true,
																"transform-y": true,
																"transform-w": false,
																"transform-h": false,
																"transform-a": true,
																"transform-z-elevation": true,
																"destroy-with-parent": true
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "car_edge_collision",
															"sid": 299455500289481,
															"parameters": {
																"instance-variable": "AttachedToCarUID",
																"value": "Car.UID"
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "Car",
															"sid": 671680270392602,
															"parameters": {
																"object": "car_position",
																"layer": "Car.LayerName",
																"image-point": "0",
																"create-hierarchy": false
															}
														},
														{
															"id": "add-child",
															"objectClass": "Car",
															"sid": 734845488610432,
															"parameters": {
																"child": "car_position",
																"transform-x": true,
																"transform-y": true,
																"transform-w": false,
																"transform-h": false,
																"transform-a": false,
																"transform-z-elevation": true,
																"destroy-with-parent": false
															}
														},
														{
															"id": "set-angle",
															"objectClass": "car_position",
															"sid": 919887381472740,
															"parameters": {
																"angle": "0"
															}
														},
														{
															"id": "set-scale",
															"objectClass": "car_edge_collision",
															"sid": 331505822174239,
															"parameters": {
																"scale": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\r\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25"
															}
														},
														{
															"id": "move-to-object",
															"objectClass": "Car",
															"sid": 932086780477895,
															"parameters": {
																"where": "behind",
																"object": "scenery"
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "Car",
															"sid": 982569711717402,
															"parameters": {
																"object": "cannon",
																"layer": "Car.LayerName",
																"image-point": "0",
																"create-hierarchy": false
															}
														},
														{
															"id": "add-child",
															"objectClass": "Car",
															"sid": 434689024158149,
															"parameters": {
																"child": "cannon",
																"transform-x": true,
																"transform-y": true,
																"transform-w": false,
																"transform-h": false,
																"transform-a": false,
																"transform-z-elevation": true,
																"destroy-with-parent": true
															}
														},
														{
															"id": "add-obstacle",
															"objectClass": "Car",
															"sid": 171192196236919,
															"disabled": true,
															"behaviorType": "LineOfSight",
															"parameters": {
																"obstacle": "RocketTarget"
															}
														},
														{
															"id": "add-obstacle",
															"objectClass": "Car",
															"sid": 519581520319648,
															"behaviorType": "LineOfSight",
															"parameters": {
																"obstacle": "Obstacle"
															}
														}
													],
													"sid": 600069237953187,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-eventvar",
																	"objectClass": "System",
																	"sid": 496004281147884,
																	"parameters": {
																		"variable": "your_car",
																		"comparison": 0,
																		"value": "max_cars"
																	}
																}
															],
															"actions": [
																{
																	"id": "add-child",
																	"objectClass": "Car",
																	"sid": 740582712274644,
																	"parameters": {
																		"child": "cam_follow",
																		"transform-x": true,
																		"transform-y": true,
																		"transform-w": false,
																		"transform-h": false,
																		"transform-a": false,
																		"transform-z-elevation": true,
																		"destroy-with-parent": false
																	}
																},
																{
																	"id": "set-position-to-another-object",
																	"objectClass": "cam_follow",
																	"sid": 705021252249734,
																	"parameters": {
																		"object": "Car",
																		"image-point-optional": "0"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Car",
																	"sid": 496978853120031,
																	"parameters": {
																		"instance-variable": "Player",
																		"value": "true"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 144568257666858,
																	"parameters": {
																		"instance-variable": "Health",
																		"value": "flags.Get(\"difficulty_lives\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 347070585497137,
																	"parameters": {
																		"instance-variable": "CarAccelBasic",
																		"value": "flags.Get(\"player_accel\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 576818140773907,
																	"parameters": {
																		"instance-variable": "CarDecelBasic",
																		"value": "flags.Get(\"player_decel\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 570103114710700,
																	"parameters": {
																		"instance-variable": "CarRecoverBasic",
																		"value": "flags.Get(\"player_recover\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 866520816590095,
																	"parameters": {
																		"instance-variable": "CarSpeedBasic",
																		"value": "flags.Get(\"player_max_speed\")"
																	}
																}
															],
															"sid": 699446388464741
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 455036804494430
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Car",
																	"sid": 886736912883682,
																	"parameters": {
																		"instance-variable": "Player",
																		"value": "false"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 496867959793443,
																	"parameters": {
																		"instance-variable": "CarAccelBasic",
																		"value": "flags.Get(\"ai_accel\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 505033156522470,
																	"parameters": {
																		"instance-variable": "CarDecelBasic",
																		"value": "flags.Get(\"ai_decel\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 691477473550043,
																	"parameters": {
																		"instance-variable": "CarRecoverBasic",
																		"value": "flags.Get(\"ai_recover\")"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Car",
																	"sid": 708055580633790,
																	"parameters": {
																		"instance-variable": "CarSpeedBasic",
																		"value": "flags.Get(\"ai_max_speed\")"
																	}
																},
																{
																	"callFunction": "CreateAI_Car",
																	"sid": 495576114275740,
																	"parameters": [
																		"Car.UID"
																	]
																}
															],
															"sid": 551265152237220
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-boolean-eventvar",
															"objectClass": "System",
															"sid": 563172682974281,
															"parameters": {
																"variable": "is_start"
															}
														}
													],
													"actions": [
														{
															"id": "alert",
															"objectClass": "Browser",
															"sid": 796158979478433,
															"disabled": true,
															"parameters": {
																"message": "is_start"
															}
														}
													],
													"sid": 858529792271729
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Make a random instance into player's car"
								}
							]
						}
					]
				},
				{
					"functionName": "PlaceDriftZones",
					"functionDescription": "",
					"functionCategory": "Level",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 777720239267578,
							"parameters": {
								"object": "roads",
								"expression": "roads.back",
								"comparison": 0,
								"value": "0"
							}
						},
						{
							"id": "for",
							"objectClass": "System",
							"sid": 584641229125752,
							"parameters": {
								"name": "\"roadX\"",
								"start-index": "0",
								"end-index": "roads.MapDisplayWidth - 1"
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 120887886463795,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 1,
								"second-value": "\"ParkingLot\""
							}
						}
					],
					"actions": [],
					"sid": 181519836266787,
					"children": [
						{
							"eventType": "variable",
							"name": "is_corner",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 818663736196865
						},
						{
							"eventType": "variable",
							"name": "tile",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 849889191771975
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 520456868054006,
									"parameters": {
										"name": "\"roadY\"",
										"start-index": "0",
										"end-index": "roads.MapDisplayHeight - 1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 614682444272234,
									"parameters": {
										"variable": "tile",
										"value": "roads.TileAt(loopindex(\"roadX\"), loopindex(\"roadY\"))"
									}
								},
								{
									"type": "script",
									"script": "localVars.is_corner = test_tile_for_corner(localVars.tile);"
								}
							],
							"sid": 800878022548247,
							"children": [
								{
									"eventType": "variable",
									"name": "clock_id",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 161072314845894
								},
								{
									"eventType": "variable",
									"name": "circle_id",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 802044569798921
								},
								{
									"eventType": "variable",
									"name": "pos_id",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 394597225226335
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 966794048377206,
											"parameters": {
												"variable": "is_corner"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 808778242945111,
											"parameters": {
												"object-to-create": "drift_zone",
												"layer": "\"Level\"",
												"x": "roads.TileToPositionX(loopindex(\"roadX\")) ",
												"y": "roads.TileToPositionY(loopindex(\"roadY\"))",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-size",
											"objectClass": "drift_zone",
											"sid": 281172634646806,
											"parameters": {
												"width": "768",
												"height": "768"
											}
										},
										{
											"type": "script",
											"script": "localVars.clock_id = map_corners_to_clock(localVars.tile);\nlocalVars.pos_id = map_corners_to_pos(localVars.tile);\nlocalVars.circle_id = map_corners_to_circle(localVars.tile);\n//alert(localVars.tile + \" \" + localVars.clock_id + \" \" + localVars.pos_id);"
										},
										{
											"id": "set-position",
											"objectClass": "drift_zone",
											"sid": 548647600293952,
											"parameters": {
												"x": "Self.X + (Self.Width - roads.TileWidth) / 2 * (floor(pos_id / 2) * 2 - 1)",
												"y": "Self.Y + (Self.Height - roads.TileHeight)/ 2 * (pos_id % 2 * 2 - 1)"
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "drift_zone",
											"sid": 213165140228187,
											"parameters": {
												"object": "score_point",
												"layer": "drift_zone.LayerName",
												"image-point": "0",
												"create-hierarchy": false
											}
										}
									],
									"sid": 227754599719771,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-nearestfurthest",
													"objectClass": "Pole",
													"sid": 608434308518554,
													"parameters": {
														"which": "nearest",
														"x": "drift_zone.X",
														"y": "drift_zone.Y"
													}
												}
											],
											"actions": [
												{
													"id": "set-text",
													"objectClass": "score_point",
													"sid": 684123693343138,
													"parameters": {
														"text": "Pole.TurnId"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "drift_zone",
													"sid": 563089610690062,
													"parameters": {
														"instance-variable": "TurnId",
														"value": "Pole.TurnId"
													}
												}
											],
											"sid": 797528956490405,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "Pole",
															"sid": 262236449474124,
															"parameters": {
																"instance-variable": "NinetyTurns",
																"comparison": 0,
																"value": "1"
															}
														}
													],
													"actions": [],
													"sid": 392919976368066,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "Pole",
																	"sid": 655235291032652,
																	"parameters": {
																		"instance-variable": "Clockwise"
																	}
																}
															],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 259460897777402,
																	"parameters": {
																		"object-to-create": "ideal",
																		"layer": "drift_zone.LayerName",
																		"x": "drift_zone.X + (clock_id % 2 = 0 ? 384: 0) * (clock_id - 1)",
																		"y": "drift_zone.Y - (clock_id % 2 = 1 ? 384: 0) * (clock_id - 2)",
																		"create-hierarchy": false
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "ideal",
																	"sid": 972158290740100,
																	"disabled": true,
																	"parameters": {
																		"x": "Self.X - (clock_id % 2 = 1 ? 128: 0) * (clock_id - 2)",
																		"y": "Self.Y - (clock_id % 2 = 0 ? 128: 0) * (clock_id - 1)"
																	}
																}
															],
															"sid": 799209392173785
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 751543611300042
																}
															],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 112408880089502,
																	"parameters": {
																		"object-to-create": "ideal",
																		"layer": "drift_zone.LayerName",
																		"x": "drift_zone.X + (clock_id % 2 = 1 ? 384: 0) * (clock_id - 2)",
																		"y": "drift_zone.Y + (clock_id % 2 = 0 ? 384: 0) * (clock_id - 1)",
																		"create-hierarchy": false
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "ideal",
																	"sid": 899428399375597,
																	"disabled": true,
																	"parameters": {
																		"x": "Self.X - (clock_id % 2 = 0 ? 128: 0) * (clock_id - 1)",
																		"y": "Self.Y + (clock_id % 2 = 1 ? 128: 0) * (clock_id - 2)"
																	}
																}
															],
															"sid": 771694882634158
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "Pole",
															"sid": 428260452354539,
															"parameters": {
																"instance-variable": "NinetyTurns",
																"comparison": 0,
																"value": "2"
															}
														},
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 812720234981222,
															"parameters": {
																"variable": "circle_id",
																"comparison": 0,
																"value": "(4 + Pole.TurnAngle / 90 - (Pole.Clockwise ? 0 : 1)) % 4"
															}
														}
													],
													"actions": [],
													"sid": 908783420536841,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "Pole",
																	"sid": 907358212993458,
																	"parameters": {
																		"instance-variable": "Clockwise"
																	}
																}
															],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 763428286051091,
																	"parameters": {
																		"object-to-create": "ideal",
																		"layer": "drift_zone.LayerName",
																		"x": "drift_zone.X - (circle_id % 2 = 0 ? 384: 0) * (circle_id  - 1)",
																		"y": "drift_zone.Y - (circle_id % 2 = 1 ? 384: 0) * (circle_id - 2)",
																		"create-hierarchy": false
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "ideal",
																	"sid": 215860056694170,
																	"parameters": {
																		"x": "Self.X - (circle_id % 2 = 1 ? 128: 0) * (circle_id- 2)",
																		"y": "Self.Y + (circle_id % 2 = 0 ? 128: 0) * (circle_id - 1)"
																	}
																}
															],
															"sid": 185167302026551
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 817428454713264
																}
															],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 426426450123600,
																	"parameters": {
																		"object-to-create": "ideal",
																		"layer": "drift_zone.LayerName",
																		"x": "drift_zone.X + (circle_id % 2 = 1 ? 384: 0) * (circle_id - 2)",
																		"y": "drift_zone.Y - (circle_id  % 2 = 0 ? 384: 0) * (circle_id - 1)",
																		"create-hierarchy": false
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "ideal",
																	"sid": 603814014729081,
																	"parameters": {
																		"x": "Self.X + (circle_id % 2 = 0 ? 128: 0) * (circle_id - 1)",
																		"y": "Self.Y + (circle_id % 2 = 1 ? 128: 0) * (circle_id - 2)"
																	}
																},
																{
																	"id": "add-to-instvar",
																	"objectClass": "drift_zone",
																	"sid": 374883402408007,
																	"parameters": {
																		"instance-variable": "TurnId",
																		"value": "0.1"
																	}
																}
															],
															"sid": 827118977116499
														}
													]
												}
											]
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 447023400705493
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-created",
					"objectClass": "DriftMarks",
					"sid": 697573029330549
				}
			],
			"actions": [
				{
					"id": "set-angle",
					"objectClass": "DriftMarks",
					"sid": 379683087994991,
					"parameters": {
						"angle": "0"
					}
				},
				{
					"id": "move-to-object",
					"objectClass": "DriftMarks",
					"sid": 668683319012045,
					"parameters": {
						"where": "behind",
						"object": "Car"
					}
				}
			],
			"sid": 111980000100809,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 713069174565136,
							"parameters": {
								"first-value": "DriftMarks.Count",
								"comparison": 4,
								"second-value": "500"
							}
						}
					],
					"actions": [],
					"sid": 656376326181600,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-nth-instance",
									"objectClass": "System",
									"sid": 957436064580120,
									"parameters": {
										"object": "DriftMarks",
										"instance": "500"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "DriftMarks",
									"sid": 573288620528505
								}
							],
							"sid": 131250572611253
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-nth-instance",
									"objectClass": "System",
									"sid": 240261164235450,
									"parameters": {
										"object": "DriftMarks",
										"instance": "499"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "DriftMarks",
									"sid": 327003146228980
								}
							],
							"sid": 821517699206464
						}
					]
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Rockets & Obstacles",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "RocketsChanged",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-nth-instance",
							"objectClass": "System",
							"sid": 706909988847694,
							"parameters": {
								"object": "score_ui",
								"instance": "1"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 430636527195108,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 103980573439330,
							"parameters": {
								"text": "Car.Ammo"
							}
						}
					],
					"sid": 431344780895109
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Car",
							"sid": 715123249365497,
							"parameters": {
								"object": "Obstacle"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "Obstacle",
							"sid": 613810017143771
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 753218951500656,
							"parameters": {
								"variable": "Rewinding"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "Obstacle",
							"sid": 215479430255839,
							"parameters": {
								"where": "behind",
								"object": "Car"
							}
						},
						{
							"callFunction": "CarDamage",
							"sid": 366781480435686,
							"parameters": [
								"Car.UID"
							]
						}
					],
					"sid": 768580828014592
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "rocket",
							"sid": 286276077505873
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "rocket",
							"sid": 734148797638448,
							"parameters": {
								"object": "Particles",
								"layer": "rocket.LayerName",
								"image-point": "\"Smoke\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-angle-toward-position",
							"objectClass": "Particles",
							"sid": 854154856987301,
							"parameters": {
								"x": "rocket.X",
								"y": "rocket.Y"
							}
						},
						{
							"id": "rotate-clockwise",
							"objectClass": "Particles",
							"sid": 970351060009073,
							"parameters": {
								"degrees": "180"
							}
						},
						{
							"id": "set-rate",
							"objectClass": "Particles",
							"sid": 216136241817387,
							"parameters": {
								"rate": "50"
							}
						},
						{
							"id": "add-child",
							"objectClass": "rocket",
							"sid": 458407507316117,
							"parameters": {
								"child": "Particles",
								"transform-x": true,
								"transform-y": true,
								"transform-w": true,
								"transform-h": true,
								"transform-a": true,
								"transform-z-elevation": true,
								"destroy-with-parent": true
							}
						}
					],
					"sid": 907902630235834
				},
				{
					"functionName": "DoDamage",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Name",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 332561125551512
						},
						{
							"name": "UID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 451628167853577
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "call-mapped-function",
							"objectClass": "Functions",
							"sid": 451398099831261,
							"parameters": {
								"name": "\"destruction\"",
								"string": "Name&\"Damage\"",
								"forward-params": "1"
							}
						}
					],
					"sid": 714618832625658
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "rocket",
							"sid": 620020715593394,
							"parameters": {
								"object": "RocketTarget"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "RocketTarget",
							"sid": 688806082306323,
							"parameters": {
								"unique-id": "rocket.ShooterUID"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "rocket",
							"sid": 195603868920692
						},
						{
							"callFunction": "DoDamage",
							"sid": 332481430929093,
							"parameters": [
								"RocketTarget.TargetName",
								"RocketTarget.UID"
							]
						}
					],
					"sid": 503052284506096
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-enabled",
							"objectClass": "rocket",
							"sid": 286117990547406,
							"behaviorType": "Bullet"
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "RocketTarget",
							"sid": 308360768386132,
							"parameters": {
								"unique-id": "rocket.TargetUID"
							}
						}
					],
					"actions": [
						{
							"id": "rotate-toward-position",
							"objectClass": "rocket",
							"sid": 570729755242105,
							"parameters": {
								"degrees": "0.5",
								"x": "RocketTarget.X",
								"y": "RocketTarget.Y"
							}
						}
					],
					"sid": 975066713178579
				},
				{
					"functionName": "CarDamage",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "CarUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 346794720506018
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Car",
							"sid": 932581404322848,
							"parameters": {
								"unique-id": "CarUID"
							}
						}
					],
					"actions": [],
					"sid": 669357926842660,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 261958070772039,
									"parameters": {
										"instance-variable": "Player"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 955753400177028,
									"parameters": {
										"instance-variable": "Flying"
									},
									"isInverted": true
								},
								{
									"id": "is-flashing",
									"objectClass": "Car",
									"sid": 614118237113717,
									"behaviorType": "Flash",
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "alert",
									"objectClass": "Browser",
									"sid": 269582843882722,
									"disabled": true,
									"parameters": {
										"message": "Car.Health"
									}
								}
							],
							"sid": 655061162577513,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Car",
											"sid": 626064111998576,
											"parameters": {
												"instance-variable": "Health",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"callFunction": "GameOver",
											"sid": 485201000741622,
											"disabled": true
										},
										{
											"callFunction": "RewindScreen",
											"sid": 275312367899508
										}
									],
									"sid": 773278014728372
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 606919652031199
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Car",
											"sid": 519116573691458,
											"parameters": {
												"instance-variable": "Health",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "Car",
											"sid": 343035145983584,
											"parameters": {
												"instance-variable": "Health",
												"value": "1"
											}
										},
										{
											"id": "flash",
											"objectClass": "Car",
											"sid": 682774157515970,
											"behaviorType": "Flash",
											"parameters": {
												"on-time": "0.1",
												"off-time": "0.1",
												"duration": "2"
											}
										}
									],
									"sid": 432596673646681,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-nth-instance",
													"objectClass": "System",
													"sid": 717924618237118,
													"parameters": {
														"object": "score_ui",
														"instance": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-text",
													"objectClass": "score_ui",
													"sid": 815019530441381,
													"parameters": {
														"text": "Car.Health&\"❤\""
													}
												}
											],
											"sid": 465220396527753
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 848833068426090,
									"parameters": {
										"instance-variable": "Player"
									},
									"isInverted": true
								},
								{
									"id": "is-flashing",
									"objectClass": "Car",
									"sid": 896145233787455,
									"behaviorType": "Flash",
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "flash",
									"objectClass": "Car",
									"sid": 213681559931674,
									"behaviorType": "Flash",
									"parameters": {
										"on-time": "0.1",
										"off-time": "0.1",
										"duration": "2"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "Car",
									"sid": 577160497451534,
									"behaviorType": "Car",
									"parameters": {
										"speed": "Car.Car.Speed * 0.25"
									}
								}
							],
							"sid": 519720963321345
						}
					]
				},
				{
					"functionName": "ObstacleDamage",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "ObstacleUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 220176396606081
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Obstacle",
							"sid": 673522303530915,
							"parameters": {
								"unique-id": "ObstacleUID"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Obstacle",
							"sid": 302273943697315
						}
					],
					"sid": 945582745672326
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tap-object",
							"objectClass": "Touch",
							"sid": 499988724393390,
							"parameters": {
								"object": "ShootBut"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 135552985844332,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "Car",
							"sid": 100459605274800,
							"parameters": {
								"instance-variable": "Ammo",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "Car",
							"sid": 313770732703559,
							"parameters": {
								"child": "cannon",
								"which": "own"
							}
						}
					],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "cannon",
							"sid": 692952432948037,
							"parameters": {
								"object": "rocket",
								"layer": "Car.LayerName",
								"image-point": "\"Missile\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "rocket",
							"sid": 517946554445082,
							"parameters": {
								"instance-variable": "ShooterUID",
								"value": "Car.UID"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "rocket",
							"sid": 717054134396446,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "0"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "rocket",
							"sid": 244208058707269,
							"parameters": {
								"angle": "cannon.Angle"
							}
						},
						{
							"id": "set-speed",
							"objectClass": "rocket",
							"sid": 583580380437834,
							"behaviorType": "Bullet",
							"parameters": {
								"speed": "max(Car.Car.Speed + 50, 300)"
							}
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "Car",
							"sid": 935698830154344,
							"parameters": {
								"instance-variable": "Ammo",
								"value": "1"
							}
						},
						{
							"callFunction": "RocketsChanged",
							"sid": 386791445816392
						}
					],
					"sid": 176015665611382,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 609424818760628,
									"parameters": {
										"object": "RocketTarget",
										"expression": "RocketTarget.UID",
										"comparison": 1,
										"value": "Car.UID"
									}
								}
							],
							"actions": [],
							"sid": 416206526316966,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each-ordered",
											"objectClass": "System",
											"sid": 206195377234871,
											"parameters": {
												"object": "RocketTarget",
												"expression": "(0.25 + anglediff(Car.Angle, angle(Car.X, Car.Y, RocketTarget.X, RocketTarget.Y)) / 180 ) * distance(Car.X, Car.Y, RocketTarget.X, RocketTarget.Y)",
												"order": "ascending"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "rocket",
											"sid": 190719842997690,
											"parameters": {
												"instance-variable": "TargetUID",
												"value": "RocketTarget.UID"
											}
										},
										{
											"id": "stop-loop",
											"objectClass": "System",
											"sid": 794805900372940
										}
									],
									"sid": 306908912641540
								}
							]
						}
					]
				}
			],
			"sid": 747670836374308
		},
		{
			"functionName": "DrawArray",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "clear-canvas",
					"objectClass": "DrawingCanvas",
					"sid": 677117744578138,
					"parameters": {
						"color": "rgba(0, 0, 0, 0)"
					}
				},
				{
					"id": "line",
					"objectClass": "DrawingCanvas",
					"sid": 996842154281676,
					"parameters": {
						"x1": "ddraw.At(0, 0)",
						"y1": "ddraw.At(0, 1)",
						"x2": "ddraw.At(1, 0)",
						"y2": "ddraw.At(1, 1)",
						"color": "rgba(255, 0, 0, 50)",
						"line-thickness": "5",
						"line-cap": "square"
					}
				}
			],
			"sid": 566286237315956,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 433523670126206,
							"parameters": {
								"name": "\"ddraw\"",
								"start-index": "2",
								"end-index": "4"
							}
						}
					],
					"actions": [
						{
							"id": "line",
							"objectClass": "DrawingCanvas",
							"sid": 151429243128194,
							"parameters": {
								"x1": "ddraw.At(loopindex(\"ddraw\"), 0)",
								"y1": "ddraw.At(loopindex(\"ddraw\"), 1)",
								"x2": "ddraw.At(loopindex(\"ddraw\") + 1, 0)",
								"y2": "ddraw.At(loopindex(\"ddraw\") + 1, 1)",
								"color": "rgba(0, 255, 0, 50)",
								"line-thickness": "5",
								"line-cap": "square"
							}
						}
					],
					"sid": 781316744545051
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "line",
							"objectClass": "DrawingCanvas",
							"sid": 641956298898544,
							"parameters": {
								"x1": "ddraw.At(6, 0)",
								"y1": "ddraw.At(6, 1)",
								"x2": "ddraw.At(7, 0)",
								"y2": "ddraw.At(7, 1)",
								"color": "rgba(0, 0, 255, 50)",
								"line-thickness": "5",
								"line-cap": "square"
							}
						},
						{
							"id": "line",
							"objectClass": "DrawingCanvas",
							"sid": 678647792015193,
							"parameters": {
								"x1": "ddraw.At(8, 0)",
								"y1": "ddraw.At(8, 1)",
								"x2": "ddraw.At(9, 0)",
								"y2": "ddraw.At(9, 1)",
								"color": "rgba(255, 255, 255, 50)",
								"line-thickness": "4",
								"line-cap": "square"
							}
						},
						{
							"id": "fill-ellipse",
							"objectClass": "DrawingCanvas",
							"sid": 582868262928741,
							"parameters": {
								"x": "ddraw.At(8, 0)",
								"y": "ddraw.At(8, 1)",
								"radius-x": "5",
								"radius-y": "5",
								"color": "rgba(0, 0, 0, 100)",
								"edge": "smooth"
							}
						}
					],
					"sid": 296571343327357
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 856406741172301,
					"parameters": {
						"object": "Car"
					}
				},
				{
					"id": "pick-children",
					"objectClass": "Car",
					"sid": 966225281268953,
					"parameters": {
						"child": "cannon",
						"which": "own"
					}
				}
			],
			"actions": [],
			"sid": 800711805686620,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 193832642934516,
							"parameters": {
								"object": "RocketTarget",
								"expression": "RocketTarget.UID",
								"comparison": 1,
								"value": "Car.UID"
							}
						}
					],
					"actions": [],
					"sid": 249678073649169,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 377412343505662,
									"parameters": {
										"object": "RocketTarget",
										"expression": "(0.25 + anglediff(Car.Angle, angle(Car.X, Car.Y, RocketTarget.X, RocketTarget.Y)) / 180 ) * distance(Car.X, Car.Y, RocketTarget.X, RocketTarget.Y)",
										"order": "ascending"
									}
								}
							],
							"actions": [
								{
									"id": "rotate-toward-position",
									"objectClass": "cannon",
									"sid": 871614895468981,
									"parameters": {
										"degrees": "1",
										"x": "RocketTarget.X",
										"y": "RocketTarget.Y"
									}
								},
								{
									"id": "stop-loop",
									"objectClass": "System",
									"sid": 653274652821165
								}
							],
							"sid": 222170840013500
						}
					]
				}
			]
		},
		{
			"functionName": "RewindScreen",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "comment",
					"text": "Stop the game"
				},
				{
					"id": "set-time-scale",
					"objectClass": "System",
					"sid": 561948473777388,
					"parameters": {
						"time-scale": "0"
					}
				},
				{
					"type": "comment",
					"text": "Spawn the screen"
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 934412907255906,
					"parameters": {
						"object-to-create": "pause_back",
						"layer": "\"GUI\"",
						"x": "360",
						"y": "700",
						"create-hierarchy": false
					}
				},
				{
					"id": "spawn-another-object",
					"objectClass": "pause_back",
					"sid": 126842718742113,
					"parameters": {
						"object": "RewindBut",
						"layer": "\"GUI\"",
						"image-point": "\"MidBut\"",
						"create-hierarchy": false
					}
				},
				{
					"id": "spawn-another-object",
					"objectClass": "pause_back",
					"sid": 666705801424815,
					"parameters": {
						"object": "RewindBar",
						"layer": "\"GUI\"",
						"image-point": "\"Bar\"",
						"create-hierarchy": false
					}
				},
				{
					"id": "spawn-another-object",
					"objectClass": "pause_back",
					"sid": 279866916993667,
					"parameters": {
						"object": "PauseTxt",
						"layer": "\"GUI\"",
						"image-point": "\"Txt\"",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-text",
					"objectClass": "PauseTxt",
					"sid": 160030982277314,
					"parameters": {
						"text": "\"Отмотать время?\""
					}
				},
				{
					"type": "comment",
					"text": "Make the bar moving"
				},
				{
					"id": "set-object-time-scale",
					"objectClass": "System",
					"sid": 719990183753363,
					"parameters": {
						"object": "RewindBar",
						"time-scale": "1.0"
					}
				},
				{
					"id": "tween-one-property",
					"objectClass": "RewindBar",
					"sid": 675140279800444,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"rewind_timer\"",
						"property": "offsetWidth",
						"end-value": "0",
						"time": "Self.Time_to_decide",
						"ease": "default",
						"destroy-on-complete": "no",
						"loop": "no",
						"ping-pong": "no"
					}
				}
			],
			"sid": 682137329032921
		},
		{
			"functionName": "ClearRewindScreen",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "pause_back",
					"sid": 613704386392771
				},
				{
					"id": "destroy",
					"objectClass": "RewindBar",
					"sid": 624873369699587
				},
				{
					"id": "destroy",
					"objectClass": "RewindBut",
					"sid": 661681378211308
				},
				{
					"id": "destroy",
					"objectClass": "PauseTxt",
					"sid": 671431014266438
				}
			],
			"sid": 297445776554342
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 213734231318493,
					"parameters": {
						"object": "RewindBut"
					}
				}
			],
			"actions": [
				{
					"callFunction": "ClearRewindScreen",
					"sid": 518816592712017
				},
				{
					"type": "comment",
					"text": "Remember: car information is recorded at a constant 50 fps rate"
				},
				{
					"callFunction": "StartRewind",
					"sid": 161035813276238,
					"parameters": [
						"150"
					]
				}
			],
			"sid": 958845019253020
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-on-screen",
					"objectClass": "RewindBar",
					"sid": 595529891814782
				}
			],
			"actions": [],
			"sid": 899250371437098,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-width",
							"objectClass": "RewindBar",
							"sid": 286978809055377,
							"parameters": {
								"comparison": 3,
								"width": "0"
							}
						}
					],
					"actions": [
						{
							"callFunction": "ClearRewindScreen",
							"sid": 755218804913995
						},
						{
							"callFunction": "GameOver",
							"sid": 612555457656762
						}
					],
					"sid": 559548000453539
				}
			]
		},
		{
			"functionName": "TeleportToBounds",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 965895710608056
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "TestControls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 684478160148746,
							"parameters": {
								"object": "AccelBut"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 212986382213308,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Car",
							"sid": 782888551755709,
							"behaviorType": "Car",
							"parameters": {
								"control": "accelerate"
							}
						}
					],
					"sid": 178447452753690
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 166542256759479,
							"parameters": {
								"object": "DecelBut"
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 557646181278390,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Car",
							"sid": 642991308085744,
							"behaviorType": "Car",
							"parameters": {
								"control": "brake"
							}
						}
					],
					"sid": 856942088552608
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 792986085590181,
							"parameters": {
								"object": "Wheel"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "Wheel",
							"sid": 743998072061739,
							"parameters": {
								"x": "Touch.X(\"GUI\")",
								"y": "Touch.Y(\"GUI\")"
							}
						}
					],
					"sid": 831849837872851,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 245788405062048
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 712366935323620,
									"parameters": {
										"variable": "motion",
										"value": "1"
									}
								}
							],
							"sid": 948743480868138
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-angles",
									"objectClass": "Wheel",
									"sid": 435950792506718,
									"parameters": {
										"first-angle": "180",
										"second-angle": "359.99"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-angle",
									"objectClass": "Wheel",
									"sid": 773542909080516,
									"parameters": {
										"angle": "Self.Angle > 90 ? 180 : 359"
									}
								}
							],
							"sid": 848301338248114
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 321381913220899,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "is-between-angles",
									"objectClass": "Wheel",
									"sid": 660246782527499,
									"parameters": {
										"first-angle": "270 - flags.Get(\"controls_dead_zone\")",
										"second-angle": "270 + flags.Get(\"controls_dead_zone\")"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 736573881952169,
									"parameters": {
										"variable": "motion",
										"value": "max((motion < 1 ? 1 : motion), Touch.SpeedAt(Touch.TouchIndex))"
									}
								},
								{
									"id": "set-text",
									"objectClass": "score_ui",
									"sid": 551466582690490,
									"disabled": true,
									"parameters": {
										"text": "roundToDp(ln(motion)/ln(flags.Get(\"controls_speed_factor\")), 3)"
									}
								},
								{
									"id": "set-steer-speed",
									"objectClass": "Car",
									"sid": 631967494644788,
									"behaviorType": "Car",
									"parameters": {
										"steer-speed": "(ln(motion)/ln(flags.Get(\"controls_speed_factor\"))) * ((270 - Wheel.Angle) * (2 * flags.Get(\"controls_invert\") - 1)) / 90 * Self.SteerCoef * flags.Get(\"controls_sensitivity\")"
									}
								},
								{
									"id": "simulate-control",
									"objectClass": "Car",
									"sid": 933583998937072,
									"behaviorType": "Car",
									"parameters": {
										"control": "steer-right"
									}
								}
							],
							"sid": 903983572069168
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 442196259061822
						}
					],
					"actions": [
						{
							"id": "set-angle",
							"objectClass": "Wheel",
							"sid": 236725635477895,
							"parameters": {
								"angle": "270"
							}
						}
					],
					"sid": 590717862482228
				}
			],
			"sid": 579693355887207
		}
	],
	"sid": 528873411861220
}