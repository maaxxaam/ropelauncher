{
	"name": "GameSheet",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "LevelInits"
		},
		{
			"eventType": "include",
			"includeSheet": "EnemyAI"
		},
		{
			"eventType": "include",
			"includeSheet": "AllEvents"
		},
		{
			"eventType": "comment",
			"text": "RaceStart, RaceActive, RaceOver, Rewind, Replay, Pause (TO-DO)"
		},
		{
			"eventType": "variable",
			"name": "GameState",
			"type": "string",
			"initialValue": "RaceStart",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 212350938165535
		},
		{
			"eventType": "variable",
			"name": "GAME_PAUSE",
			"type": "string",
			"initialValue": "Pause",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 128252388867683
		},
		{
			"eventType": "variable",
			"name": "GAME_REPLAY",
			"type": "string",
			"initialValue": "Replay",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 816362126898647
		},
		{
			"eventType": "variable",
			"name": "GAME_REWIND",
			"type": "string",
			"initialValue": "Rewind",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 210548515890688
		},
		{
			"eventType": "variable",
			"name": "GAME_OVER",
			"type": "string",
			"initialValue": "RaceOver",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 415963489740676
		},
		{
			"eventType": "variable",
			"name": "GAME_ACTIVE",
			"type": "string",
			"initialValue": "RaceActive",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 913721739428260
		},
		{
			"eventType": "variable",
			"name": "GAME_START",
			"type": "string",
			"initialValue": "RaceStart",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 843123090495283
		},
		{
			"eventType": "comment",
			"text": "GameStates over"
		},
		{
			"eventType": "variable",
			"name": "MapName",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 792844164604991
		},
		{
			"eventType": "variable",
			"name": "Sprint",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 178840040841814
		},
		{
			"eventType": "variable",
			"name": "Jumps",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 567856082525106
		},
		{
			"eventType": "variable",
			"name": "Rockets",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 261053401737987
		},
		{
			"eventType": "variable",
			"name": "Loaded_level",
			"type": "string",
			"initialValue": "NONE",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 104360278721548
		},
		{
			"eventType": "variable",
			"name": "FirstTime",
			"type": "boolean",
			"initialValue": "true",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 685382731245574
		},
		{
			"eventType": "variable",
			"name": "RaceLaps",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 397961711230499
		},
		{
			"eventType": "variable",
			"name": "AdsDisabled",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 524580793711449
		},
		{
			"eventType": "variable",
			"name": "Lives",
			"type": "number",
			"initialValue": "3",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 813717106884652
		},
		{
			"eventType": "variable",
			"name": "Speed",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 408447452104862
		},
		{
			"eventType": "variable",
			"name": "NitroState",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 956288723818787
		},
		{
			"eventType": "variable",
			"name": "NitroCharge",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 818865361385580
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 157482633919241
				}
			],
			"actions": [
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 977977642947574,
					"parameters": {
						"variable": "Sprint",
						"value": "false"
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 955582037530161,
					"parameters": {
						"layer": "\"Settings\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 536431132604967,
					"parameters": {
						"layer": "\"Settings\"",
						"interactive": false
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 101628354744788,
					"parameters": {
						"layer": "\"Win\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 491803332231123,
					"parameters": {
						"layer": "\"Win\"",
						"interactive": false
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 309414201608471,
					"parameters": {
						"layer": "\"Loss\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 622304597399484,
					"parameters": {
						"layer": "\"Loss\"",
						"interactive": false
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 284886060109549,
					"parameters": {
						"layer": "\"GUI\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 766775482100310,
					"parameters": {
						"layer": "\"GUI\"",
						"interactive": false
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 947135737451345,
					"parameters": {
						"layer": "\"Waiting\"",
						"visibility": "visible"
					}
				},
				{
					"id": "start-fade",
					"objectClass": "black_cover",
					"sid": 798448079545033,
					"behaviorType": "Fade"
				},
				{
					"id": "start-fade",
					"objectClass": "please_wait",
					"sid": 196449710274119,
					"behaviorType": "Fade"
				},
				{
					"callFunction": "LoadMap",
					"sid": 807378559465123,
					"parameters": [
						"MapName"
					]
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 580465724704977,
					"parameters": {
						"variable": "game_mode",
						"value": "MapName = \"map_966518302\" ? \"Race\" : \"FreeRoam\""
					}
				},
				{
					"id": "scroll-to-position",
					"objectClass": "System",
					"sid": 471491008867479,
					"parameters": {
						"x": "15000",
						"y": "15000"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 979211734922689,
					"parameters": {
						"variable": "GameState",
						"value": "GAME_START"
					}
				},
				{
					"id": "set-time-scale",
					"objectClass": "System",
					"sid": 411239987566171,
					"parameters": {
						"time-scale": "1.0"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 117795634144181,
					"parameters": {
						"variable": "RaceLaps",
						"value": "flags.Get(\"difficulty_laps\")"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 671434753158272,
					"parameters": {
						"variable": "NitroCharge",
						"value": "20"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "speed_empty",
					"sid": 641457282293256,
					"parameters": {
						"instance-variable": "moneyonstart",
						"value": "Coins"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 608085690447967,
					"parameters": {
						"variable": "NitroState",
						"value": "0"
					}
				},
				{
					"callFunction": "NitroChanged",
					"sid": 891336781107510,
					"disabled": true
				},
				{
					"callFunction": "ChangeNitroNew",
					"sid": 150877004822933,
					"parameters": [
						"0"
					]
				},
				{
					"callFunction": "RocketsChangedNew",
					"sid": 724680029727738
				},
				{
					"callFunction": "JumpsChanged",
					"sid": 568557332243700
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 672535164683277,
					"parameters": {
						"variable": "Lives",
						"value": "flags.Get(\"difficulty_lives\")"
					}
				},
				{
					"id": "set-text",
					"objectClass": "coin_txt",
					"sid": 364439131511151,
					"parameters": {
						"text": "Coins"
					}
				}
			],
			"sid": 515440288879850,
			"children": [
				{
					"eventType": "comment",
					"text": "Disable all moving bonuses"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 855884843894486,
							"parameters": {
								"object": "Old_Bonus"
							}
						}
					],
					"actions": [
						{
							"id": "set-active",
							"objectClass": "Old_Bonus",
							"sid": 945037223365546,
							"behaviorType": "Sine",
							"parameters": {
								"state": "inactive"
							}
						}
					],
					"sid": 326008994642412
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 814464637816418,
							"parameters": {
								"object": "score_ui",
								"expression": "score_ui.purpose",
								"comparison": 0,
								"value": "\"health\""
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "score_ui",
							"sid": 942948546952372,
							"parameters": {
								"text": "lives"
							}
						}
					],
					"sid": 632762003142762
				},
				{
					"eventType": "comment",
					"text": "Adapt to selected control scheme"
				},
				{
					"eventType": "comment",
					"text": "Hide all unnecessary buttons if running on a PC"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-mobile",
							"objectClass": "PlatformInfo",
							"sid": 960303867827611,
							"isInverted": true
						},
						{
							"id": "is-in-preview",
							"objectClass": "System",
							"sid": 868063745775295,
							"disabled": true,
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "MotionCircle",
							"sid": 352418761364464
						}
					],
					"sid": 367938848174951
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 487593717215167
						},
						{
							"id": "compare-value",
							"objectClass": "flags",
							"sid": 808811296368790,
							"parameters": {
								"key": "\"controls_scheme\"",
								"comparison": 1,
								"value": "2"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "MotionCircle",
							"sid": 494401139216820
						}
					],
					"sid": 979768128826583
				},
				{
					"eventType": "comment",
					"text": "Map functions"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 457711824270465,
							"parameters": {
								"variable": "FirstTime"
							}
						}
					],
					"actions": [
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 643318040433532,
							"parameters": {
								"name": "\"destruction\"",
								"string": "\"Car\"",
								"function": "CarDamage"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 291168418743863,
							"parameters": {
								"name": "\"destruction\"",
								"string": "\"Obstacle\"",
								"function": "ObstacleDamage"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 301281240475899,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"Restart\"",
								"function": "Restart"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 454833207623076,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"ToMenu\"",
								"function": "ToMenu"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 860284272072292,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"Replay\"",
								"function": "Replay"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 791173878131751,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"PauseSwitch\"",
								"function": "PauseSwitch"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 375733767364294,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"UseNitro\"",
								"function": "UseNitro"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 929009332128420,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"Jump\"",
								"function": "Jump"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 955201123274551,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"Shoot\"",
								"function": "Shoot"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 147631831872060,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"Rewind\"",
								"function": "Rewind"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 776325342813102,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"Accelerate\"",
								"function": "Accelerate"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 371360471805809,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"Brake\"",
								"function": "Brake"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 429940974281774,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"TurnLeft\"",
								"function": "TurnLeft"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 419823075487173,
							"parameters": {
								"name": "\"onclick\"",
								"string": "\"TurnRight\"",
								"function": "TurnRight"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 964732072662317,
							"parameters": {
								"variable": "FirstTime",
								"value": "false"
							}
						}
					],
					"sid": 517351284854739
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 382921718233392,
					"parameters": {
						"variable": "GameState",
						"comparison": 0,
						"value": "GAME_START"
					}
				},
				{
					"id": "pick-all",
					"objectClass": "System",
					"sid": 717286730691064,
					"parameters": {
						"object": "Car"
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "Car",
					"sid": 214996296527328,
					"behaviorType": "Car",
					"parameters": {
						"control": "accelerate"
					}
				}
			],
			"sid": 213140790677711,
			"disabled": true
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Car Mechanics",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 231692108687769,
							"parameters": {
								"object": "Car"
							}
						}
					],
					"actions": [],
					"sid": 978924678292424,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-moving",
									"objectClass": "Car",
									"sid": 996863047713797,
									"behaviorType": "Car"
								}
							],
							"actions": [],
							"sid": 200718736496260,
							"children": [
								{
									"eventType": "comment",
									"text": "Apply smoke and tire effect when needed"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-within-angle",
											"objectClass": "System",
											"sid": 385294941065435,
											"parameters": {
												"angle-1": "Car.Angle",
												"within": "7",
												"angle-2": "Car.Car.MovingAngle"
											},
											"isInverted": true
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 769380889026164,
											"parameters": {
												"variable": "GameState",
												"comparison": 0,
												"value": "GAME_ACTIVE"
											}
										}
									],
									"actions": [],
									"sid": 140113492728472,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "Car",
													"sid": 664235032471177,
													"parameters": {
														"instance-variable": "Drifting"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "Car",
													"sid": 529104998266463,
													"parameters": {
														"instance-variable": "Drifting",
														"value": "true"
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "Car",
													"sid": 437174536469941,
													"disabled": true,
													"parameters": {
														"object": "DriftMarks",
														"layer": "Car.LayerName",
														"image-point": "2",
														"create-hierarchy": false
													}
												}
											],
											"sid": 431393202733293,
											"disabled": true,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 627913064478296,
															"parameters": {
																"name": "\"spawn_marks\"",
																"start-index": "0",
																"end-index": "0"
															}
														}
													],
													"actions": [
														{
															"id": "spawn-another-object",
															"objectClass": "Car",
															"sid": 667347129010746,
															"parameters": {
																"object": "DriftMarks",
																"layer": "Car.LayerName",
																"image-point": "loopindex(\"spawn_marks\") + 1",
																"create-hierarchy": false
															}
														},
														{
															"id": "set-at-x",
															"objectClass": "trails",
															"sid": 960722217985008,
															"parameters": {
																"x": "loopindex(\"spawn_marks\")",
																"value": "DriftMarks.UID"
															}
														}
													],
													"sid": 936307810827506,
													"disabled": true
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-children",
															"objectClass": "Car",
															"sid": 447617136421184,
															"parameters": {
																"child": "Particles",
																"which": "own"
															}
														}
													],
													"actions": [
														{
															"id": "set-rate",
															"objectClass": "Particles",
															"sid": 424314933498247,
															"parameters": {
																"rate": "100"
															}
														}
													],
													"sid": 580211069722873
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "Car",
													"sid": 753826776081842,
													"parameters": {
														"instance-variable": "Drifting"
													}
												}
											],
											"actions": [],
											"sid": 124311350604491,
											"disabled": true,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 167105268077736,
															"parameters": {
																"name": "\"push_marks\"",
																"start-index": "0",
																"end-index": "0"
															}
														},
														{
															"id": "pick-by-unique-id",
															"objectClass": "DriftMarks",
															"sid": 545563083260505,
															"parameters": {
																"unique-id": "trails.At(loopindex(\"push_marks\"))"
															}
														}
													],
													"actions": [
														{
															"id": "push-point",
															"objectClass": "DriftMarks",
															"sid": 652091862505904,
															"behaviorType": "TrailRenderer",
															"parameters": {
																"x": "Car.ImagePointX(loopindex(\"push_marks\") + 1)",
																"y": "Car.ImagePointY(loopindex(\"push_marks\") + 1)",
																"angle": "0",
																"angle-towards-new-position": true
															}
														}
													],
													"sid": 911539660794667,
													"disabled": true
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 508608069469856
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Car",
											"sid": 574269641471593,
											"parameters": {
												"instance-variable": "Drifting",
												"value": "false"
											}
										}
									],
									"sid": 344632937296772,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-children",
													"objectClass": "Car",
													"sid": 815230721833666,
													"parameters": {
														"child": "Particles",
														"which": "own"
													}
												}
											],
											"actions": [
												{
													"id": "set-rate",
													"objectClass": "Particles",
													"sid": 728714208063791,
													"parameters": {
														"rate": "0"
													}
												}
											],
											"sid": 843476839637852
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-element",
													"objectClass": "trails",
													"sid": 529924595337640,
													"parameters": {
														"axes": "x"
													}
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "DriftMarks",
													"sid": 855762064653354,
													"parameters": {
														"unique-id": "trails.CurValue"
													}
												}
											],
											"actions": [
												{
													"id": "destroy",
													"objectClass": "DriftMarks",
													"sid": 504866525991339
												}
											],
											"sid": 993187489910101,
											"disabled": true
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Car",
											"sid": 759156143294880,
											"parameters": {
												"instance-variable": "Player"
											}
										}
									],
									"actions": [
										{
											"id": "set-position",
											"objectClass": "cam_follow",
											"sid": 533072054690810,
											"parameters": {
												"x": "Car.X + Car.Car.VectorX/5 * (1 - flags.Get(\"cam_center\"))",
												"y": "Car.Y + Car.Car.VectorY/3 * (1 - flags.Get(\"cam_center\"))"
											}
										}
									],
									"sid": 374817616456763,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "DrawSpeedBuffer",
													"sid": 834812108008272,
													"parameters": {
														"instance-variable": "draw"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "speed_full",
													"sid": 859849056286927,
													"parameters": {
														"instance-variable": "speed_percent",
														"value": "Car.Car.Speed / Car.Car.MaxSpeed"
													}
												},
												{
													"id": "clear-canvas",
													"objectClass": "DrawSpeedBuffer",
													"sid": 969093555704583,
													"parameters": {
														"color": "rgba(0, 0, 0, 0)"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "DrawSpeedBuffer",
													"sid": 895425669524340,
													"parameters": {
														"angle": "Self.angle_snap + (1 - speed_full.speed_percent) * 82"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "speed_arrow",
													"sid": 998685358980709,
													"parameters": {
														"angle": "316 + (1 - speed_full.speed_percent) * 74"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "DrawSpeedBuffer",
													"sid": 754026016832506,
													"parameters": {
														"instance-variable": "draw",
														"value": "true"
													}
												},
												{
													"id": "paste-object",
													"objectClass": "DrawSpeedBuffer",
													"sid": 333480426778472,
													"parameters": {
														"object": "speed_full",
														"effects": "without-effects"
													}
												},
												{
													"id": "wait-for-previous-actions",
													"objectClass": "System",
													"sid": 271502212287750
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "DrawSpeedBuffer",
													"sid": 637193434401490,
													"parameters": {
														"instance-variable": "draw",
														"value": "false"
													}
												}
											],
											"sid": 760835275361554
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Surface affecting performance"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Car",
											"sid": 439850702524986,
											"parameters": {
												"instance-variable": "Flying"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 857533402012507,
									"children": [
										{
											"eventType": "variable",
											"name": "tile",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 639897491313185
										},
										{
											"eventType": "variable",
											"name": "max_speed_coef",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 868172970034759
										},
										{
											"eventType": "variable",
											"name": "accel_coef",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 952248138886298
										},
										{
											"eventType": "variable",
											"name": "decel_coef",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 122758696472511
										},
										{
											"eventType": "variable",
											"name": "steer_coef",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 276047346858779
										},
										{
											"eventType": "variable",
											"name": "recover_coef",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 706230514911217
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 837202287553071,
													"parameters": {
														"name": "\"Tires\"",
														"start-index": "1",
														"end-index": "4"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 101005429968934,
													"parameters": {
														"variable": "tile",
														"value": "roads.TileAt(roads.PositionToTileX(roads.SnapX(Car.ImagePointX(loopindex(\"Tires\")))), roads.PositionToTileY(roads.SnapY(Car.ImagePointY(loopindex(\"Tires\")))))"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 425381316943071,
													"parameters": {
														"variable": "max_speed_coef",
														"value": "0.25 * TileToConditionData.At(tile, 2)"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 770735592879262,
													"parameters": {
														"variable": "accel_coef",
														"value": "0.25 * TileToConditionData.At(tile, 3)"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 158408195302369,
													"parameters": {
														"variable": "decel_coef",
														"value": "0.25 * TileToConditionData.At(tile, 4)"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 375311773998618,
													"parameters": {
														"variable": "steer_coef",
														"value": "0.25 * TileToConditionData.At(tile, 5)"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 159593662488971,
													"parameters": {
														"variable": "recover_coef",
														"value": "0.25 * TileToConditionData.At(tile, 6)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Car",
													"sid": 967821616808359,
													"parameters": {
														"instance-variable": "CarRecover",
														"value": "Car.CarRecoverBasic* recover_coef"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Car",
													"sid": 518148160096503,
													"parameters": {
														"instance-variable": "CarDecel",
														"value": "Car.CarDecelBasic * decel_coef"
													}
												},
												{
													"id": "set-drift-recover",
													"objectClass": "Car",
													"sid": 226630596593948,
													"behaviorType": "Car",
													"parameters": {
														"drift-recover": "Car.CarRecover"
													}
												},
												{
													"id": "set-deceleration",
													"objectClass": "Car",
													"sid": 528864611628294,
													"behaviorType": "Car",
													"parameters": {
														"deceleration": "Car.CarDecel"
													}
												}
											],
											"sid": 176846880446408,
											"disabled": true
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 481062948040632,
													"parameters": {
														"variable": "max_speed_coef",
														"value": "1"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 951281733917540,
													"parameters": {
														"variable": "accel_coef",
														"value": "1"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 222717519617707,
													"parameters": {
														"variable": "decel_coef",
														"value": "1"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 731482041639519,
													"parameters": {
														"variable": "steer_coef",
														"value": "1"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 829876729644203,
													"parameters": {
														"variable": "recover_coef",
														"value": "1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Car",
													"sid": 492894389666231,
													"parameters": {
														"instance-variable": "CarRecover",
														"value": "Car.CarRecoverBasic* recover_coef"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Car",
													"sid": 962450662759593,
													"parameters": {
														"instance-variable": "CarDecel",
														"value": "Car.CarDecelBasic * decel_coef"
													}
												},
												{
													"id": "set-drift-recover",
													"objectClass": "Car",
													"sid": 739834389160243,
													"behaviorType": "Car",
													"parameters": {
														"drift-recover": "Car.CarRecover"
													}
												},
												{
													"id": "set-deceleration",
													"objectClass": "Car",
													"sid": 737672445441288,
													"behaviorType": "Car",
													"parameters": {
														"deceleration": "Car.CarDecel"
													}
												}
											],
											"sid": 719214186262245
										},
										{
											"eventType": "comment",
											"text": "Add boost from nitrous"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "Car",
													"sid": 772904209614759,
													"parameters": {
														"instance-variable": "Player"
													}
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 906527223358672,
													"parameters": {
														"variable": "NitroState",
														"comparison": 4,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 436783765461667,
													"parameters": {
														"variable": "max_speed_coef",
														"value": "flags.Get(\"difficulty_nitro_boost_max_speed\") + (NitroState = 2 ? flags.Get(\"difficulty_nitro_extra_boost_max_speed\") : 0)"
													}
												},
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 315828637836807,
													"parameters": {
														"variable": "accel_coef",
														"value": "(flags.Get(\"difficulty_nitro_boost_accel\") + (NitroState = 2 ? flags.Get(\"difficulty_nitro_extra_boost_accel\") : 0))"
													}
												}
											],
											"sid": 647915255672103
										},
										{
											"eventType": "comment",
											"text": "Lower acceleration when using motion circle"
										},
										{
											"eventType": "variable",
											"name": "motion_influence",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 312438125907713
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "flags",
													"sid": 292420712286445,
													"parameters": {
														"key": "\"controls_scheme\"",
														"comparison": 0,
														"value": "2"
													}
												},
												{
													"id": "isdragging0",
													"objectClass": "MotionCircle",
													"sid": 367482113552987,
													"behaviorType": "BoundedDragDrop"
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 802108941749812,
													"parameters": {
														"variable": "motion_influence",
														"value": "(clamp(MotionCircle.restY - MotionCircle.Y, 0, 350) + 50) / 400"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 112490350198182,
													"disabled": true,
													"parameters": {
														"variable": "accel_coef",
														"value": "accel_coef * motion_influence"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 871333324963456,
													"disabled": true,
													"parameters": {
														"variable": "max_speed_coef",
														"value": "max_speed_coef * max(motion_influence, 0.25)"
													}
												}
											],
											"sid": 873767178396877,
											"disabled": true
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "Car",
													"sid": 875819380593591,
													"parameters": {
														"instance-variable": "CarSpeed",
														"value": "Car.CarSpeedBasic * max_speed_coef"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Car",
													"sid": 913105815631119,
													"parameters": {
														"instance-variable": "CarAccel",
														"value": "Car.CarAccelBasic * accel_coef"
													}
												},
												{
													"id": "set-max-speed",
													"objectClass": "Car",
													"sid": 661209839942755,
													"behaviorType": "Car",
													"parameters": {
														"max-speed": "lerp(Car.Car.MaxSpeed, Car.CarSpeed, 0.03)"
													}
												},
												{
													"id": "set-acceleration",
													"objectClass": "Car",
													"sid": 754952748633868,
													"behaviorType": "Car",
													"parameters": {
														"acceleration": "Car.CarAccel"
													}
												}
											],
											"sid": 511601821599037
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Disable reverse gear"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-speed",
											"objectClass": "Car",
											"sid": 893344912274918,
											"behaviorType": "Car",
											"parameters": {
												"comparison": 2,
												"speed": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-speed",
											"objectClass": "Car",
											"sid": 290863609321344,
											"behaviorType": "Car",
											"parameters": {
												"speed": "0"
											}
										}
									],
									"sid": 227703503842220
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-speed",
											"objectClass": "Car",
											"sid": 548351975585077,
											"behaviorType": "Car",
											"parameters": {
												"comparison": 5,
												"speed": "Car.CarSpeed"
											}
										}
									],
									"actions": [
										{
											"id": "set-speed",
											"objectClass": "Car",
											"sid": 333391975989684,
											"behaviorType": "Car",
											"parameters": {
												"speed": "lerp(Self.Car.Speed, Self.CarSpeed, 0.01)"
											}
										}
									],
									"sid": 810152251153223
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "Car",
									"sid": 608276101255719,
									"parameters": {
										"child": "car_edge_collision",
										"which": "own"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "car_edge_collision",
									"sid": 164696502504830,
									"parameters": {
										"child": "cannon",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "alert",
									"objectClass": "Browser",
									"sid": 722748249303194,
									"disabled": true,
									"parameters": {
										"message": "\"here\""
									}
								}
							],
							"sid": 797068144794582,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 159590647951331,
											"parameters": {
												"object": "RocketTarget",
												"expression": "RocketTarget.UID",
												"comparison": 1,
												"value": "Car.UID"
											}
										}
									],
									"actions": [
										{
											"id": "alert",
											"objectClass": "Browser",
											"sid": 318942677367788,
											"disabled": true,
											"parameters": {
												"message": "\"there\""
											}
										}
									],
									"sid": 223364838806078,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-ordered",
													"objectClass": "System",
													"sid": 162932088078474,
													"parameters": {
														"object": "RocketTarget",
														"expression": "(0.25 + anglediff(Car.Angle, angle(Car.X, Car.Y, RocketTarget.X, RocketTarget.Y)) / 180 ) * distance(Car.X, Car.Y, RocketTarget.X, RocketTarget.Y)",
														"order": "ascending"
													}
												}
											],
											"actions": [
												{
													"id": "rotate-toward-position",
													"objectClass": "cannon",
													"sid": 172063210897797,
													"parameters": {
														"degrees": "1.5",
														"x": "RocketTarget.X",
														"y": "RocketTarget.Y"
													}
												},
												{
													"id": "alert",
													"objectClass": "Browser",
													"sid": 480850322040740,
													"disabled": true,
													"parameters": {
														"message": "\"and now\""
													}
												},
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 256069256414507
												}
											],
											"sid": 866796785182530,
											"disabled": true
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "DriftMarks",
									"sid": 292300772268891,
									"parameters": {
										"unique-id": "trails.At(0)"
									}
								}
							],
							"actions": [
								{
									"id": "push-point",
									"objectClass": "DriftMarks",
									"sid": 404644973148326,
									"behaviorType": "TrailRenderer",
									"parameters": {
										"x": "Car.ImagePointX(\"Trail\")",
										"y": "Car.ImagePointY(\"Trail\")",
										"angle": "Car.Angle",
										"angle-towards-new-position": true
									}
								}
							],
							"sid": 404801689610081
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 194867843466645
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "Car",
									"sid": 450547270207902,
									"parameters": {
										"object": "DriftMarks",
										"layer": "Car.LayerName",
										"image-point": "\"Trail\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "push",
									"objectClass": "trails",
									"sid": 732999505017124,
									"parameters": {
										"where": "back",
										"value": "0",
										"axis": "x"
									}
								},
								{
									"id": "set-at-x",
									"objectClass": "trails",
									"sid": 641650135983336,
									"parameters": {
										"x": "0",
										"value": "DriftMarks.UID"
									}
								},
								{
									"id": "add-child",
									"objectClass": "Car",
									"sid": 671578260688338,
									"parameters": {
										"child": "DriftMarks",
										"transform-x": true,
										"transform-y": true,
										"transform-w": false,
										"transform-h": false,
										"transform-a": false,
										"transform-z-elevation": true,
										"destroy-with-parent": false
									}
								},
								{
									"id": "move-to-object",
									"objectClass": "DriftMarks",
									"sid": 698771067411427,
									"parameters": {
										"where": "behind",
										"object": "Car"
									}
								}
							],
							"sid": 333989036515071
						}
					]
				}
			],
			"sid": 497347902982358
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Camera related stuff",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Angle Follow",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-value",
									"objectClass": "flags",
									"sid": 983428133188793,
									"parameters": {
										"key": "\"cam_angle_follow\"",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [],
							"sid": 443394828924594,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 912096082673799,
											"parameters": {
												"object": "Car",
												"expression": "Car.Player",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-layer-angle",
											"objectClass": "System",
											"sid": 137470841623777,
											"parameters": {
												"layer": "\"Level\"",
												"angle": "Car.Angle + 90"
											}
										},
										{
											"id": "set-layer-angle",
											"objectClass": "System",
											"sid": 992913189282527,
											"parameters": {
												"layer": "\"Layout\"",
												"angle": "Car.Angle + 90"
											}
										}
									],
									"sid": 378797653386635
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 960845995044903,
											"parameters": {
												"object": "car_position"
											}
										}
									],
									"actions": [
										{
											"id": "set-angle",
											"objectClass": "car_position",
											"sid": 161622274429098,
											"parameters": {
												"angle": "LayerAngle(\"Level\")"
											}
										}
									],
									"sid": 866164302222975
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 212258753262186
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 255971436475620
								}
							],
							"actions": [
								{
									"id": "set-layer-angle",
									"objectClass": "System",
									"sid": 108597419672999,
									"parameters": {
										"layer": "\"Level\"",
										"angle": "0"
									}
								},
								{
									"id": "set-layer-angle",
									"objectClass": "System",
									"sid": 962155845584865,
									"parameters": {
										"layer": "\"Layout\"",
										"angle": "0"
									}
								}
							],
							"sid": 369875281929713,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 650591036235470,
											"parameters": {
												"object": "car_position"
											}
										}
									],
									"actions": [
										{
											"id": "set-angle",
											"objectClass": "car_position",
											"sid": 447673126974959,
											"parameters": {
												"angle": "0"
											}
										}
									],
									"sid": 188008806808851
								}
							]
						}
					],
					"sid": 206271904446236
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Camera Zoom",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-value",
									"objectClass": "flags",
									"sid": 948826153935743,
									"parameters": {
										"key": "\"cam_zoom_speed\"",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [],
							"sid": 934192605546011,
							"children": [
								{
									"eventType": "variable",
									"name": "zoom_diameter",
									"type": "number",
									"initialValue": "0.15",
									"comment": "",
									"isStatic": false,
									"isConstant": true,
									"sid": 114273367906251
								},
								{
									"eventType": "variable",
									"name": "zoom_speed",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 403283866538400
								},
								{
									"eventType": "variable",
									"name": "zoom_coef",
									"type": "number",
									"initialValue": "1",
									"comment": "",
									"isStatic": true,
									"isConstant": false,
									"sid": 842633159512265
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 719502898906703,
											"disabled": true
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 804485918098271,
											"parameters": {
												"variable": "zoom_coef",
												"value": "flags.Get(\"cam_scale\") = 0 ? 0.75 :\r\nflags.Get(\"cam_scale\") = 1 ? 1 : 1.25"
											}
										}
									],
									"sid": 329301666005281
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 398566242962265,
											"parameters": {
												"object": "Car",
												"expression": "Car.Player",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 304871914032308,
											"parameters": {
												"variable": "zoom_speed",
												"value": "(Car.Car.Speed - Car.CarSpeedBasic / 2) / Car.CarSpeedBasic"
											}
										},
										{
											"id": "set-layer-scale",
											"objectClass": "System",
											"sid": 267445612034048,
											"parameters": {
												"layer": "\"Level\"",
												"scale": "zoom_coef - (flags.Get(\"cam_zoom_strength\")* zoom_speed)"
											}
										},
										{
											"id": "set-layer-scale",
											"objectClass": "System",
											"sid": 874272900252488,
											"parameters": {
												"layer": "\"Layout\"",
												"scale": "zoom_coef - (flags.Get(\"cam_zoom_strength\")* zoom_speed)"
											}
										}
									],
									"sid": 343391666324399
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 478763937881310
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 214875383236889
								}
							],
							"actions": [
								{
									"id": "set-layer-scale",
									"objectClass": "System",
									"sid": 928176734861748,
									"parameters": {
										"layer": "\"Level\"",
										"scale": "flags.Get(\"cam_scale\") = 0 ? 0.75 :\r\nflags.Get(\"cam_scale\") = 1 ? 1 : 1.25"
									}
								},
								{
									"id": "set-layer-scale",
									"objectClass": "System",
									"sid": 320003574444849,
									"parameters": {
										"layer": "\"Layout\"",
										"scale": "flags.Get(\"cam_scale\") = 0 ? 0.75 :\r\nflags.Get(\"cam_scale\") = 1 ? 1 : 1.25"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 575752333331731,
									"parameters": {
										"group-name": "\"Camera Zoom\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 693975952834885
						}
					],
					"sid": 616671449472725
				}
			],
			"sid": 172965000071903
		},
		{
			"eventType": "variable",
			"name": "motion",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 395466524120937
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "GUI",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "ShowLap",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": true,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 420829081347001,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 523053961904028,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "pick-nth-child",
									"objectClass": "Car",
									"sid": 724185225132736,
									"parameters": {
										"child": "car_edge_collision",
										"instance": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "dbgtxt",
									"sid": 584483671905910,
									"parameters": {
										"text": "\"Круг \"&car_edge_collision.Lap + 1&\" / \"&RaceLaps"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 406837667769845,
									"parameters": {
										"seconds": "0.75"
									}
								},
								{
									"id": "set-text",
									"objectClass": "dbgtxt",
									"sid": 327561633771959,
									"parameters": {
										"text": "\"\""
									}
								}
							],
							"sid": 347411614690686
						}
					]
				},
				{
					"functionName": "PauseGUI",
					"functionDescription": "",
					"functionCategory": "GUI",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Mode",
							"type": "string",
							"initialValue": "RaceEnd",
							"comment": "",
							"sid": 571435829572596
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 549410864694754,
							"parameters": {
								"layer": "\"GUI\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 286699549189382,
							"parameters": {
								"layer": "\"GUI\"",
								"interactive": false
							}
						},
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 167010229298446,
							"parameters": {
								"time-scale": "1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 836237215144631,
							"parameters": {
								"variable": "GameState",
								"value": "GAME_OVER"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 257106818830090,
							"disabled": true,
							"parameters": {
								"object-to-create": "pause_back",
								"layer": "\"GUI\"",
								"x": "360",
								"y": "700",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 855076346705585,
							"disabled": true,
							"parameters": {
								"object": "ToMenuBut",
								"layer": "\"GUI\"",
								"image-point": "\"LeftBut\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 368748001076354,
							"disabled": true,
							"parameters": {
								"object": "RestartBut",
								"layer": "\"GUI\"",
								"image-point": "\"MidBut\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 112025289366601,
							"disabled": true,
							"parameters": {
								"object": "PauseTxt",
								"layer": "\"GUI\"",
								"image-point": "\"Txt\"",
								"create-hierarchy": false
							}
						}
					],
					"sid": 238513692520512,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 531924781367740,
									"parameters": {
										"variable": "Mode",
										"comparison": 0,
										"value": "\"Pause\""
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "pause_back",
									"sid": 737115175120327,
									"parameters": {
										"object": "ResumeBut",
										"layer": "\"GUI\"",
										"image-point": "\"RightBut\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-text",
									"objectClass": "PauseTxt",
									"sid": 272459261059524,
									"parameters": {
										"text": "\"Пауза\""
									}
								}
							],
							"sid": 295192267729518,
							"disabled": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 460348401759835,
									"parameters": {
										"variable": "Mode",
										"comparison": 0,
										"value": "\"RaceWin\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "PauseTxt",
									"sid": 120659191524604,
									"disabled": true,
									"parameters": {
										"text": "\"Победа!\"&newline&\"Награда: 250 монет\""
									}
								}
							],
							"sid": 717890040586910,
							"children": [
								{
									"eventType": "variable",
									"name": "collected",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 825458453390775
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 672491177678844,
											"parameters": {
												"object": "Victory_info",
												"expression": "Victory_info.number",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 208426971660010,
											"parameters": {
												"variable": "collected",
												"value": "Coins - speed_empty.moneyonstart"
											}
										},
										{
											"id": "set-text",
											"objectClass": "Victory_info",
											"sid": 881009590261062,
											"parameters": {
												"text": "collected"
											}
										}
									],
									"sid": 220070807918681
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 741292367717415,
											"parameters": {
												"object": "Victory_info",
												"expression": "Victory_info.number",
												"comparison": 0,
												"value": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "Victory_info",
											"sid": 721238625319200,
											"parameters": {
												"text": "collected + 250"
											}
										}
									],
									"sid": 711454579224030
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 286651629581251,
											"parameters": {
												"variable": "Coins",
												"value": "250"
											}
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 363922098415039,
											"parameters": {
												"layer": "\"Win\"",
												"visibility": "visible"
											}
										},
										{
											"id": "set-layer-interactive",
											"objectClass": "System",
											"sid": 742424414188328,
											"parameters": {
												"layer": "\"Win\"",
												"interactive": true
											}
										}
									],
									"sid": 749258939537049
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 197090844824299
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 610414846450783,
									"parameters": {
										"variable": "Mode",
										"comparison": 0,
										"value": "\"RaceLoss\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "PauseTxt",
									"sid": 353896890871838,
									"disabled": true,
									"parameters": {
										"text": "\"Поражение!\"&newline&\"Награда: 50 монет\""
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 512857360032329,
									"disabled": true,
									"parameters": {
										"variable": "Coins",
										"value": "50"
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 100066917738055,
									"parameters": {
										"layer": "\"Loss\"",
										"visibility": "visible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 465121861896191,
									"parameters": {
										"layer": "\"Loss\"",
										"interactive": true
									}
								}
							],
							"sid": 453229433296920
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 303611845008574
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "pause_back",
									"sid": 990121974995858,
									"disabled": true,
									"parameters": {
										"object": "ReplayBut",
										"layer": "\"GUI\"",
										"image-point": "\"RightBut\"",
										"create-hierarchy": false
									}
								}
							],
							"sid": 547560536510695
						}
					]
				},
				{
					"functionName": "ClosePauseMenu",
					"functionDescription": "",
					"functionCategory": "GUI",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 489998632915930,
							"parameters": {
								"object": "pause_back"
							}
						},
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 222027298766555,
							"parameters": {
								"object": "PauseTxt"
							}
						},
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 262271191140374,
							"parameters": {
								"object": "ToMenuBut"
							}
						},
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 369164447701455,
							"parameters": {
								"object": "RestartBut"
							}
						}
					],
					"actions": [
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 823858914725015,
							"parameters": {
								"time-scale": "1.0"
							}
						},
						{
							"id": "destroy",
							"objectClass": "pause_back",
							"sid": 820266637939369
						},
						{
							"id": "destroy",
							"objectClass": "PauseTxt",
							"sid": 535359755265207
						},
						{
							"id": "destroy",
							"objectClass": "ToMenuBut",
							"sid": 777885399662911
						},
						{
							"id": "destroy",
							"objectClass": "RestartBut",
							"sid": 608153959193111
						}
					],
					"sid": 813727308093694,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 611445516181572,
									"parameters": {
										"object": "ResumeBut"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "ResumeBut",
									"sid": 807394776566781
								}
							],
							"sid": 687766470478850
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 992005961362361,
									"parameters": {
										"object": "ReplayBut"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "ReplayBut",
									"sid": 182601623567211
								}
							],
							"sid": 241740244725785
						}
					]
				},
				{
					"functionName": "do_timer",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": true,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 726635467225390,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-last-created",
									"objectClass": "System",
									"sid": 946504426144487,
									"parameters": {
										"object": "timer"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "timer",
									"sid": 459012573232292,
									"parameters": {
										"animation": "\"Three\"",
										"from": "beginning"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 177253975639063,
									"parameters": {
										"seconds": "0.4"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "timer",
									"sid": 487472778111256,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Change\"",
										"start-value": "1",
										"end-value": "16",
										"time": "0.2",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "yes"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 412349327442716,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "timer",
									"sid": 147019362800184,
									"parameters": {
										"animation": "\"Two\"",
										"from": "beginning"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 292828174943077,
									"parameters": {
										"seconds": "0.4"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "timer",
									"sid": 912752952829257,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Change\"",
										"start-value": "1",
										"end-value": "16",
										"time": "0.2",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "yes"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 630605637453322,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "timer",
									"sid": 953731570104804,
									"parameters": {
										"animation": "\"One\"",
										"from": "beginning"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 773098216913994,
									"parameters": {
										"seconds": "0.4"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "timer",
									"sid": 233078092883020,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Change\"",
										"start-value": "1",
										"end-value": "16",
										"time": "0.2",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "yes"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 550209367580549,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "timer",
									"sid": 188540476728626,
									"parameters": {
										"animation": "\"Go\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 621696871116223,
									"parameters": {
										"variable": "GameState",
										"value": "GAME_ACTIVE"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 765066380040264,
									"parameters": {
										"seconds": "0.9"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "timer",
									"sid": 214046153078355,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Change\"",
										"start-value": "1",
										"end-value": "16",
										"time": "0.2",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "yes"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 602004037009484,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"id": "destroy",
									"objectClass": "timer",
									"sid": 831063949326715
								}
							],
							"sid": 706658360783269
						}
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "GamepadSteering",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-gamepads",
									"objectClass": "Gamepad",
									"sid": 351122924213799
								}
							],
							"actions": [],
							"sid": 359777498275077,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each-key",
											"objectClass": "gamepad_axis",
											"sid": 290575993819669
										}
									],
									"actions": [],
									"sid": 996158584932865,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-current-value",
													"objectClass": "gamepad_axis",
													"sid": 862771571581120,
													"parameters": {
														"comparison": 0,
														"value": "\"Steer\""
													}
												},
												{
													"id": "is-between-values",
													"objectClass": "System",
													"sid": 705119307526817,
													"parameters": {
														"value": "Gamepad.Axis(0, int(gamepad_axis.CurrentKey)) / 100",
														"lower-bound": "-0.2",
														"upper-bound": "0.2"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "Steer",
													"sid": 824509558781369,
													"parameters": [
														"Gamepad.Axis(0, int(gamepad_axis.CurrentKey)) / 100 * (-2 * flags.Get(\"controls_invert\")+ 1)"
													]
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 811956563750310,
													"parameters": {
														"type": "log",
														"message": "\"Steering...\""
													}
												}
											],
											"sid": 126217880373855
										}
									]
								}
							]
						}
					],
					"sid": 531630420470812
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "MotionControls",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "isdragging0",
									"objectClass": "MotionCircle",
									"sid": 190996767894371,
									"behaviorType": "BoundedDragDrop",
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "MotionCircle",
									"sid": 517184389881860,
									"parameters": {
										"x": "lerp(Self.X, Self.restX, 0.12)",
										"y": "lerp(Self.Y, Self.restY, 0.12)"
									}
								}
							],
							"sid": 373314225472259
						},
						{
							"eventType": "variable",
							"name": "motion_len",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 251109731564371
						},
						{
							"eventType": "variable",
							"name": "motion_speed",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 946626873024686
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "isdragging0",
									"objectClass": "MotionCircle",
									"sid": 302326559270419,
									"behaviorType": "BoundedDragDrop"
								},
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 438874076254459,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 236934267132962,
									"parameters": {
										"variable": "motion",
										"value": "max((motion < 1 ? 1 : motion), Touch.SpeedAt(0))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 419430382433734,
									"parameters": {
										"variable": "motion_len",
										"value": "abs(MotionCircle.X - 360) < flags.Get(\"controls_dead_zone\") ? 0 : MotionCircle.X - 360"
									}
								},
								{
									"id": "set-steer-speed",
									"objectClass": "Car",
									"sid": 419181805081939,
									"disabled": true,
									"behaviorType": "Car",
									"parameters": {
										"steer-speed": "ln(motion)/\nln(flags.Get(\"controls_speed_factor\")) \n* (motion_len / 360) \n* (-2 * flags.Get(\"controls_invert\")+ 1) \n* flags.Get(\"controls_sensitivity\") \n* Self.SteerCoef"
									}
								},
								{
									"callFunction": "Steer",
									"sid": 732938442856342,
									"parameters": [
										"ln(motion)/\r\nln(flags.Get(\"controls_speed_factor\")) \r\n* (motion_len / 360) \r\n* (-2 * flags.Get(\"controls_invert\")+ 1) \r\n* flags.Get(\"controls_sensitivity\")\r\n"
									]
								}
							],
							"sid": 733812283991011,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 475767025630076,
											"parameters": {
												"variable": "NitroState",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 733257083581409,
											"behaviorType": "Car",
											"parameters": {
												"control": "accelerate"
											}
										}
									],
									"sid": 149647284359521
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 341322364934247
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 798499166171791,
											"parameters": {
												"variable": "NitroState",
												"comparison": 0,
												"value": "0"
											}
										},
										{
											"id": "compare-value",
											"objectClass": "flags",
											"sid": 443174407679190,
											"parameters": {
												"key": "\"controls_drift_mode\"",
												"comparison": 0,
												"value": "0"
											}
										},
										{
											"id": "is-on-mobile",
											"objectClass": "PlatformInfo",
											"sid": 122591081344935
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 744391637297154,
											"behaviorType": "Car",
											"parameters": {
												"control": "brake"
											}
										}
									],
									"sid": 867365606827736
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 109041842658520
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 987376058751816,
											"parameters": {
												"variable": "NitroState",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 780461208941715,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "flags",
													"sid": 576654725626934,
													"parameters": {
														"key": "\"controls_drift_mode\"",
														"comparison": 0,
														"value": "1"
													}
												},
												{
													"id": "compare-value",
													"objectClass": "flags",
													"sid": 491728452997637,
													"parameters": {
														"key": "\"controls_drift_mode\"",
														"comparison": 0,
														"value": "2"
													}
												}
											],
											"actions": [
												{
													"id": "simulate-control",
													"objectClass": "Car",
													"sid": 759583792536692,
													"behaviorType": "Car",
													"parameters": {
														"control": "accelerate"
													}
												}
											],
											"sid": 978140955608127,
											"isOrBlock": true
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "isdragging0",
									"objectClass": "MotionCircle",
									"sid": 557933407523963,
									"behaviorType": "BoundedDragDrop",
									"isInverted": true
								},
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 422235249974678,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 371505172478270,
									"parameters": {
										"variable": "GameState",
										"comparison": 0,
										"value": "GAME_ACTIVE"
									}
								}
							],
							"actions": [],
							"sid": 124136751546774,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 654295542001839,
											"parameters": {
												"variable": "NitroState",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 791633511675153,
											"behaviorType": "Car",
											"parameters": {
												"control": "accelerate"
											}
										}
									],
									"sid": 362121879535947
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 966700093329248
										},
										{
											"id": "compare-value",
											"objectClass": "flags",
											"sid": 444669301249336,
											"parameters": {
												"key": "\"controls_drift_mode\"",
												"comparison": 1,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 121867030657971,
											"behaviorType": "Car",
											"parameters": {
												"control": "accelerate"
											}
										}
									],
									"sid": 359977477852215
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 159917414521516
										},
										{
											"id": "is-on-mobile",
											"objectClass": "PlatformInfo",
											"sid": 528324883941881
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 397371363473922,
											"behaviorType": "Car",
											"parameters": {
												"control": "brake"
											}
										}
									],
									"sid": 435381371609602
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "ondragstart1",
									"objectClass": "MotionCircle",
									"sid": 311710274239215,
									"behaviorType": "BoundedDragDrop"
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 643212637297889,
									"parameters": {
										"variable": "motion",
										"value": "0"
									}
								}
							],
							"sid": 702106927961499
						}
					],
					"sid": 962180712939326
				}
			],
			"sid": 331973970547161
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "Car",
					"sid": 219797985910387,
					"parameters": {
						"object": "bonus"
					}
				},
				{
					"id": "is-visible",
					"objectClass": "bonus",
					"sid": 158630039676986
				}
			],
			"actions": [],
			"sid": 746870235743867,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "bonus",
							"sid": 238481162742189,
							"parameters": {
								"animation": "\"Rocket\""
							}
						}
					],
					"actions": [
						{
							"id": "add-to-instvar",
							"objectClass": "Car",
							"sid": 662783320993322,
							"parameters": {
								"instance-variable": "Ammo",
								"value": "1"
							}
						}
					],
					"sid": 862892440629221,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 171298824403676,
									"parameters": {
										"instance-variable": "Player"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 346482123819869,
									"parameters": {
										"variable": "Rockets",
										"value": "1"
									}
								},
								{
									"callFunction": "RocketsChangedNew",
									"sid": 388736297783973
								}
							],
							"sid": 386164095410959
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 465857910762751,
							"parameters": {
								"instance-variable": "Player"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "bonus",
							"sid": 654363564068292,
							"parameters": {
								"animation": "\"Nitro\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 111574373256714,
							"disabled": true,
							"parameters": {
								"variable": "NitroCharge",
								"value": "clamp(NitroCharge + flags.Get(\"difficulty_nitro_refill\"), 0, 100)"
							}
						},
						{
							"callFunction": "NitroChanged",
							"sid": 538382088095181,
							"disabled": true
						},
						{
							"callFunction": "NitroPickup",
							"sid": 614968304643813,
							"parameters": [
								"bonus.X",
								"bonus.Y"
							]
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 851032295576142,
							"parameters": {
								"seconds": "0.3"
							}
						},
						{
							"callFunction": "ChangeNitroNew",
							"sid": 225550363657936,
							"parameters": [
								"flags.Get(\"difficulty_nitro_refill\")"
							]
						}
					],
					"sid": 927283055220444
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 793540437359878,
							"parameters": {
								"instance-variable": "Player"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "bonus",
							"sid": 337729234717420,
							"parameters": {
								"animation": "\"Coin\""
							}
						}
					],
					"actions": [
						{
							"callFunction": "CoinPickup",
							"sid": 847237723550761,
							"parameters": [
								"bonus.X",
								"bonus.Y"
							]
						}
					],
					"sid": 857496069052224
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "bonus",
							"sid": 119785878002064
						}
					],
					"sid": 450830539586907
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Replays",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "RewindScreen",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Stop the game"
						},
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 796454708115831,
							"parameters": {
								"time-scale": "0"
							}
						},
						{
							"type": "comment",
							"text": "Spawn the screen"
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 785093244811578,
							"parameters": {
								"object-to-create": "pause_back",
								"layer": "\"GUI\"",
								"x": "360",
								"y": "700",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 189543126248224,
							"parameters": {
								"object": "RewindBut",
								"layer": "\"GUI\"",
								"image-point": "\"MidBut\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 383860151427772,
							"parameters": {
								"object": "RewindBar",
								"layer": "\"GUI\"",
								"image-point": "\"Bar\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "pause_back",
							"sid": 605734836875051,
							"parameters": {
								"object": "PauseTxt",
								"layer": "\"GUI\"",
								"image-point": "\"Txt\"",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-text",
							"objectClass": "PauseTxt",
							"sid": 276046792620759,
							"parameters": {
								"text": "\"Отмотать время?\""
							}
						},
						{
							"type": "comment",
							"text": "Make the bar moving"
						},
						{
							"id": "set-object-time-scale",
							"objectClass": "System",
							"sid": 861051908012857,
							"parameters": {
								"object": "RewindBar",
								"time-scale": "1.0"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "RewindBar",
							"sid": 443394894551844,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"rewind_timer\"",
								"property": "offsetWidth",
								"end-value": "0",
								"time": "Self.Time_to_decide",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 666558107186491
				},
				{
					"functionName": "ClearRewindScreen",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "pause_back",
							"sid": 826646381320704
						},
						{
							"id": "destroy",
							"objectClass": "RewindBar",
							"sid": 350467014949933
						},
						{
							"id": "destroy",
							"objectClass": "RewindBut",
							"sid": 214165226241122
						},
						{
							"id": "destroy",
							"objectClass": "PauseTxt",
							"sid": 501642025551644
						},
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 960401337767840,
							"parameters": {
								"time-scale": "1.0"
							}
						}
					],
					"sid": 397735567738254
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-screen",
							"objectClass": "RewindBar",
							"sid": 658382915149599
						}
					],
					"actions": [],
					"sid": 194924968494962,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-width",
									"objectClass": "RewindBar",
									"sid": 980341065386613,
									"parameters": {
										"comparison": 3,
										"width": "0"
									}
								}
							],
							"actions": [
								{
									"callFunction": "ClearRewindScreen",
									"sid": 411480226926604
								},
								{
									"callFunction": "GameOver",
									"sid": 174005721616776
								}
							],
							"sid": 650519396870326
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onhitanypoint2",
							"objectClass": "Car",
							"sid": 382031192931229,
							"behaviorType": "Spline"
						}
					],
					"actions": [],
					"sid": 584676043645333,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 835071274087423,
									"parameters": {
										"variable": "GameState",
										"comparison": 0,
										"value": "GAME_REWIND"
									}
								}
							],
							"actions": [
								{
									"id": "setspeed51",
									"objectClass": "Car",
									"sid": 302454129714257,
									"behaviorType": "Spline",
									"parameters": {
										"speed0": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 4) = 0 ? 1 : Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 4)"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Car",
									"sid": 544112830580681,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"replay_angle\"",
										"property": "offsetAngle",
										"end-value": "Recording.At(Recording.Width - 1 - Car.Spline.CurSegP0, 2)",
										"time": "0.02",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"type": "comment",
									"text": "Erase this nightmare"
								},
								{
									"id": "pop",
									"objectClass": "Recording",
									"sid": 865899629029488,
									"parameters": {
										"where": "back",
										"axis": "x"
									}
								}
							],
							"sid": 584706997816153
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 195830090921966,
									"disabled": true
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 281483686484908,
									"parameters": {
										"variable": "GameState",
										"comparison": 0,
										"value": "GAME_REPLAY"
									}
								}
							],
							"actions": [
								{
									"id": "setspeed51",
									"objectClass": "Car",
									"sid": 474275350683106,
									"behaviorType": "Spline",
									"parameters": {
										"speed0": "Recording.At(Car.Spline.CurSegP0, 4) = 0 ? 1 : Recording.At(Car.Spline.CurSegP0, 4)"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "Car",
									"sid": 676298741551223,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"replay_angle\"",
										"property": "offsetAngle",
										"end-value": "Recording.At(Car.Spline.CurSegP0, 2)",
										"time": "0.02",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								}
							],
							"sid": 631839685659046
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onhittarget0",
							"objectClass": "Car",
							"sid": 958627202619030,
							"behaviorType": "Spline"
						}
					],
					"actions": [],
					"sid": 639716565281624,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 503072228115266,
									"parameters": {
										"variable": "GameState",
										"comparison": 0,
										"value": "GAME_REWIND"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 105076747870951,
									"parameters": {
										"variable": "GameState",
										"value": "GameState = GAME_REWIND ? GAME_ACTIVE : GAME_OVER"
									}
								},
								{
									"id": "flash",
									"objectClass": "Car",
									"sid": 675600324744421,
									"behaviorType": "Flash",
									"parameters": {
										"on-time": "0.1",
										"off-time": "0.1",
										"duration": "2"
									}
								}
							],
							"sid": 341078312418775,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 708547865446529,
											"parameters": {
												"object": "Old_Obstacle"
											}
										}
									],
									"actions": [
										{
											"id": "set-magnitude",
											"objectClass": "Old_Obstacle",
											"sid": 820090559324957,
											"behaviorType": "Sine",
											"parameters": {
												"magnitude": "-Self.Sine.Magnitude"
											}
										}
									],
									"sid": 146243238096170
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 111760084537138,
											"parameters": {
												"object": "Car"
											}
										},
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 149118122770129,
											"parameters": {
												"object": "Car"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Car",
											"sid": 782808024051455,
											"parameters": {
												"instance-variable": "Recording",
												"value": "true"
											}
										},
										{
											"id": "setenabled0",
											"objectClass": "Car",
											"sid": 241686097844583,
											"behaviorType": "Spline",
											"parameters": {
												"state2": "disabled"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "Car",
											"sid": 218204832553345,
											"behaviorType": "Car",
											"parameters": {
												"speed": "Recording.At(Recording.Width - 1, 4)"
											}
										},
										{
											"id": "set-steer-speed",
											"objectClass": "Car",
											"sid": 998951972650450,
											"behaviorType": "Car",
											"parameters": {
												"steer-speed": "Recording.At(Recording.Width - 1, 5)"
											}
										},
										{
											"id": "set-max-speed",
											"objectClass": "Car",
											"sid": 452490187385184,
											"behaviorType": "Car",
											"parameters": {
												"max-speed": "Recording.At(Recording.Width - 1, 6)"
											}
										},
										{
											"id": "set-acceleration",
											"objectClass": "Car",
											"sid": 571009098891393,
											"behaviorType": "Car",
											"parameters": {
												"acceleration": "Recording.At(Recording.Width - 1, 7)"
											}
										},
										{
											"id": "set-deceleration",
											"objectClass": "Car",
											"sid": 828373277848123,
											"behaviorType": "Car",
											"parameters": {
												"deceleration": "Recording.At(Recording.Width - 1, 8)"
											}
										},
										{
											"id": "set-drift-recover",
											"objectClass": "Car",
											"sid": 153200053783275,
											"behaviorType": "Car",
											"parameters": {
												"drift-recover": "Recording.At(Recording.Width - 1 , 9)"
											}
										},
										{
											"id": "set-enabled",
											"objectClass": "Car",
											"sid": 240163922023224,
											"behaviorType": "Car",
											"parameters": {
												"state": "enabled"
											}
										}
									],
									"sid": 214936330004757
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 164548172859322,
									"parameters": {
										"variable": "GameState",
										"comparison": 0,
										"value": "GAME_REPLAY"
									}
								}
							],
							"actions": [
								{
									"id": "setenabled0",
									"objectClass": "Car",
									"sid": 144886868271451,
									"behaviorType": "Spline",
									"parameters": {
										"state2": "disabled"
									}
								},
								{
									"callFunction": "PauseGUI",
									"sid": 172461315080818,
									"parameters": [
										"\"Pause\""
									]
								}
							],
							"sid": 647448573476041
						}
					]
				},
				{
					"functionName": "PlayRecording",
					"functionDescription": "",
					"functionCategory": "Replay",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 653193130161429,
							"parameters": {
								"object": "Car"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Car",
							"sid": 246128900534997,
							"behaviorType": "Car",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 487642576402156,
							"parameters": {
								"instance-variable": "Recording",
								"value": "false"
							}
						},
						{
							"id": "set-position",
							"objectClass": "Car",
							"sid": 422055562618172,
							"parameters": {
								"x": "Recording.At(0, 0)",
								"y": "Recording.At(0, 1)"
							}
						},
						{
							"id": "setenabled0",
							"objectClass": "Car",
							"sid": 841204561145028,
							"behaviorType": "Spline",
							"parameters": {
								"state2": "enabled"
							}
						},
						{
							"id": "cleanall4",
							"objectClass": "Car",
							"sid": 273609349252002,
							"behaviorType": "Spline"
						}
					],
					"sid": 891195249981982,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 886177709674595,
									"parameters": {
										"object": "Old_Obstacle"
									}
								}
							],
							"actions": [
								{
									"id": "set-cycle-position",
									"objectClass": "Old_Obstacle",
									"sid": 923041202704778,
									"behaviorType": "Sine",
									"parameters": {
										"cycle-position": "0"
									}
								}
							],
							"sid": 446631089617771
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 166024283259343,
									"parameters": {
										"name": "\"replay\"",
										"start-index": "0",
										"end-index": "Recording.Width - 1"
									}
								}
							],
							"actions": [
								{
									"id": "addpoint2",
									"objectClass": "Car",
									"sid": 901708778228190,
									"behaviorType": "Spline",
									"parameters": {
										"x0": "Recording.At(loopindex(\"replay\"), 0)",
										"y1": "Recording.At(loopindex(\"replay\"), 1)"
									}
								}
							],
							"sid": 572772502474361
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 817980754285257
								}
							],
							"actions": [
								{
									"id": "start11",
									"objectClass": "Car",
									"sid": 642078631394312,
									"behaviorType": "Spline"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 504751889546851,
									"parameters": {
										"variable": "GameState",
										"value": "GAME_REPLAY"
									}
								}
							],
							"sid": 390177435553625
						}
					]
				},
				{
					"functionName": "StartRewind",
					"functionDescription": "",
					"functionCategory": "Replay",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "frames_back",
							"type": "number",
							"initialValue": "150",
							"comment": "",
							"sid": 827451368810753
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 541779589798347,
							"parameters": {
								"object": "Car"
							}
						}
					],
					"actions": [
						{
							"id": "set-enabled",
							"objectClass": "Car",
							"sid": 557112264343568,
							"behaviorType": "Car",
							"parameters": {
								"state": "disabled"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "Car",
							"sid": 506257406777925,
							"parameters": {
								"instance-variable": "Recording",
								"value": "false"
							}
						},
						{
							"id": "setenabled0",
							"objectClass": "Car",
							"sid": 797622023421705,
							"behaviorType": "Spline",
							"parameters": {
								"state2": "enabled"
							}
						},
						{
							"id": "cleanall4",
							"objectClass": "Car",
							"sid": 891455871063759,
							"behaviorType": "Spline"
						}
					],
					"sid": 139741880982889,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 953773374705483,
									"parameters": {
										"object": "Old_Obstacle"
									}
								}
							],
							"actions": [
								{
									"id": "set-magnitude",
									"objectClass": "Old_Obstacle",
									"sid": 988811198165684,
									"behaviorType": "Sine",
									"parameters": {
										"magnitude": "-Self.Sine.Magnitude"
									}
								}
							],
							"sid": 562463380903254
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 658242710457001,
									"parameters": {
										"name": "\"replay\"",
										"start-index": "0",
										"end-index": "frames_back"
									}
								}
							],
							"actions": [
								{
									"id": "addpoint2",
									"objectClass": "Car",
									"sid": 425870891227808,
									"behaviorType": "Spline",
									"parameters": {
										"x0": "Recording.At(Recording.Width - 1 - loopindex(\"replay\"), 0)",
										"y1": "Recording.At(Recording.Width - 1 - loopindex(\"replay\"), 1)"
									}
								}
							],
							"sid": 194819543142527
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 350989367041335
								}
							],
							"actions": [
								{
									"id": "start11",
									"objectClass": "Car",
									"sid": 265150300081233,
									"behaviorType": "Spline"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 939064797655035,
									"parameters": {
										"variable": "GameState",
										"value": "GAME_REWIND"
									}
								}
							],
							"sid": 532810477592606
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 267982475009382,
							"parameters": {
								"instance-variable": "Recording"
							}
						},
						{
							"id": "is-moving",
							"objectClass": "Car",
							"sid": 158309927404821,
							"behaviorType": "Car"
						},
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 656239895415409,
							"parameters": {
								"interval-seconds": "0.02"
							}
						}
					],
					"actions": [
						{
							"id": "push",
							"objectClass": "Recording",
							"sid": 874244107824949,
							"parameters": {
								"where": "back",
								"value": "0",
								"axis": "x"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 752438450721513,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "0",
								"value": "Car.X"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 560568263120212,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "1",
								"value": "Car.Y"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 607558351164766,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "2",
								"value": "Car.Angle"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 335655302737923,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "4",
								"value": "Car.Car.Speed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 672518735215222,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "5",
								"value": "Car.Car.SteerSpeed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 910023302307317,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "6",
								"value": "Car.Car.MaxSpeed"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 588659555988874,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "7",
								"value": "Car.Car.Acceleration"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 594663994733942,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "8",
								"value": "Car.Car.Deceleration"
							}
						},
						{
							"id": "set-at-xy",
							"objectClass": "Recording",
							"sid": 734743721305741,
							"parameters": {
								"x": "Recording.Width - 1",
								"y": "9",
								"value": "Car.Car.DriftRecover"
							}
						}
					],
					"sid": 681221152113267
				}
			],
			"sid": 805120578053349
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Find collision points",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Toggle frame variable, so 0 ->1, 1 ->0"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "car_edge_collision",
							"sid": 157436948294115,
							"parameters": {
								"object": "obstacle"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "obstacle",
							"sid": 979177918711675
						},
						{
							"id": "pick-parent",
							"objectClass": "car_edge_collision",
							"sid": 521469503171737,
							"parameters": {
								"parent": "Car",
								"which": "own"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Car",
							"sid": 816522377958137,
							"parameters": {
								"instance-variable": "Flying"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Car",
							"sid": 375430016305216,
							"parameters": {
								"instance-variable": "second_frame",
								"value": "1 - Self.second_frame"
							}
						},
						{
							"callFunction": "DrawArray",
							"sid": 507554189308880,
							"disabled": true
						}
					],
					"sid": 708394970639735,
					"children": [
						{
							"eventType": "comment",
							"text": "This condition added to decrease CPU utilization - every 2nd frame will be skipped"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Car",
									"sid": 261099388306599,
									"parameters": {
										"instance-variable": "second_frame",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "is-on-screen",
									"objectClass": "Car",
									"sid": 128830663173287
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "const obs = runtime.objects.obstacle.getFirstPickedInstance();\nconst car = runtime.objects.car_edge_collision.getFirstPickedInstance();\nconst collision = SAT_collision(car, obs);\n//console.log(collision);\n\nif (collision.collided) {\nconst point = get_collision_point(car, obs, collision);\n//console.log(point);\nlet new_spark = runtime.objects.EdgeSparks.createInstance(\"Level\", point.x, point.y, false);\nnew_spark.angleDegrees = car.angleDegrees - 180;\n}\n\n/*\n// debug stuff here\nlet gui = runtime.layout.getLayer(\"GUI\");\nlet lay = runtime.layout.getLayer(\"Layout\");\n\nfunction get_point(param) {\n\treturn layer_to_layer_px(param.x, param.y, lay, gui);\n}\nlet vals = [];\nvals.push(get_point(point.inc[0]));\nvals.push(get_point(point.inc[1]));\nvals.push(get_point(point.p0));\nvals.push(get_point(point.ref[0]));\nvals.push(get_point(point.ref[1]));\nvals.push(get_point(point.p3));\nvals.push(get_point(point.cut[0]));\nvals.push(get_point(point.cut[1]));\nvals.push(get_point(collision.obj));\nvals.push(get_point(Vector.add(Vector.multiply(collision.normal, 20), collision.obj)));\nlet arr = runtime.objects.ddraw.getFirstInstance();\nfor (let i = 0; i < vals.length; i++) {\n\tarr.setAt(vals[i][0], i, 0);\n\tarr.setAt(vals[i][1], i, 1);\n}\n*/\n"
								}
							],
							"sid": 468478530275154
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-time-scale",
									"objectClass": "System",
									"sid": 106919346375838,
									"parameters": {
										"time-scale": "0.1"
									}
								}
							],
							"sid": 407283617756530,
							"disabled": true
						}
					]
				}
			],
			"sid": 584124331413418
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Nitrous",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "NitroChanged",
					"functionDescription": "",
					"functionCategory": "GUI",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-width",
							"objectClass": "NitroBar",
							"sid": 509367434703503,
							"parameters": {
								"width": "4.6 * NitroCharge"
							}
						}
					],
					"sid": 188501627324224
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 758149531702668,
							"parameters": {
								"variable": "NitroState",
								"comparison": 1,
								"value": "0"
							}
						}
					],
					"actions": [],
					"sid": 207135247844216,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 967508338735115,
									"parameters": {
										"variable": "NitroCharge",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [],
							"sid": 517111887666095,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 554694963470063,
											"parameters": {
												"interval-seconds": "dt"
											}
										}
									],
									"actions": [
										{
											"callFunction": "ChangeNitroNew",
											"sid": 679733588527366,
											"parameters": [
												"-flags.Get(\"difficulty_nitro_consumption\") * dt * (1 + (NitroState = 2 ? flags.Get(\"difficulty_nitro_extra_coef\") : 0))"
											]
										}
									],
									"sid": 488652487982541
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 245057302882092
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "NitroLines",
											"sid": 687372319304499,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "tween-value",
											"objectClass": "NitroLines",
											"sid": 781907838485780,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"Scroll\"",
												"start-value": "0",
												"end-value": "2562",
												"time": "0.75",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "yes",
												"ping-pong": "no"
											}
										}
									],
									"sid": 277306969021170
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 544520811927454
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 433661810697601,
									"parameters": {
										"variable": "NitroCharge",
										"value": "0"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 653482084304613,
									"parameters": {
										"variable": "NitroState",
										"value": "0"
									}
								},
								{
									"id": "stop-tweens",
									"objectClass": "NitroLines",
									"sid": 348532635213671,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Scroll\""
									}
								},
								{
									"id": "set-visible",
									"objectClass": "NitroLines",
									"sid": 423765986483937,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 329669942008563
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "NitroLines",
							"sid": 639490026507560,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Scroll\""
							}
						}
					],
					"actions": [
						{
							"id": "set-image-offset-y",
							"objectClass": "NitroLines",
							"sid": 445606010698296,
							"parameters": {
								"offset-y": "Self.Tween.Value(\"Scroll\")"
							}
						}
					],
					"sid": 736955409091675
				}
			],
			"sid": 664422197213966
		},
		{
			"eventType": "script",
			"script": "// let's perform collision checks for cars! yay!\nif (runtime.globalVars.GameState == runtime.globalVars.GAME_ACTIVE) {\nconst dt = runtime.dt;\nconst all_cars = runtime.objects.Car.getAllInstances();\nfor (let index1 = 0; index1 < all_cars.length; index1++) {\n\tfor (let index2 = 0; index2 < all_cars.length; index2++) {\n\t\tif (index1 == index2) continue;\n\t\t\n\t\tlet cars = [all_cars[index1], all_cars[index2]];\n\t\tlet [cols, vecs, angdiffs] = [[], [], []];\n\t\tfor (let car of cars) {\n\t\t\tcols.push(car.getChildAt(0));\n\t\t\tvecs.push([car.behaviors.Car.vectorX, car.behaviors.Car.vectorY]);\n\t\t\tangdiffs.push(car.behaviors.Car.facingAngle - car.angle);\n\t\t\t//car.x += car.behaviors.Car.vectorX * dt;\n\t\t\t//car.y += car.behaviors.Car.vectorY * dt;\n\t\t\t//car.angle = car.behaviors.Car.facingAngle;\n\t\t}\n\t\tconst col_data = SAT_collision(cols[0], cols[1]);\n\t\tif (col_data.collided) {\n\t\t\tconst point = get_collision_point(cols[0], cols[1], col_data);\n\t\t\tlet new_v = [[0, 0], [0, 0]];\n\t\t\tlet new_av = [0, 0];\n\t\t\t[new_v[0][0], new_v[0][1], new_av[0], new_v[1][0], new_v[1][1], new_av[1]] = car_collision_resolution(cars[0], cars[1], col_data, point, runtime);\n\t\t\tfor (let i = 0; i < 2; i++) {\n\t\t\t\tcars[i].x -= col_data.overlap.x / 2 * (-i * 2 + 1) * ((col_data.obj === cars[0]) * 2 - 1);\n\t\t\t\tcars[i].y -= col_data.overlap.y / 2 * (-i * 2 + 1) * ((col_data.obj === cars[0]) * 2 - 1);\n\t\t\t\tcars[i].behaviors.Car.setImpulse(new_v[i][0], new_v[i][1]);\n\t\t\t\tcars[i].behaviors.Car.setVector(new_v[i][0], new_v[i][1]);\n\t\t\t\t//cars[i].behaviors.Car.spin = new_av[i] * (-i * 2 + 1);\n\t\t\t}\n\t\t}\n\t\t/*\n\t\tfor (let i = 0; i < 2; i++) {\n\t\t\tcars[i].x -= vecs[i][0] * dt;\n\t\t\tcars[i].y -= vecs[i][1] * dt;\n\t\t\tcars[i].angle -= angdiffs[i];\n\t\t}\n\t\t*/\n\t}\n}\n}"
		},
		{
			"eventType": "script",
			"script": "// calculate car positions\nfunction getCP(id) {\n\tconst CP = runtime.objects.checkpoint.getAllInstances();\n\tfor (let checkpoint of CP) {\n\t\tif (checkpoint.instVars.checkID == id) { return checkpoint; }\n\t}\n}\n\nif (runtime.layout.name != \"ParkingLot\") {\n\tconst dt = runtime.dt;\n\tconst all_cars = runtime.objects.Car.getAllInstances();\n\tconst CPs = runtime.objects.checkpoint.getAllInstances().length;\n\tlet results = [];\n\tfor (let car of all_cars) {\n\t\tlet [posx, posy] = car.getImagePoint(\"Front\");\n\t\tlet col = car.getChildAt(0);\n\t\tlet txt = col.getChildAt(0);\n\t\tlet newCP = getCP(col.instVars.ToCheckpoint);\n\t\tlet oldCP = getCP((col.instVars.ToCheckpoint - 1 + CPs) % CPs);\n\t\tlet completion_fraction = Vector.distance(Vector(posx, posy), Vector(oldCP.x, oldCP.y)) / Vector.distance(Vector(oldCP.x, oldCP.y), Vector(newCP.x, newCP.y));\n\t\tlet pos = (col.instVars.Lap) * CPs + col.instVars.ToCheckpoint + completion_fraction;\n\t\t//console.log(col, pos);\n\t\tresults.push({txt: txt, pos: pos});\n\t}\n\tresults = results.sort((a, b) => {return b.pos - a.pos});\n\tfor (let index = 0; index < results.length; index++) results[index].txt.text = String(index + 1);\n}"
		},
		{
			"functionName": "GameOver",
			"functionDescription": "",
			"functionCategory": "Level",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 668442320460034,
					"parameters": {
						"object": "Car",
						"expression": "Car.Player",
						"comparison": 0,
						"value": "1"
					}
				}
			],
			"actions": [
				{
					"id": "alert",
					"objectClass": "Browser",
					"sid": 644850693104751,
					"disabled": true,
					"parameters": {
						"message": "\"gameover\""
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 486851626779576,
					"parameters": {
						"variable": "GameState",
						"value": "GAME_OVER"
					}
				}
			],
			"sid": 402050969568482,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 895669639907753,
							"parameters": {
								"object": "Particles",
								"expression": "Particles.Pin.PinnedUID",
								"comparison": 0,
								"value": "Car.UID"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Particles",
							"sid": 521574783897645
						}
					],
					"sid": 481176952738504
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Car",
							"sid": 240450283831910
						},
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 319572923500503,
							"disabled": true,
							"parameters": {
								"message": "\"Хорошая была попытка! Нажми [R] для перезапуска или [ESC] для выхода в меню\""
							}
						},
						{
							"callFunction": "PauseGUI",
							"sid": 311595077863667,
							"parameters": [
								"\"RaceLoss\""
							]
						}
					],
					"sid": 332326593847943
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-created",
					"objectClass": "DriftMarks",
					"sid": 697573029330549
				}
			],
			"actions": [
				{
					"id": "set-angle",
					"objectClass": "DriftMarks",
					"sid": 379683087994991,
					"parameters": {
						"angle": "0"
					}
				},
				{
					"id": "move-to-object",
					"objectClass": "DriftMarks",
					"sid": 668683319012045,
					"parameters": {
						"where": "behind",
						"object": "Car"
					}
				},
				{
					"id": "start-timer",
					"objectClass": "DriftMarks",
					"sid": 656656627811097,
					"behaviorType": "Timer",
					"parameters": {
						"duration": "30",
						"type": "once",
						"tag": "\"destroy_marks\""
					}
				}
			],
			"sid": 111980000100809
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Rockets & Obstacles",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Car",
							"sid": 715123249365497,
							"parameters": {
								"object": "obstacle"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "obstacle",
							"sid": 613810017143771
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 793884681589853,
							"parameters": {
								"variable": "GameState",
								"comparison": 0,
								"value": "GAME_ACTIVE"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "obstacle",
							"sid": 215479430255839,
							"parameters": {
								"where": "behind",
								"object": "Car"
							}
						}
					],
					"sid": 768580828014592,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 826510774734930,
									"parameters": {
										"first-value": "left(obstacle.AnimationName, 6)",
										"comparison": 0,
										"second-value": "\"Spikes\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "CarDamage",
									"sid": 375999179784582,
									"parameters": [
										"Car.UID",
										false
									]
								}
							],
							"sid": 923362913511721
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 526091249650952
								}
							],
							"actions": [
								{
									"callFunction": "CarDamage",
									"sid": 247800692366499,
									"parameters": [
										"Car.UID",
										true
									]
								}
							],
							"sid": 634832117341046
						}
					]
				},
				{
					"functionName": "DoDamage",
					"functionDescription": "",
					"functionCategory": "Proxies",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Name",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 332561125551512
						},
						{
							"name": "UID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 451628167853577
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "call-mapped-function",
							"objectClass": "Functions",
							"sid": 152894708889543,
							"parameters": {
								"name": "\"destruction\"",
								"string": "Name",
								"forward-params": "1"
							}
						}
					],
					"sid": 714618832625658
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "rocket",
							"sid": 620020715593394,
							"parameters": {
								"object": "RocketTarget"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "RocketTarget",
							"sid": 688806082306323,
							"parameters": {
								"unique-id": "rocket.ShooterUID"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "rocket",
							"sid": 195603868920692
						},
						{
							"callFunction": "DoDamage",
							"sid": 332481430929093,
							"parameters": [
								"RocketTarget.TargetName",
								"RocketTarget.UID"
							]
						}
					],
					"sid": 503052284506096
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-enabled",
							"objectClass": "rocket",
							"sid": 286117990547406,
							"behaviorType": "Bullet"
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "RocketTarget",
							"sid": 308360768386132,
							"parameters": {
								"unique-id": "rocket.TargetUID"
							}
						}
					],
					"actions": [
						{
							"id": "rotate-toward-position",
							"objectClass": "rocket",
							"sid": 570729755242105,
							"parameters": {
								"degrees": "0.5",
								"x": "RocketTarget.X",
								"y": "RocketTarget.Y"
							}
						}
					],
					"sid": 975066713178579
				},
				{
					"functionName": "CarDamage",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "CarUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 346794720506018
						},
						{
							"name": "SlowsDown",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 280936914736463
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Car",
							"sid": 932581404322848,
							"parameters": {
								"unique-id": "CarUID"
							}
						}
					],
					"actions": [],
					"sid": 669357926842660,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-flashing",
									"objectClass": "Car",
									"sid": 767070485568956,
									"behaviorType": "Flash",
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 446281120898027,
									"parameters": {
										"instance-variable": "Flying"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "flash",
									"objectClass": "Car",
									"sid": 104835800162028,
									"behaviorType": "Flash",
									"parameters": {
										"on-time": "0.1",
										"off-time": "0.1",
										"duration": "2"
									}
								}
							],
							"sid": 867761477222887,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 941586933730577,
											"parameters": {
												"variable": "SlowsDown"
											}
										}
									],
									"actions": [
										{
											"id": "set-speed",
											"objectClass": "Car",
											"sid": 958283843026494,
											"behaviorType": "Car",
											"parameters": {
												"speed": "Car.Car.Speed * 0.25"
											}
										}
									],
									"sid": 202068243281109
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Car",
											"sid": 229559382499801,
											"parameters": {
												"instance-variable": "Player"
											}
										}
									],
									"actions": [
										{
											"id": "shake",
											"objectClass": "cam_follow",
											"sid": 807931995187541,
											"behaviorType": "ScrollTo",
											"parameters": {
												"magnitude": "20",
												"duration": "0.4",
												"mode": "reducing-magnitude"
											}
										}
									],
									"sid": 276496677209398,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Car",
													"sid": 339448234114671,
													"parameters": {
														"instance-variable": "Health",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"callFunction": "RewindScreen",
													"sid": 279530290661616,
													"disabled": true
												},
												{
													"callFunction": "GameOver",
													"sid": 437291690680995
												}
											],
											"sid": 480373046765062
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 302423618526841
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Car",
													"sid": 623132236321397,
													"parameters": {
														"instance-variable": "Health",
														"comparison": 4,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "subtract-from-instvar",
													"objectClass": "Car",
													"sid": 397443599335524,
													"parameters": {
														"instance-variable": "Health",
														"value": "1"
													}
												}
											],
											"sid": 966025100583418
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 965702518403938,
													"parameters": {
														"object": "score_ui",
														"expression": "score_ui.purpose",
														"comparison": 0,
														"value": "\"health\""
													}
												}
											],
											"actions": [
												{
													"id": "set-text",
													"objectClass": "score_ui",
													"sid": 735949644416610,
													"parameters": {
														"text": "Car.Health"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "heart",
													"sid": 418565975390408,
													"parameters": {
														"animation": "\"Hit\"",
														"from": "beginning"
													}
												}
											],
											"sid": 182060938934303
										}
									]
								}
							]
						}
					]
				},
				{
					"functionName": "ObstacleDamage",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "ObstacleUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 220176396606081
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Old_Obstacle",
							"sid": 673522303530915,
							"parameters": {
								"unique-id": "ObstacleUID"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Old_Obstacle",
							"sid": 302273943697315
						}
					],
					"sid": 945582745672326
				}
			],
			"sid": 747670836374308
		},
		{
			"functionName": "DrawArray",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "clear-canvas",
					"objectClass": "DrawingCanvas",
					"sid": 677117744578138,
					"parameters": {
						"color": "rgba(0, 0, 0, 0)"
					}
				},
				{
					"id": "line",
					"objectClass": "DrawingCanvas",
					"sid": 996842154281676,
					"parameters": {
						"x1": "ddraw.At(0, 0)",
						"y1": "ddraw.At(0, 1)",
						"x2": "ddraw.At(1, 0)",
						"y2": "ddraw.At(1, 1)",
						"color": "rgba(255, 0, 0, 50)",
						"line-thickness": "5",
						"line-cap": "square"
					}
				}
			],
			"sid": 566286237315956,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 433523670126206,
							"parameters": {
								"name": "\"ddraw\"",
								"start-index": "2",
								"end-index": "4"
							}
						}
					],
					"actions": [
						{
							"id": "line",
							"objectClass": "DrawingCanvas",
							"sid": 151429243128194,
							"parameters": {
								"x1": "ddraw.At(loopindex(\"ddraw\"), 0)",
								"y1": "ddraw.At(loopindex(\"ddraw\"), 1)",
								"x2": "ddraw.At(loopindex(\"ddraw\") + 1, 0)",
								"y2": "ddraw.At(loopindex(\"ddraw\") + 1, 1)",
								"color": "rgba(0, 255, 0, 50)",
								"line-thickness": "5",
								"line-cap": "square"
							}
						}
					],
					"sid": 781316744545051
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "line",
							"objectClass": "DrawingCanvas",
							"sid": 641956298898544,
							"parameters": {
								"x1": "ddraw.At(6, 0)",
								"y1": "ddraw.At(6, 1)",
								"x2": "ddraw.At(7, 0)",
								"y2": "ddraw.At(7, 1)",
								"color": "rgba(0, 0, 255, 50)",
								"line-thickness": "5",
								"line-cap": "square"
							}
						},
						{
							"id": "line",
							"objectClass": "DrawingCanvas",
							"sid": 678647792015193,
							"parameters": {
								"x1": "ddraw.At(8, 0)",
								"y1": "ddraw.At(8, 1)",
								"x2": "ddraw.At(9, 0)",
								"y2": "ddraw.At(9, 1)",
								"color": "rgba(255, 255, 255, 50)",
								"line-thickness": "4",
								"line-cap": "square"
							}
						},
						{
							"id": "fill-ellipse",
							"objectClass": "DrawingCanvas",
							"sid": 582868262928741,
							"parameters": {
								"x": "ddraw.At(8, 0)",
								"y": "ddraw.At(8, 1)",
								"radius-x": "5",
								"radius-y": "5",
								"color": "rgba(0, 0, 0, 100)",
								"edge": "smooth"
							}
						}
					],
					"sid": 296571343327357
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Buttons",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "Steer",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "Direction",
							"type": "number",
							"initialValue": "0",
							"comment": "[-1, 0) to steer left, (0, 1] to steer right",
							"sid": 178161048428221
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-steer-speed",
							"objectClass": "Car",
							"sid": 594882124632889,
							"behaviorType": "Car",
							"parameters": {
								"steer-speed": "Self.SteerCoef * Direction"
							}
						},
						{
							"id": "simulate-control",
							"objectClass": "Car",
							"sid": 250003836847876,
							"behaviorType": "Car",
							"parameters": {
								"control": "steer-right"
							}
						}
					],
					"sid": 815090310679583
				},
				{
					"functionName": "TurnRight",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 294230427082245,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Car",
							"sid": 919478630714282,
							"disabled": true,
							"behaviorType": "Car",
							"parameters": {
								"control": "steer-right"
							}
						},
						{
							"callFunction": "Steer",
							"sid": 977741955744507,
							"parameters": [
								"1"
							]
						}
					],
					"sid": 437768320667805
				},
				{
					"functionName": "TurnLeft",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 578467407450724,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Car",
							"sid": 998914447430954,
							"disabled": true,
							"behaviorType": "Car",
							"parameters": {
								"control": "steer-left"
							}
						},
						{
							"callFunction": "Steer",
							"sid": 744838692729191,
							"parameters": [
								"-1"
							]
						}
					],
					"sid": 862463542238096
				},
				{
					"functionName": "Brake",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 431106694368701,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Car",
							"sid": 511876270462242,
							"behaviorType": "Car",
							"parameters": {
								"control": "brake"
							}
						}
					],
					"sid": 535651742520401
				},
				{
					"functionName": "Accelerate",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 154620921773713,
							"parameters": {
								"object": "Car",
								"expression": "Car.Player",
								"comparison": 0,
								"value": "1"
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "Car",
							"sid": 841869944260712,
							"behaviorType": "Car",
							"parameters": {
								"control": "accelerate"
							}
						}
					],
					"sid": 837297658924002
				},
				{
					"functionName": "Restart",
					"functionDescription": "",
					"functionCategory": "Buttons",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "restart-layout",
							"objectClass": "System",
							"sid": 862589237762601
						}
					],
					"sid": 121864095180576
				},
				{
					"functionName": "ToMenu",
					"functionDescription": "",
					"functionCategory": "Buttons",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 337697906090273,
							"parameters": {
								"layout": "Menu"
							}
						}
					],
					"sid": 726678404874562
				},
				{
					"functionName": "Replay",
					"functionDescription": "",
					"functionCategory": "Buttons",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "ClosePauseMenu",
							"sid": 176982227743210
						},
						{
							"callFunction": "PlayRecording",
							"sid": 132547661985364
						}
					],
					"sid": 106346315969662
				},
				{
					"functionName": "PauseSwitch",
					"functionDescription": "",
					"functionCategory": "Buttons",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 194997995033370,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 722253620798206,
									"parameters": {
										"layer": "\"Settings\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 588259369520800,
									"parameters": {
										"layer": "\"Settings\"",
										"visibility": "visible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 598781900131851,
									"parameters": {
										"layer": "\"Settings\"",
										"interactive": true
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 831116233247973,
									"parameters": {
										"layer": "\"GUI\"",
										"visibility": "invisible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 641376961462573,
									"parameters": {
										"layer": "\"GUI\"",
										"interactive": false
									}
								}
							],
							"sid": 700830075876664
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 260255352965793
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 335223306763214,
									"parameters": {
										"layer": "\"Settings\"",
										"visibility": "invisible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 816750648384733,
									"parameters": {
										"layer": "\"Settings\"",
										"interactive": false
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 734086997277947,
									"parameters": {
										"layer": "\"GUI\"",
										"visibility": "visible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 539750961303302,
									"parameters": {
										"layer": "\"GUI\"",
										"interactive": true
									}
								}
							],
							"sid": 878077026977549
						}
					]
				},
				{
					"functionName": "Jump",
					"functionDescription": "",
					"functionCategory": "Buttons",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 963494953323973,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 730234930840526,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 438877222510770,
									"parameters": {
										"instance-variable": "Flying"
									},
									"isInverted": true
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 730435042916591,
									"parameters": {
										"variable": "Jumps",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Car",
									"sid": 105583767182083,
									"parameters": {
										"instance-variable": "Flying",
										"value": "true"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "Car",
									"sid": 235936657029446,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"jumpUp\"",
										"property": "scale",
										"end-x": "1.5",
										"end-y": "1.5",
										"time": "0.5",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 687008066237174,
									"parameters": {
										"variable": "Jumps",
										"value": "1"
									}
								},
								{
									"callFunction": "JumpsChanged",
									"sid": 926035221046147
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 437650919062556
								},
								{
									"id": "tween-two-properties",
									"objectClass": "Car",
									"sid": 414420968453595,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"jumpDown\"",
										"property": "scale",
										"end-x": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\r\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25",
										"end-y": "flags.Get(\"controls_car_scale\") = 0 ? 0.75 :\r\nflags.Get(\"controls_car_scale\") = 1 ? 1 : 1.25",
										"time": "0.5",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "Car",
									"sid": 990994542998698,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"jumpDown\"",
										"property": "scale",
										"end-x": "1",
										"end-y": "1",
										"time": "0.5",
										"ease": "default",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 968424442572724
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Car",
									"sid": 334171504702872,
									"parameters": {
										"instance-variable": "Flying",
										"value": "false"
									}
								}
							],
							"sid": 542598847077226
						}
					]
				},
				{
					"functionName": "UseNitro",
					"functionDescription": "",
					"functionCategory": "Buttons",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 946236952781027,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 869475478993537,
									"parameters": {
										"variable": "NitroCharge",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [],
							"sid": 953961771806638,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 760104563049951,
											"parameters": {
												"variable": "NitroState",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 801089477203665,
											"parameters": {
												"variable": "NitroState",
												"value": "1"
											}
										},
										{
											"id": "tween-value",
											"objectClass": "NitroBar",
											"sid": 401506925345451,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"PerfectQTE\"",
												"start-value": "0",
												"end-value": "30",
												"time": "1",
												"ease": "easeinoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes"
											}
										}
									],
									"sid": 370571921084289
								},
								{
									"eventType": "comment",
									"text": "Deprecated"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 719484526492202,
											"parameters": {
												"variable": "NitroState",
												"comparison": 0,
												"value": "1"
											}
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 292966747991441,
											"parameters": {
												"first-value": "NitroBar.Tween.Value(\"PerfectQTE\")",
												"comparison": 5,
												"second-value": "20"
											}
										}
									],
									"actions": [
										{
											"id": "stop-all-tweens",
											"objectClass": "NitroBar",
											"sid": 331843508965700,
											"behaviorType": "Tween"
										},
										{
											"id": "set-effect-parameter",
											"objectClass": "NitroBar",
											"sid": 163946857441999,
											"parameters": {
												"effect": "\"AdjustHSL\"",
												"parameter-index": "0",
												"value": "30"
											}
										},
										{
											"id": "set-effect-parameter",
											"objectClass": "NitroBar",
											"sid": 227739227045208,
											"parameters": {
												"effect": "\"AdjustHSL\"",
												"parameter-index": "2",
												"value": "110"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 627364129490093,
											"parameters": {
												"variable": "NitroState",
												"value": "2"
											}
										}
									],
									"sid": 616809892199467,
									"disabled": true
								}
							]
						}
					]
				},
				{
					"functionName": "Shoot",
					"functionDescription": "",
					"functionCategory": "Buttons",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 526794040736139,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 430499412545130,
									"parameters": {
										"object": "Car",
										"expression": "Car.Player",
										"comparison": 0,
										"value": "1"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Car",
									"sid": 786304312377704,
									"parameters": {
										"instance-variable": "Ammo",
										"comparison": 4,
										"value": "0"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "Car",
									"sid": 475306335198002,
									"parameters": {
										"child": "car_edge_collision",
										"which": "own"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "car_edge_collision",
									"sid": 806628050079394,
									"parameters": {
										"child": "cannon",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "cannon",
									"sid": 224092032228911,
									"parameters": {
										"object": "rocket",
										"layer": "Car.LayerName",
										"image-point": "\"Missile\"",
										"create-hierarchy": true
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "rocket",
									"sid": 450781874753943,
									"parameters": {
										"instance-variable": "ShooterUID",
										"value": "Car.UID"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "rocket",
									"sid": 698254598294098,
									"parameters": {
										"angle": "cannon.Angle"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "rocket",
									"sid": 673544217993953,
									"behaviorType": "Bullet",
									"parameters": {
										"speed": "max(Car.Car.Speed + 100, 300)"
									}
								},
								{
									"id": "subtract-from-instvar",
									"objectClass": "Car",
									"sid": 841569512508275,
									"parameters": {
										"instance-variable": "Ammo",
										"value": "1"
									}
								},
								{
									"callFunction": "RocketsChangedNew",
									"sid": 353413791124274
								}
							],
							"sid": 118938992214633,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 359291283791797,
											"parameters": {
												"object": "RocketTarget",
												"expression": "RocketTarget.UID",
												"comparison": 1,
												"value": "Car.UID"
											}
										}
									],
									"actions": [],
									"sid": 748910387209190,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-ordered",
													"objectClass": "System",
													"sid": 117437116635133,
													"parameters": {
														"object": "RocketTarget",
														"expression": "(0.25 + anglediff(Car.Angle, angle(Car.X, Car.Y, RocketTarget.X, RocketTarget.Y)) / 180 ) * distance(Car.X, Car.Y, RocketTarget.X, RocketTarget.Y)",
														"order": "ascending"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "rocket",
													"sid": 674809220350841,
													"parameters": {
														"instance-variable": "TargetUID",
														"value": "RocketTarget.UID"
													}
												},
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 677167455238255
												}
											],
											"sid": 113971153023547
										}
									]
								}
							]
						}
					]
				},
				{
					"functionName": "Rewind",
					"functionDescription": "",
					"functionCategory": "Buttons",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "ClearRewindScreen",
							"sid": 698947668417172
						},
						{
							"type": "comment",
							"text": "Remember: car information is recorded at a constant 50 fps rate"
						},
						{
							"callFunction": "StartRewind",
							"sid": 629096205372288,
							"parameters": [
								"150"
							]
						}
					],
					"sid": 670652535705944
				}
			],
			"sid": 199615438626828
		},
		{
			"functionName": "CreateObject",
			"functionDescription": "",
			"functionCategory": "Logic",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "object_string",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 394069737273130
				},
				{
					"name": "x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 658262756612789
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 547188347650974
				},
				{
					"name": "new_angle",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 288906130701436
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 268951606556859,
			"children": [
				{
					"eventType": "variable",
					"name": "object_animation",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 446855592607436
				},
				{
					"eventType": "variable",
					"name": "object_type",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 971090584334327
				},
				{
					"eventType": "variable",
					"name": "new_uid",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 956526802778304
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 402180824537367,
							"parameters": {
								"variable": "object_type",
								"value": "tokenat(object_string, 0, \"_\")"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 292403622691825,
							"parameters": {
								"variable": "object_animation",
								"value": "tokenat(object_string, 1, \"_\")"
							}
						},
						{
							"id": "create-object-by-name",
							"objectClass": "System",
							"sid": 776103612365147,
							"parameters": {
								"object-name": "object_type",
								"layer": "\"Level\"",
								"x": "x",
								"y": "y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						}
					],
					"sid": 296065986444184,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-last-created",
									"objectClass": "System",
									"sid": 185710001610105,
									"parameters": {
										"object": "MapElement"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 982238962592454,
									"parameters": {
										"variable": "new_uid",
										"value": "MapElement.UID"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "MapElement",
									"sid": 605590277119424,
									"parameters": {
										"angle": "new_angle"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "MapElement",
									"sid": 497940979024950,
									"parameters": {
										"animation": "object_animation",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "MapElement",
									"sid": 606690637022197,
									"parameters": {
										"x": "x",
										"y": "y"
									}
								}
							],
							"sid": 856540145579726,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 427657273967910,
											"parameters": {
												"first-value": "MapElement.ObjectTypeName",
												"comparison": 0,
												"second-value": "\"road\""
											}
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "road",
											"sid": 124122253932787,
											"parameters": {
												"unique-id": "new_uid"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "road",
											"sid": 523526170677837,
											"parameters": {
												"instance-variable": "TurnAngle",
												"value": "(left(object_animation, 1) = \"l\" ? -1 : 1) * int(right(object_animation, len(object_animation)-1))"
											}
										}
									],
									"sid": 619949294541043
								}
							]
						}
					]
				}
			]
		},
		{
			"functionName": "LoadMap",
			"functionDescription": "",
			"functionCategory": "Logic",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "map_name",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 307793121374959
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 332265380590125,
			"children": [
				{
					"eventType": "script",
					"script": "const furl = localVars.map_name + \".json\";\nconst link = await runtime.assets.getProjectFileUrl(furl);\nruntime.callFunction(\"GetMap\", link);"
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Load from project files"
		},
		{
			"functionName": "IsLoadedLvl",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "number",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 629192953267496,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 336729512913282,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 1,
								"second-value": "\"Lvl1\""
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 254326647588618,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 1,
								"second-value": "\"Lvl2\""
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 469518279565058,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 1,
								"second-value": "\"Lvl3\""
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 626899386496273,
							"parameters": {
								"first-value": "LayoutName",
								"comparison": 1,
								"second-value": "\"ParkingLot\""
							}
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 159346575771942,
							"parameters": {
								"value": "1"
							}
						}
					],
					"sid": 896515550079264
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 296534693074402
						}
					],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 747639366717989,
							"parameters": {
								"value": "0"
							}
						}
					],
					"sid": 413678293155168
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 598457568380497,
					"parameters": {
						"tag": "\"map\""
					}
				}
			],
			"actions": [
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 930460547722296,
					"parameters": {
						"type": "log",
						"message": "AJAX.LastData"
					}
				},
				{
					"id": "load",
					"objectClass": "Level_data",
					"sid": 768458571677213,
					"parameters": {
						"json": "AJAX.LastData"
					}
				},
				{
					"callFunction": "GetBackground",
					"sid": 699029788257198,
					"parameters": [
						"\"back_\"&(Level_data.At(0, 2) + 1)"
					]
				}
			],
			"sid": 409811941459900,
			"children": [
				{
					"eventType": "variable",
					"name": "counter",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 722074019136079
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 691813933295188,
							"parameters": {
								"name": "\"loadloop\"",
								"start-index": "1",
								"end-index": "Level_data.Width - 1"
							}
						}
					],
					"actions": [
						{
							"callFunction": "CreateObject",
							"sid": 313892993516102,
							"parameters": [
								"Level_data.At(loopindex(\"loadloop\"), 1)",
								"Level_data.At(loopindex(\"loadloop\"), 2)",
								"Level_data.At(loopindex(\"loadloop\"), 3)",
								"Level_data.At(loopindex(\"loadloop\"), 4)"
							]
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 694025906314450
						},
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 259617851060367,
							"parameters": {
								"type": "log",
								"message": "road.Count"
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 184511659019568,
							"parameters": {
								"variable": "counter",
								"value": "1"
							}
						}
					],
					"sid": 931495501568812,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 910206203924329,
									"parameters": {
										"variable": "counter",
										"comparison": 0,
										"value": "Level_data.Width - 2"
									}
								}
							],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 710062246811970,
									"parameters": {
										"seconds": "2"
									}
								},
								{
									"callFunction": "PlaceCars",
									"sid": 375503871668019
								},
								{
									"callFunction": "RocketsChangedNew",
									"sid": 767370969535699
								},
								{
									"callFunction": "GenerateBorders&Checkpoints",
									"sid": 864283017444566
								},
								{
									"callFunction": "PlaceTireEffects",
									"sid": 637807429050982
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 762043019474694,
									"parameters": {
										"layer": "\"GUI\"",
										"visibility": "visible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 983041446817069,
									"parameters": {
										"layer": "\"GUI\"",
										"interactive": true
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 756578605877602,
									"parameters": {
										"seconds": "1.5"
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 724240499537509,
									"parameters": {
										"layer": "\"Waiting\"",
										"visibility": "invisible"
									}
								},
								{
									"callFunction": "do_timer",
									"sid": 690470372495384
								},
								{
									"id": "move-to-object",
									"objectClass": "LevelLight",
									"sid": 768112498548138,
									"parameters": {
										"where": "in-front",
										"object": "Car"
									}
								}
							],
							"sid": 895714403886562
						}
					]
				}
			]
		},
		{
			"functionName": "GetMap",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "map_url",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 138342344765013
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "request-url",
					"objectClass": "AJAX",
					"sid": 713086192004470,
					"parameters": {
						"tag": "\"map\"",
						"url": "map_url"
					}
				}
			],
			"sid": 612147107593158
		},
		{
			"functionName": "GenerateBorders&Checkpoints",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 148720654764498,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 895490940305555,
							"parameters": {
								"object": "road"
							}
						}
					],
					"actions": [],
					"sid": 590679403055328,
					"children": [
						{
							"eventType": "variable",
							"name": "edge_angle",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 149642413073552
						},
						{
							"eventType": "variable",
							"name": "edge_angle_c3",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 533052414855246
						},
						{
							"eventType": "variable",
							"name": "edge_length",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 205682209085141
						},
						{
							"eventType": "variable",
							"name": "edge_y2",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 823026016321855
						},
						{
							"eventType": "variable",
							"name": "edge_y1",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 544912169379692
						},
						{
							"eventType": "variable",
							"name": "edge_x2",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 846227502681259
						},
						{
							"eventType": "variable",
							"name": "edge_x1",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 796181672913544
						},
						{
							"eventType": "variable",
							"name": "edge_dy",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 990064952541233
						},
						{
							"eventType": "variable",
							"name": "edge_dx",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 714377324290062
						},
						{
							"eventType": "variable",
							"name": "distance_to_end",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 924637203036845
						},
						{
							"eventType": "variable",
							"name": "distance_to_start",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 661459943357605
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 908063699493689,
									"parameters": {
										"name": "\"road_polygons\"",
										"start-index": "0",
										"end-index": "road.PolyPointCount - 1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 154122317725059,
									"parameters": {
										"variable": "edge_x1",
										"value": "road.PolyPointXAt(loopindex(\"road_polygons\"))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 182132289435127,
									"parameters": {
										"variable": "edge_x2",
										"value": "road.PolyPointXAt(loopindex(\"road_polygons\") + 1)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 297499384690914,
									"parameters": {
										"variable": "edge_y1",
										"value": "road.PolyPointYAt(loopindex(\"road_polygons\"))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 404523639291659,
									"parameters": {
										"variable": "edge_y2",
										"value": "road.PolyPointYAt(loopindex(\"road_polygons\") + 1)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 384634592402800,
									"parameters": {
										"variable": "edge_dx",
										"value": "edge_x2 - edge_x1"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 832866860931921,
									"parameters": {
										"variable": "edge_dy",
										"value": "edge_y2 - edge_y1"
									}
								},
								{
									"type": "script",
									"script": "localVars.edge_angle = Math.atan2(localVars.edge_dx, localVars.edge_dy) * 180 / Math.PI;\nlocalVars.edge_angle_c3 = 360 - localVars.edge_angle;\n\nconst edge1 = Vector(localVars.edge_x1, localVars.edge_y1);\nconst edge2 = Vector(localVars.edge_x2, localVars.edge_y2);\n\nconst segment = runtime.objects.road.getFirstPickedInstance();\n\nconst start_point_coords = segment.getImagePoint(\"Start\");\nconst start_point = Vector(start_point_coords[0], start_point_coords[1]);\n\nconst end_point_coords = segment.getImagePoint(\"End\");\nconst end_point = Vector(end_point_coords[0], end_point_coords[1]);\n//console.log(start_point_coords, end_point_coords);\n\nlocalVars.distance_to_start = Math.abs(distance_line_point(edge1, edge2, start_point));\nlocalVars.distance_to_end = Math.abs(distance_line_point(edge1, edge2, end_point));"
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 596996332557018,
									"disabled": true,
									"parameters": {
										"type": "log",
										"message": "edge_x1&\" \"&edge_y1&newline&edge_x2&\" \"&edge_y2"
									}
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 365520100175636,
									"disabled": true,
									"parameters": {
										"type": "log",
										"message": "\"Dsts: \"&distance_to_start&\" \"&distance_to_end"
									}
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 732491401299632,
									"disabled": true,
									"parameters": {
										"type": "log",
										"message": "edge_angle&\" \"&edge_angle_c3"
									}
								}
							],
							"sid": 880909185439111,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 628663416175550,
											"parameters": {
												"variable": "distance_to_start",
												"comparison": 5,
												"value": "50"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 799358922141864,
											"parameters": {
												"variable": "distance_to_end",
												"comparison": 5,
												"value": "50"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 974390854095733,
											"parameters": {
												"object-to-create": "border",
												"layer": "\"Level\"",
												"x": "edge_x1",
												"y": "edge_y1",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-visible",
											"objectClass": "border",
											"sid": 542059389901979,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "border",
											"sid": 500342645164071,
											"parameters": {
												"angle": "edge_angle_c3 + 180"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 286042243039940,
											"parameters": {
												"variable": "edge_length",
												"value": "sqrt(edge_dx*edge_dx + edge_dy*edge_dy)"
											}
										},
										{
											"id": "set-height",
											"objectClass": "border",
											"sid": 212516786305832,
											"parameters": {
												"height": "edge_length + border.Width"
											}
										},
										{
											"id": "move-at-angle",
											"objectClass": "border",
											"sid": 998580965784667,
											"parameters": {
												"angle": "edge_angle_c3",
												"distance": "80"
											}
										}
									],
									"sid": 869857398801920
								}
							]
						},
						{
							"eventType": "comment",
							"text": "TO:DO - add extra borders for sprint tracks"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "road",
									"sid": 167070160047602,
									"parameters": {
										"animation": "\"Start\""
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 197706669442997,
									"parameters": {
										"object-to-create": "border",
										"layer": "\"Level\"",
										"x": "road.ImagePointX(\"Start\")",
										"y": "road.ImagePointY(\"Start\")",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-visible",
									"objectClass": "border",
									"sid": 338685902800775,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "border",
									"sid": 794331265734505,
									"parameters": {
										"angle": "road.Angle + 90"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 465303885775816,
									"parameters": {
										"variable": "edge_length",
										"value": "768"
									}
								},
								{
									"id": "set-height",
									"objectClass": "border",
									"sid": 747021243633380,
									"parameters": {
										"height": "edge_length + border.Width * 2"
									}
								},
								{
									"id": "move-at-angle",
									"objectClass": "border",
									"sid": 829909925587453,
									"parameters": {
										"angle": "road.Angle - 180",
										"distance": "384 + Self.Width"
									}
								},
								{
									"id": "move-at-angle",
									"objectClass": "border",
									"sid": 807331792740188,
									"parameters": {
										"angle": "Self.Angle",
										"distance": "10"
									}
								}
							],
							"sid": 205532393595931
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "road",
									"sid": 979219409954254,
									"parameters": {
										"animation": "\"Finish\""
									}
								}
							],
							"actions": [],
							"sid": 910362445187480,
							"disabled": true,
							"children": [
								{
									"eventType": "variable",
									"name": "rUID",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 272181326128003
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 177323272669586,
											"parameters": {
												"variable": "rUID",
												"value": "road.UID"
											}
										}
									],
									"sid": 353202943217584,
									"disabled": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 689497862728893,
											"parameters": {
												"object": "road"
											}
										},
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 525848601477264,
											"parameters": {
												"object": "road",
												"expression": "road.AnimationName",
												"comparison": 0,
												"value": "\"Start\""
											}
										}
									],
									"actions": [],
									"sid": 976081554613119,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 611703510908901,
													"parameters": {
														"object": "road"
													}
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "road",
													"sid": 230008741830774,
													"parameters": {
														"unique-id": "rUID"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 572823127169348,
													"parameters": {
														"object-to-create": "border",
														"layer": "\"Level\"",
														"x": "road.ImagePointX(\"End\")",
														"y": "road.ImagePointY(\"End\")",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-angle",
													"objectClass": "border",
													"sid": 762087490111583,
													"parameters": {
														"angle": "road.Angle + 90"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 260019523437245,
													"parameters": {
														"variable": "edge_length",
														"value": "768"
													}
												},
												{
													"id": "set-height",
													"objectClass": "border",
													"sid": 767274741244290,
													"parameters": {
														"height": "edge_length + border.Width"
													}
												},
												{
													"id": "move-at-angle",
													"objectClass": "border",
													"sid": 542567244271970,
													"parameters": {
														"angle": "road.Angle - 180",
														"distance": "384 + Self.Width"
													}
												},
												{
													"id": "move-at-angle",
													"objectClass": "border",
													"sid": 989024220429560,
													"parameters": {
														"angle": "Self.Angle - 180",
														"distance": "10"
													}
												}
											],
											"sid": 572861013243383,
											"disabled": true
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Generate checkpoint/-s"
						},
						{
							"eventType": "variable",
							"name": "CheckpointUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 719375286687705
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "road",
									"sid": 718923991491574,
									"parameters": {
										"object": "checkpoint",
										"layer": "road.LayerName",
										"image-point": "Functions.ImagePointExists(road.UID, \"LapTrigger\") = 1 ? \"LapTrigger\" : \"End\"",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-visible",
									"objectClass": "checkpoint",
									"sid": 637364608059127,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "checkpoint",
									"sid": 329888564409831,
									"parameters": {
										"opacity": "0"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "checkpoint",
									"sid": 574698423221031,
									"parameters": {
										"angle": "road.Angle + road.TurnAngle - 180"
									}
								}
							],
							"sid": 976688301413561,
							"children": [
								{
									"eventType": "variable",
									"name": "hasMiddle",
									"type": "boolean",
									"initialValue": "false",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 370979139743541
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 486179176847119,
											"parameters": {
												"first-value": "Functions.ImagePointExists(road.UID, \"Middle\")",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "checkpoint",
											"sid": 476711708237183,
											"parameters": {
												"instance-variable": "checkID",
												"value": "checkpoint.IID + 1"
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 764390414643793,
											"parameters": {
												"variable": "hasMiddle",
												"value": "true"
											}
										}
									],
									"sid": 441807447381397
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 871914603617985
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "checkpoint",
											"sid": 746627948564423,
											"parameters": {
												"instance-variable": "checkID",
												"value": "checkpoint.IID"
											}
										}
									],
									"sid": 631340382843294
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "checkpoint",
											"sid": 797851201781880,
											"parameters": {
												"instance-variable": "checkID",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "checkpoint",
											"sid": 249403255871209,
											"parameters": {
												"instance-variable": "isStart",
												"value": "true"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "checkpoint",
											"sid": 301388901805456,
											"parameters": {
												"instance-variable": "IsEnd",
												"value": "false"
											}
										}
									],
									"sid": 216749819877072
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 438361335720798
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "checkpoint",
											"sid": 678816546131406,
											"parameters": {
												"instance-variable": "isStart",
												"value": "false"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "checkpoint",
											"sid": 939059718296173,
											"parameters": {
												"instance-variable": "IsEnd",
												"value": "false"
											}
										}
									],
									"sid": 910532517617404
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "road",
											"sid": 492348358631646,
											"parameters": {
												"instance-variable": "TurnAngle",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "checkpoint",
											"sid": 146764832814396,
											"parameters": {
												"animation": "\"Start\"",
												"from": "beginning"
											}
										}
									],
									"sid": 187721781199955
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 346484474630267
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "checkpoint",
											"sid": 540677089126031,
											"parameters": {
												"animation": "\"Check\"",
												"from": "beginning"
											}
										},
										{
											"id": "move-at-angle",
											"objectClass": "checkpoint",
											"sid": 502135128541562,
											"parameters": {
												"angle": "checkpoint.Angle - 180",
												"distance": "256"
											}
										}
									],
									"sid": 624035003462809
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 172884202672675,
											"parameters": {
												"variable": "hasMiddle"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "road",
											"sid": 916791103946422,
											"parameters": {
												"object": "checkpoint",
												"layer": "road.LayerName",
												"image-point": "\"Middle\"",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "checkpoint",
											"sid": 836987244262944,
											"parameters": {
												"instance-variable": "checkID",
												"value": "checkpoint.IID - 1"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "checkpoint",
											"sid": 705098177432187,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "checkpoint",
											"sid": 139152218169073,
											"parameters": {
												"opacity": "0"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "checkpoint",
											"sid": 653700783656559,
											"parameters": {
												"angle": "road.Angle + road.TurnAngle / 2 - 180"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "checkpoint",
											"sid": 708738364116615,
											"parameters": {
												"instance-variable": "isStart",
												"value": "false"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "checkpoint",
											"sid": 130358193470334,
											"parameters": {
												"instance-variable": "IsEnd",
												"value": "false"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "checkpoint",
											"sid": 197374861543075,
											"parameters": {
												"animation": "\"Check\"",
												"from": "beginning"
											}
										},
										{
											"id": "move-at-angle",
											"objectClass": "checkpoint",
											"sid": 373449305347044,
											"parameters": {
												"angle": "checkpoint.Angle - 180",
												"distance": "256"
											}
										}
									],
									"sid": 642577217770891
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-last-created",
							"objectClass": "System",
							"sid": 521076796814035,
							"parameters": {
								"object": "checkpoint"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "checkpoint",
							"sid": 951650952745402,
							"parameters": {
								"instance-variable": "IsEnd",
								"value": "true"
							}
						}
					],
					"sid": 496414894582803
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 184267649636280,
					"parameters": {
						"layer": "\"Settings\""
					}
				}
			],
			"actions": [],
			"sid": 946105109435416,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 649233607711544
						}
					],
					"actions": [
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 552085254938219,
							"parameters": {
								"time-scale": "0"
							}
						}
					],
					"sid": 431327248732925
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 204185498489024,
					"parameters": {
						"layer": "\"Settings\""
					},
					"isInverted": true
				}
			],
			"actions": [],
			"sid": 573927041089546,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 762818469522035
						}
					],
					"actions": [
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 483914012478771,
							"parameters": {
								"time-scale": "1"
							}
						}
					],
					"sid": 577761324528005
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-animation-finished",
					"objectClass": "heart",
					"sid": 914447708670981,
					"parameters": {
						"animation": "\"Hit\""
					}
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "heart",
					"sid": 260426649858403,
					"parameters": {
						"animation": "\"Static\"",
						"from": "beginning"
					}
				}
			],
			"sid": 940918256828559
		},
		{
			"functionName": "ChangeNitroNew",
			"functionDescription": "",
			"functionCategory": "Logic",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "delta",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 983304582521550
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 963331034977701,
					"parameters": {
						"variable": "NitroCharge",
						"value": "clamp(NitroCharge + delta, 0, 100)"
					}
				}
			],
			"sid": 249611443129402,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 824562288458591,
							"parameters": {
								"variable": "NitroCharge",
								"comparison": 2,
								"value": "30"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "NitroLevel",
							"sid": 582369627893318,
							"parameters": {
								"animation": "\"Low\"",
								"from": "beginning"
							}
						}
					],
					"sid": 755382090802459
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 510157506060929
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 377938106892611,
							"parameters": {
								"variable": "NitroCharge",
								"comparison": 2,
								"value": "60"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "NitroLevel",
							"sid": 481029111953094,
							"parameters": {
								"animation": "\"Mid\"",
								"from": "beginning"
							}
						}
					],
					"sid": 189080351195489
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 361160523352546
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 645345630758662,
							"parameters": {
								"variable": "NitroCharge",
								"comparison": 1,
								"value": "100"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "NitroLevel",
							"sid": 431670609349943,
							"parameters": {
								"animation": "\"High\"",
								"from": "beginning"
							}
						}
					],
					"sid": 909551021660889
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 395465147662932
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 169039829458466,
							"parameters": {
								"variable": "NitroCharge",
								"comparison": 0,
								"value": "100"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "NitroLevel",
							"sid": 913320432087784,
							"parameters": {
								"animation": "\"Full\"",
								"from": "beginning"
							}
						}
					],
					"sid": 689520999076869
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 575804347217451
						}
					],
					"actions": [
						{
							"id": "clear-canvas",
							"objectClass": "DrawNitrous",
							"sid": 169359928253490,
							"parameters": {
								"color": "rgba(0, 0, 0, 0)"
							}
						},
						{
							"id": "set-position-to-another-object",
							"objectClass": "NitroLevel",
							"sid": 190675628656862,
							"parameters": {
								"object": "NitroBut",
								"image-point-optional": "0"
							}
						},
						{
							"id": "alert",
							"objectClass": "Browser",
							"sid": 114049846034466,
							"disabled": true,
							"parameters": {
								"message": "\"pasted\""
							}
						}
					],
					"sid": 410959013085074
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 324511730964732,
							"parameters": {
								"variable": "NitroCharge",
								"comparison": 2,
								"value": "100"
							}
						}
					],
					"actions": [
						{
							"id": "set-active",
							"objectClass": "NitroLevel",
							"sid": 993322155936938,
							"behaviorType": "Sine",
							"parameters": {
								"state": "inactive"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "NitroLevel",
							"sid": 459151754296971,
							"parameters": {
								"opacity": "100"
							}
						},
						{
							"id": "paste-object",
							"objectClass": "DrawNitrous",
							"sid": 774170016764276,
							"parameters": {
								"object": "NitroLevel",
								"effects": "with-effects"
							}
						},
						{
							"id": "clear-rect",
							"objectClass": "DrawNitrous",
							"sid": 746635047306439,
							"parameters": {
								"left": "0",
								"top": "0",
								"right": "250",
								"bottom": "50 + (NitroBut.Height - NitroCharge * (NitroBut.Height / 100))",
								"color": "rgba(0, 0, 0, 0)"
							}
						},
						{
							"id": "set-position",
							"objectClass": "NitroLevel",
							"sid": 604037935244105,
							"parameters": {
								"x": "-500",
								"y": "-500"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "NitroBut",
							"sid": 863495765732751,
							"parameters": {
								"animation": "\"NotFull\"",
								"from": "beginning"
							}
						}
					],
					"sid": 824727662909147
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 448703288159894
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "NitroBut",
							"sid": 864644009155753,
							"parameters": {
								"animation": "\"Full\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "NitroLevel",
							"sid": 633328471619341,
							"parameters": {
								"opacity": "50"
							}
						},
						{
							"id": "set-active",
							"objectClass": "NitroLevel",
							"sid": 819510601696626,
							"behaviorType": "Sine",
							"parameters": {
								"state": "active"
							}
						}
					],
					"sid": 933756177384737
				}
			]
		},
		{
			"functionName": "SpawnCheckpoint",
			"functionDescription": "",
			"functionCategory": "Logic",
			"functionReturnType": "number",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "RoadUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 782224098388766
				},
				{
					"name": "Point",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 869406723930549
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "road",
					"sid": 230716564272427,
					"parameters": {
						"unique-id": "RoadUID"
					}
				}
			],
			"actions": [],
			"sid": 451810717701834
		},
		{
			"functionName": "ImagePointExists",
			"functionDescription": "",
			"functionCategory": "Logic",
			"functionReturnType": "number",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "SpriteUID",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 618349358893814
				},
				{
					"name": "ImagePointName",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 767302270160635
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 266441693793832,
			"children": [
				{
					"eventType": "variable",
					"name": "Result",
					"type": "number",
					"initialValue": "1",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 928507767378934
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "const sprite = runtime.getInstanceByUid(localVars.SpriteUID);\nconst [IPx, IPy] = sprite.getImagePoint(localVars.ImagePointName);\nif (IPx === sprite.x && IPy === sprite.y) {\n\tlocalVars.Result = 0;\n}"
						},
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 486871942144731,
							"parameters": {
								"value": "Result"
							}
						}
					],
					"sid": 584104576110907
				}
			]
		},
		{
			"functionName": "CoinPickup",
			"functionDescription": "",
			"functionCategory": "Logic",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "coin_x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 404035083023120
				},
				{
					"name": "coin_y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 306186065486129
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "add-to-eventvar",
					"objectClass": "System",
					"sid": 667194017069219,
					"parameters": {
						"variable": "Coins",
						"value": "5"
					}
				}
			],
			"sid": 743701016304104,
			"children": [
				{
					"eventType": "variable",
					"name": "prev_mid",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 604241057592624
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-playing",
							"objectClass": "coin_txt",
							"sid": 950529846734404,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Add\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 369287011426815,
							"parameters": {
								"variable": "prev_mid",
								"value": "coin_txt.Tween.Value(\"Add\")"
							}
						},
						{
							"id": "stop-tweens",
							"objectClass": "coin_txt",
							"sid": 948538860030664,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Add\""
							}
						}
					],
					"sid": 568660086338572
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 499038043039546
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 636167508437228,
							"parameters": {
								"variable": "prev_mid",
								"value": "Coins - 5"
							}
						}
					],
					"sid": 865113363985438
				},
				{
					"eventType": "variable",
					"name": "gui_y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 939557506789545
				},
				{
					"eventType": "variable",
					"name": "gui_x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 951386794995461
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "tween-value",
							"objectClass": "coin_txt",
							"sid": 375069036947088,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Add\"",
								"start-value": "prev_mid",
								"end-value": "Coins",
								"time": "1",
								"ease": "default",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						},
						{
							"type": "script",
							"script": "[localVars.gui_x, localVars.gui_y] = layer_to_layer_px(localVars.coin_x, localVars.coin_y, runtime.layout.getLayer(\"Level\"), runtime.layout.getLayer(\"GUI\"));"
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 634606562234211,
							"parameters": {
								"object-to-create": "money_icon_static",
								"layer": "\"GUI\"",
								"x": "gui_x",
								"y": "gui_y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "tween-two-properties",
							"objectClass": "money_icon_static",
							"sid": 661031756905125,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"ToIcon\"",
								"property": "position",
								"end-x": "675",
								"end-y": "170",
								"time": "0.5",
								"ease": "easeoutsine",
								"destroy-on-complete": "yes",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 304906424282684,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 347779690882556,
									"parameters": {
										"object": "money_icon_static"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "money_icon_static",
									"sid": 756136978397590,
									"parameters": {
										"unique-id": "623"
									}
								}
							],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 131747964237779,
									"parameters": {
										"seconds": "0.3"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "money_icon_static",
									"sid": 216465882298695,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Glow\"",
										"start-value": "0",
										"end-value": "150",
										"time": "0.2",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "yes"
									}
								},
								{
									"id": "tween-value",
									"objectClass": "money_icon_static",
									"sid": 586288311234141,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"Brightness\"",
										"start-value": "100",
										"end-value": "200",
										"time": "0.2",
										"ease": "easeinoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "yes"
									}
								}
							],
							"sid": 139538942108105
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-playing",
					"objectClass": "coin_txt",
					"sid": 195218485863192,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Add\""
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "coin_txt",
					"sid": 588730742532741,
					"parameters": {
						"text": "floor(Self.Tween.Value(\"Add\"))"
					}
				}
			],
			"sid": 298256893540463
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-playing",
					"objectClass": "money_icon_static",
					"sid": 854596020801265,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Glow\""
					}
				}
			],
			"actions": [
				{
					"id": "set-effect-parameter",
					"objectClass": "money_icon_static",
					"sid": 174019150060092,
					"parameters": {
						"effect": "\"GlowHorizontal\"",
						"parameter-index": "0",
						"value": "Self.Tween.Value(\"Glow\")"
					}
				},
				{
					"id": "set-effect-parameter",
					"objectClass": "money_icon_static",
					"sid": 704997107810441,
					"parameters": {
						"effect": "\"GlowVertical\"",
						"parameter-index": "0",
						"value": "Self.Tween.Value(\"Glow\")"
					}
				}
			],
			"sid": 363694856568069
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-playing",
					"objectClass": "money_icon_static",
					"sid": 866372671137857,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Brightness\""
					}
				}
			],
			"actions": [
				{
					"id": "set-effect-parameter",
					"objectClass": "money_icon_static",
					"sid": 328228069840002,
					"parameters": {
						"effect": "\"Brightness\"",
						"parameter-index": "0",
						"value": "Self.Tween.Value(\"Brightness\")"
					}
				}
			],
			"sid": 433465650745899
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-playing",
					"objectClass": "background",
					"sid": 654339731970786,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"ScrollX\""
					}
				}
			],
			"actions": [
				{
					"id": "set-image-offset-x",
					"objectClass": "background",
					"sid": 956217341578744,
					"parameters": {
						"offset-x": "Self.Tween.Value(\"ScrollX\")"
					}
				}
			],
			"sid": 692799003044017
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-playing",
					"objectClass": "background",
					"sid": 423843488413121,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"ScrollY\""
					}
				}
			],
			"actions": [
				{
					"id": "set-image-offset-x",
					"objectClass": "background",
					"sid": 356848533611187,
					"parameters": {
						"offset-x": "Self.Tween.Value(\"ScrollY\")"
					}
				}
			],
			"sid": 693650652136225
		},
		{
			"functionName": "NitroPickup",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 623834620018984
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 232877673302549
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "script",
					"script": "[localVars.x, localVars.y] = layer_to_layer_px(localVars.x, localVars.y, runtime.layout.getLayer(\"Level\"), runtime.layout.getLayer(\"GUI\"));"
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 436639566178234,
					"parameters": {
						"object-to-create": "bonus",
						"layer": "\"GUI\"",
						"x": "x",
						"y": "y",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-animation",
					"objectClass": "bonus",
					"sid": 136079025887900,
					"parameters": {
						"animation": "\"Nitro\"",
						"from": "beginning"
					}
				},
				{
					"id": "set-collisions-enabled",
					"objectClass": "bonus",
					"sid": 258836449421457,
					"parameters": {
						"collisions": "disabled"
					}
				},
				{
					"id": "tween-two-properties",
					"objectClass": "bonus",
					"sid": 427328574018850,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"BigBoost\"",
						"property": "scale",
						"end-x": "1.75",
						"end-y": "1.75",
						"time": "0.3",
						"ease": "easeinsine",
						"destroy-on-complete": "yes",
						"loop": "no",
						"ping-pong": "no"
					}
				},
				{
					"id": "tween-two-properties",
					"objectClass": "bonus",
					"sid": 551233896052336,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"ToBoost\"",
						"property": "position",
						"end-x": "565",
						"end-y": "1110",
						"time": "0.3",
						"ease": "easeinsine",
						"destroy-on-complete": "yes",
						"loop": "no",
						"ping-pong": "no"
					}
				}
			],
			"sid": 349936854248785
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-playing",
					"objectClass": "timer",
					"sid": 904220763221892,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Change\""
					}
				}
			],
			"actions": [
				{
					"id": "set-effect-parameter",
					"objectClass": "timer",
					"sid": 145737823562696,
					"parameters": {
						"effect": "\"Pixellate\"",
						"parameter-index": "0",
						"value": "Self.Tween.Value(\"Change\")"
					}
				}
			],
			"sid": 406008801815845
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-playing",
					"objectClass": "win_background",
					"sid": 830936825268774,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Fade\""
					}
				}
			],
			"actions": [
				{
					"id": "set-layer-opacity",
					"objectClass": "System",
					"sid": 279075999141429,
					"parameters": {
						"layer": "\"Win\"",
						"opacity": "win_background.Tween.Value(\"Fade\")"
					}
				}
			],
			"sid": 672211916224934
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-playing",
					"objectClass": "loss_background",
					"sid": 251847430949759,
					"behaviorType": "Tween",
					"parameters": {
						"tags": "\"Fade\""
					}
				}
			],
			"actions": [
				{
					"id": "set-layer-opacity",
					"objectClass": "System",
					"sid": 554678824138507,
					"parameters": {
						"layer": "\"Loss\"",
						"opacity": "loss_background.Tween.Value(\"Fade\")"
					}
				}
			],
			"sid": 563519676172622
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 696128092708500,
					"parameters": {
						"layer": "\"Win\""
					}
				}
			],
			"actions": [],
			"sid": 978936215424547,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 226745260887878
						}
					],
					"actions": [
						{
							"id": "tween-value",
							"objectClass": "win_background",
							"sid": 560193829257074,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Fade\"",
								"start-value": "0",
								"end-value": "100",
								"time": "0.25",
								"ease": "easeinsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 414389508883469
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 622946754329697,
					"parameters": {
						"layer": "\"Loss\""
					}
				}
			],
			"actions": [],
			"sid": 791346924741917,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 395113379305298
						}
					],
					"actions": [
						{
							"id": "tween-value",
							"objectClass": "loss_background",
							"sid": 502569864879774,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"Fade\"",
								"start-value": "0",
								"end-value": "100",
								"time": "0.25",
								"ease": "easeinsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 647636096772121
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 176007244031125,
					"parameters": {
						"object": "ToMenuBut"
					}
				},
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 442268338362364,
					"parameters": {
						"layer": "ToMenuBut.LayerName"
					}
				}
			],
			"actions": [
				{
					"callFunction": "ToMenu",
					"sid": 478523042370824
				}
			],
			"sid": 840492206223588
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 625055679804309,
					"parameters": {
						"object": "RestartBut"
					}
				},
				{
					"id": "layer-is-visible",
					"objectClass": "System",
					"sid": 630452873431846,
					"parameters": {
						"layer": "RestartBut.LayerName"
					}
				}
			],
			"actions": [
				{
					"callFunction": "Restart",
					"sid": 411589640357965
				}
			],
			"sid": 323387636132468
		},
		{
			"functionName": "GetBackground",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "ImageName",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 257589795788309
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 657617741119868,
			"children": [
				{
					"eventType": "script",
					"script": "const furl = localVars.ImageName + \".png\";\nconst link = await runtime.assets.getProjectFileUrl(furl);\nruntime.callFunction(\"LoadBackground\", link);"
				}
			]
		},
		{
			"functionName": "LoadBackground",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "URL",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 555816813128417
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "load-image-from-url",
					"objectClass": "background",
					"sid": 551247643111578,
					"parameters": {
						"uri": "URL",
						"cross-origin": "anonymous"
					}
				}
			],
			"sid": 900336635125591
		}
	],
	"sid": 528873411861220
}