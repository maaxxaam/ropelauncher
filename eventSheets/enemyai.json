{
	"name": "EnemyAI",
	"events": [
		{
			"functionName": "CreateAI_Car",
			"functionDescription": "Make a Car instance become controlled by AI",
			"functionCategory": "AI",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "Car_UID",
					"type": "number",
					"initialValue": "0",
					"comment": "UID of a Car you want to make into AI-controlled",
					"sid": 953810398379681
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Car",
					"sid": 200012251232948,
					"parameters": {
						"unique-id": "Car_UID"
					}
				},
				{
					"id": "pick-nth-child",
					"objectClass": "Car",
					"sid": 673637447160380,
					"parameters": {
						"child": "car_edge_collision",
						"instance": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "Car",
					"sid": 406021382927205,
					"parameters": {
						"instance-variable": "Player",
						"value": "false"
					}
				},
				{
					"id": "set-default-controls",
					"objectClass": "Car",
					"sid": 459601591306575,
					"behaviorType": "Car",
					"parameters": {
						"default-controls": false
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "car_edge_collision",
					"sid": 369535747817201,
					"parameters": {
						"instance-variable": "ToCheckpoint",
						"value": "0"
					}
				}
			],
			"sid": 253735775079773
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "checkpoint",
					"sid": 762192828588879,
					"parameters": {
						"object": "Car"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "checkpoint",
					"sid": 816085148281076,
					"parameters": {
						"instance-variable": "IsStart"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "Car",
					"sid": 255388956299394,
					"parameters": {
						"instance-variable": "Player"
					}
				},
				{
					"id": "is-enabled",
					"objectClass": "Car",
					"sid": 910447426015502,
					"behaviorType": "Car"
				},
				{
					"id": "pick-nth-child",
					"objectClass": "Car",
					"sid": 896546790907844,
					"parameters": {
						"child": "car_edge_collision",
						"instance": "0"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 596572856318472,
					"parameters": {
						"variable": "GameState",
						"comparison": 0,
						"value": "GAME_ACTIVE"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 765517057346492,
					"parameters": {
						"variable": "game_mode",
						"comparison": 0,
						"value": "\"Race\""
					}
				}
			],
			"actions": [],
			"sid": 767062316783937,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "car_edge_collision",
							"sid": 888888142597820,
							"parameters": {
								"instance-variable": "Lap",
								"comparison": 0,
								"value": "RaceLaps"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 322046072089197,
							"parameters": {
								"variable": "GameState",
								"value": "GAME_OVER"
							}
						}
					],
					"sid": 900346112525394,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "car_edge_collision",
									"sid": 203528571431351,
									"parameters": {
										"child": "car_position",
										"which": "own"
									}
								}
							],
							"actions": [],
							"sid": 905894372793514,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-text",
											"objectClass": "car_position",
											"sid": 117359722903642,
											"parameters": {
												"text-to-compare": "\"1\"",
												"case-sensitivity": "ignore-case"
											}
										}
									],
									"actions": [
										{
											"id": "alert",
											"objectClass": "Browser",
											"sid": 237350943279911,
											"parameters": {
												"message": "\"Вы победили!\""
											}
										},
										{
											"callFunction": "PauseGUI",
											"sid": 728682441571239,
											"parameters": [
												"\"RaceWin\""
											]
										}
									],
									"sid": 686279975886377
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 386546421159072
										}
									],
									"actions": [
										{
											"id": "alert",
											"objectClass": "Browser",
											"sid": 375105997401969,
											"parameters": {
												"message": "\"Вы проиграли, заняв только \"&car_position.Text&\" место :-(\""
											}
										},
										{
											"callFunction": "PauseGUI",
											"sid": 849268439089545,
											"parameters": [
												"\"RaceLoss\""
											]
										}
									],
									"sid": 842760659956892
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-all",
									"objectClass": "System",
									"sid": 520757770843732,
									"parameters": {
										"object": "Car"
									}
								}
							],
							"actions": [
								{
									"id": "set-ignoring-input",
									"objectClass": "Car",
									"sid": 193843485229583,
									"behaviorType": "Car",
									"parameters": {
										"input": "start-ignoring"
									}
								},
								{
									"id": "stop",
									"objectClass": "Car",
									"sid": 439477364747999,
									"behaviorType": "Car"
								},
								{
									"id": "set-enabled",
									"objectClass": "Car",
									"sid": 832010081432652,
									"behaviorType": "Car",
									"parameters": {
										"state": "disabled"
									}
								}
							],
							"sid": 906237844459036
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 385887613267385
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "car_edge_collision",
							"sid": 270594410785130,
							"parameters": {
								"instance-variable": "Lap",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"callFunction": "ShowLap",
							"sid": 726874454410149
						}
					],
					"sid": 106762162029473
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 545418341437902
				},
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 907425640922671,
					"parameters": {
						"object": "car_edge_collision"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "car_edge_collision",
					"sid": 170709316319862,
					"parameters": {
						"instance-variable": "Moving"
					}
				},
				{
					"id": "pick-by-comparison",
					"objectClass": "System",
					"sid": 698698357974774,
					"parameters": {
						"object": "AIGoal",
						"expression": "AIGoal.UID",
						"comparison": 0,
						"value": "car_edge_collision.GoalUID"
					}
				}
			],
			"actions": [],
			"sid": 205077895234076,
			"children": [
				{
					"eventType": "variable",
					"name": "posy",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 367856789330986
				},
				{
					"eventType": "variable",
					"name": "posx",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 915394982256348
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-parent",
							"objectClass": "car_edge_collision",
							"sid": 647495363459096,
							"parameters": {
								"parent": "Car",
								"which": "own"
							}
						},
						{
							"id": "is-enabled",
							"objectClass": "Car",
							"sid": 894088962841607,
							"behaviorType": "Car"
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 455861997538188,
							"parameters": {
								"variable": "posx",
								"value": "AIGoal.X + car_edge_collision.randx * cos(checkpoint.Angle)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 673361030658636,
							"parameters": {
								"variable": "posy",
								"value": "AIGoal.Y + car_edge_collision.randy * sin(checkpoint.Angle)"
							}
						}
					],
					"sid": 873940142496052,
					"children": [
						{
							"eventType": "variable",
							"name": "AngleToNode",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 193176329461371
						},
						{
							"eventType": "comment",
							"text": "If we are close to a pathfinding node"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "car_edge_collision",
									"sid": 692157221970643,
									"parameters": {
										"object": "AIGoal"
									}
								}
							],
							"actions": [],
							"sid": 625974713868378,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 811752734413948,
											"parameters": {
												"first-value": "AIGoal.ObjectTypeName",
												"comparison": 0,
												"second-value": "\"checkpoint\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "AIGoal",
											"sid": 683923350135786,
											"parameters": {
												"instance-variable": "checkID",
												"comparison": 0,
												"value": "car_edge_collision.ToCheckpoint"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "car_edge_collision",
											"sid": 635259756990648,
											"parameters": {
												"instance-variable": "randx",
												"value": "random(-64, 256)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "car_edge_collision",
											"sid": 338231700681875,
											"parameters": {
												"instance-variable": "randy",
												"value": "random(-64, 64)"
											}
										}
									],
									"sid": 142806884141493,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 948291696101029,
													"parameters": {
														"first-value": "checkpoint.Count - 1",
														"comparison": 4,
														"second-value": "car_edge_collision.ToCheckpoint"
													}
												},
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 462435594415840,
													"parameters": {
														"object": "checkpoint",
														"expression": "checkpoint.checkID",
														"comparison": 0,
														"value": "car_edge_collision.ToCheckpoint + 1"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "car_edge_collision",
													"sid": 377634906887406,
													"parameters": {
														"instance-variable": "ToCheckpoint",
														"value": "1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "car_edge_collision",
													"sid": 242932308936480,
													"parameters": {
														"instance-variable": "GoalUID",
														"value": "checkpoint.UID"
													}
												}
											],
											"sid": 915119423373081
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 240713023749974
												},
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 688336699517471,
													"parameters": {
														"object": "checkpoint",
														"expression": "checkpoint.checkID",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "car_edge_collision",
													"sid": 625211628942373,
													"parameters": {
														"instance-variable": "Lap",
														"value": "1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "car_edge_collision",
													"sid": 782587763558312,
													"parameters": {
														"instance-variable": "ToCheckpoint",
														"value": "0"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "car_edge_collision",
													"sid": 943569797805390,
													"parameters": {
														"instance-variable": "GoalUID",
														"value": "checkpoint.UID"
													}
												}
											],
											"sid": 377678415329019
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 460503737747643,
											"parameters": {
												"first-value": "AIGoal.ObjectTypeName",
												"comparison": 0,
												"second-value": "\"checkpoint\""
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "car_edge_collision",
											"sid": 406857997464142,
											"parameters": {
												"instance-variable": "GoalUID",
												"comparison": 0,
												"value": "AIGoal.UID"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "AIGoal",
											"sid": 297558072518557
										}
									],
									"sid": 925393063126603,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 965987684934695,
													"parameters": {
														"object": "checkpoint",
														"expression": "checkpoint.checkID",
														"comparison": 0,
														"value": "car_edge_collision.ToCheckpoint"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "car_edge_collision",
													"sid": 361336862231887,
													"parameters": {
														"instance-variable": "GoalUID",
														"value": "checkpoint.UID"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "car_edge_collision",
													"sid": 869037016692267,
													"parameters": {
														"instance-variable": "randx",
														"value": "random(-64, 256)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "car_edge_collision",
													"sid": 765737957265564,
													"parameters": {
														"instance-variable": "randy",
														"value": "random(-64, 64)"
													}
												}
											],
											"sid": 571294224626724
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Moving to a Node"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 497327540835021
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Car",
									"sid": 691674046436850,
									"parameters": {
										"instance-variable": "Player"
									},
									"isInverted": true
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "AIGoal",
									"sid": 895705862941586,
									"parameters": {
										"unique-id": "car_edge_collision.GoalUID"
									}
								}
							],
							"actions": [
								{
									"id": "alert",
									"objectClass": "Browser",
									"sid": 889560857152635,
									"disabled": true,
									"parameters": {
										"message": "\"far enough\""
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 976234804364809,
									"parameters": {
										"variable": "AngleToNode",
										"value": "angle(posx, posy, Car.X, Car.Y) + 180"
									}
								},
								{
									"type": "comment",
									"text": "Check if facing an obstacle"
								}
							],
							"sid": 751525880841498,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "AIGoal",
											"sid": 649090849792148,
											"parameters": {
												"instance-variable": "checkID",
												"comparison": 1,
												"value": "-1"
											}
										}
									],
									"actions": [
										{
											"type": "script",
											"script": "let car = runtime.objects.Car.getFirstPickedInstance();\nlet edge = car.getChildAt(0);\nlet pred = Vector(600 * Math.cos(car.angle), 600 * Math.sin(car.angle));\n//let ray_left = car.behaviors.LineOfSight.castRay(car.getImagePointX(3), car.getImagePointY(3), localVars.posx, localVars.posy);\n//let ray_right = car.behaviors.LineOfSight.castRay(car.getImagePointX(4), car.getImagePointY(4), localVars.posx, localVars.posy);\nlet ray_left = car.behaviors.LineOfSight.castRay(car.getImagePointX(3), car.getImagePointY(3), car.getImagePointX(3) + pred.x, car.getImagePointY(3) + pred.y);\nlet ray_right = car.behaviors.LineOfSight.castRay(car.getImagePointX(4), car.getImagePointY(4), car.getImagePointX(4) + pred.x, car.getImagePointY(4) + pred.y);\nlet hit = false;\nif (ray_left.didCollide) {\n\thit = Vector(ray_left.hitX, ray_left.hitY);\n\tvar obj = runtime.getInstanceByUid(ray_left.hitUid);\n\tvar normal = Vector.normalize(Vector(-car.y + hit.y, car.x - hit.x));\n\tvar points = close_projection_points(car, obj, normal);\n} else if (ray_right.didCollide) {\n\thit = Vector(ray_right.hitX, ray_right.hitY);\n\tvar obj = runtime.getInstanceByUid(ray_right.hitUid);\n\tvar normal = Vector.normalize(Vector(+car.y - hit.y, -car.x + hit.x));\n\tvar points = close_projection_points(car, obj, normal);\n}\n//console.log(ray_left, ray_right);\nif (hit !== false) {\n\tconsole.log(obj, pred);\n// not sure I need this \"if\", left here for a safe measure\n\tif (points[0].dot <= points[1].dot) { //overlap\n\t\tconst overVec = Vector.subtract(points[1], points[0]);\n\t\tconst tempDest = Vector.add(hit, Vector.multiply(Vector.normalize(overVec), car.width * 1.5));\n\t\t//alert(localVars.AngleToNode);\n\t\t//car.setAnimation(\"Colliding\");\n\t\tlet new_goal = runtime.objects.tempGoal.createInstance(\"Level\", tempDest.x, tempDest.y);\n\t\tnew_goal.angle = car.angle;\n\t\tedge.instVars.GoalUID = new_goal.uid;\n\t\tedge.instVars.randx = 0;\n\t\tedge.instVars.randy = 0;\n\t\tlocalVars.AngleToNode = C3.angleTo(tempDest.x, tempDest.y, car.x, car.y) * 180 / Math.PI + 180;\n\t\tconsole.log([car.x, car.y], [obj.x, obj.y], hit, normal, points, tempDest);\n\t\t//alert(localVars.AngleToNode);\n\t}\n}\n/*\nlet gui = runtime.layout.getLayer(\"GUI\");\nlet lay = runtime.layout.getLayer(\"Layout\");\n\nfunction get_point(param) {\n\treturn layer_to_layer_px(param.x, param.y, lay, gui);\n}\n\nlet vals = [];\nvals.push(get_point({x: car.getImagePointX(3), y: car.getImagePointY(3)}));\nvals.push(get_point({x: car.getImagePointX(3) + pred.x, y: car.getImagePointY(3) + pred.y}));\nvals.push(get_point({x: car.getImagePointX(4), y: car.getImagePointY(4)}));\nvals.push(get_point({x: car.getImagePointX(4) + pred.x, y: car.getImagePointY(4) + pred.y}));\nlet arr = runtime.objects.ddraw.getFirstInstance();\nlet start = 10 + car.instVars.index * 4;\nfor (let i = start; i < vals.length + start; i++) {\n\tarr.setAt(vals[i - start][0], i, 0);\n\tarr.setAt(vals[i - start][1], i, 1);\n}\n*/"
										},
										{
											"callFunction": "DrawArray2",
											"sid": 286022432789976,
											"disabled": true
										}
									],
									"sid": 286692746313519,
									"disabled": true
								},
								{
									"eventType": "comment",
									"text": "Check if faced correctly"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 926498738164577,
											"parameters": {
												"first-value": "anglediff(Car.Car.MovingAngle, AngleToNode)",
												"comparison": 3,
												"second-value": "15"
											}
										}
									],
									"actions": [
										{
											"id": "alert",
											"objectClass": "Browser",
											"sid": 723784363671041,
											"disabled": true,
											"parameters": {
												"message": "\"accel\""
											}
										},
										{
											"id": "cast-ray",
											"objectClass": "Car",
											"sid": 538233009338335,
											"disabled": true,
											"behaviorType": "LineOfSight",
											"parameters": {
												"from-x": "Self.ImagePointX(3)",
												"from-y": "Self.ImagePointY(3)",
												"to-x": "posx",
												"to-y": "posy",
												"use-collision-cells": true
											}
										},
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 896321847921853,
											"behaviorType": "Car",
											"parameters": {
												"control": "accelerate"
											}
										}
									],
									"sid": 619027236184787
								},
								{
									"eventType": "comment",
									"text": "Turn if faced the wrong way"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 506092608340268,
											"parameters": {
												"first-value": "anglediff(Car.Car.MovingAngle, AngleToNode)",
												"comparison": 4,
												"second-value": "2"
											}
										}
									],
									"actions": [],
									"sid": 410659885757864,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-speed",
													"objectClass": "Car",
													"sid": 178113637827762,
													"behaviorType": "Car",
													"parameters": {
														"comparison": 3,
														"speed": "Car.Car.MaxSpeed * 0.40"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 331846021749075,
													"parameters": {
														"first-value": "anglediff(Car.Car.MovingAngle, AngleToNode)",
														"comparison": 4,
														"second-value": "70"
													}
												},
												{
													"id": "is-on-screen",
													"objectClass": "Car",
													"sid": 606581895054568,
													"isInverted": true
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "AIGoal",
													"sid": 143863799496862,
													"parameters": {
														"unique-id": "car_edge_collision.GoalUID"
													}
												}
											],
											"actions": [
												{
													"id": "set-angle-toward-position",
													"objectClass": "Car",
													"sid": 354225711785255,
													"parameters": {
														"x": "AIGoal.X",
														"y": "AIGoal.Y"
													}
												}
											],
											"sid": 791126265282037
										},
										{
											"eventType": "comment",
											"text": "Turn left"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-between-angles",
													"objectClass": "System",
													"sid": 162123842899530,
													"parameters": {
														"angle": "AngleToNode - Car.Angle",
														"first-angle": "0",
														"second-angle": "180"
													}
												}
											],
											"actions": [
												{
													"id": "simulate-control",
													"objectClass": "Car",
													"sid": 353681719515076,
													"behaviorType": "Car",
													"parameters": {
														"control": "steer-right"
													}
												},
												{
													"id": "set-steer-speed",
													"objectClass": "Car",
													"sid": 595456428674207,
													"disabled": true,
													"behaviorType": "Car",
													"parameters": {
														"steer-speed": "Car.Angle - AngleToNode - 120"
													}
												},
												{
													"id": "set-speed",
													"objectClass": "Car",
													"sid": 959651002824342,
													"disabled": true,
													"behaviorType": "Car",
													"parameters": {
														"speed": "Car.Car.Speed - Car.Car.Deceleration / fps"
													}
												}
											],
											"sid": 598011758242463
										},
										{
											"eventType": "comment",
											"text": "Turn right"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 149065803252600
												}
											],
											"actions": [
												{
													"id": "simulate-control",
													"objectClass": "Car",
													"sid": 656845440818295,
													"disabled": true,
													"behaviorType": "Car",
													"parameters": {
														"control": "brake"
													}
												},
												{
													"id": "set-steer-speed",
													"objectClass": "Car",
													"sid": 738346539846056,
													"disabled": true,
													"behaviorType": "Car",
													"parameters": {
														"steer-speed": "(AngleToNode - Car.Angle > 0 ? Car.Angle - AngleToNode + 180 : AngleToNode - Car.Angle) - 120"
													}
												},
												{
													"id": "simulate-control",
													"objectClass": "Car",
													"sid": 415486785664422,
													"behaviorType": "Car",
													"parameters": {
														"control": "steer-left"
													}
												}
											],
											"sid": 136759620555978
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 728351074284303,
													"parameters": {
														"first-value": "anglediff(Car.Car.MovingAngle, AngleToNode)",
														"comparison": 4,
														"second-value": "45"
													}
												},
												{
													"id": "compare-speed",
													"objectClass": "Car",
													"sid": 109036774628758,
													"behaviorType": "Car",
													"parameters": {
														"comparison": 4,
														"speed": "Car.Car.MaxSpeed * 0.20"
													}
												}
											],
											"actions": [
												{
													"id": "simulate-control",
													"objectClass": "Car",
													"sid": 659572144957202,
													"behaviorType": "Car",
													"parameters": {
														"control": "brake"
													}
												}
											],
											"sid": 707797951146318
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 859153722697319
												},
												{
													"id": "compare-speed",
													"objectClass": "Car",
													"sid": 430518359518012,
													"behaviorType": "Car",
													"parameters": {
														"comparison": 3,
														"speed": "Car.Car.MaxSpeed * 0.20"
													}
												}
											],
											"actions": [
												{
													"id": "simulate-control",
													"objectClass": "Car",
													"sid": 238887305370532,
													"behaviorType": "Car",
													"parameters": {
														"control": "accelerate"
													}
												}
											],
											"sid": 683455346316489
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 763533061030673
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "Car",
											"sid": 197598579704876,
											"behaviorType": "Car",
											"parameters": {
												"control": "accelerate"
											}
										}
									],
									"sid": 352268406200634
								}
							]
						}
					]
				}
			]
		},
		{
			"functionName": "DrawArray2",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "clear-canvas",
					"objectClass": "DrawingCanvas",
					"sid": 500723167677028,
					"parameters": {
						"color": "rgba(0, 0, 0, 0)"
					}
				},
				{
					"id": "line",
					"objectClass": "DrawingCanvas",
					"sid": 572481107529728,
					"disabled": true,
					"parameters": {
						"x1": "ddraw.At(6, 0)",
						"y1": "ddraw.At(6, 1)",
						"x2": "ddraw.At(7, 0)",
						"y2": "ddraw.At(7, 1)",
						"color": "rgba(0, 0, 255, 50)",
						"line-thickness": "5",
						"line-cap": "square"
					}
				}
			],
			"sid": 588884493531105,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 432643923045536,
							"parameters": {
								"name": "\"rays\"",
								"start-index": "0",
								"end-index": "Car.Count - 1"
							}
						}
					],
					"actions": [
						{
							"id": "line",
							"objectClass": "DrawingCanvas",
							"sid": 901713606086130,
							"parameters": {
								"x1": "ddraw.At(10 + loopindex(\"rays\") * 4, 0)",
								"y1": "ddraw.At(10 + loopindex(\"rays\") * 4, 1)",
								"x2": "ddraw.At(11 + loopindex(\"rays\") * 4, 0)",
								"y2": "ddraw.At(11 + loopindex(\"rays\") * 4, 1)",
								"color": "rgba(255, 0, 0, 50)",
								"line-thickness": "5",
								"line-cap": "square"
							}
						},
						{
							"id": "line",
							"objectClass": "DrawingCanvas",
							"sid": 972791646265309,
							"parameters": {
								"x1": "ddraw.At(12 + loopindex(\"rays\") * 4, 0)",
								"y1": "ddraw.At(12 + loopindex(\"rays\") * 4, 1)",
								"x2": "ddraw.At(13 + loopindex(\"rays\") * 4, 0)",
								"y2": "ddraw.At(13 + loopindex(\"rays\") * 4, 1)",
								"color": "rgba(255, 0, 0, 50)",
								"line-thickness": "5",
								"line-cap": "square"
							}
						}
					],
					"sid": 957041344046809
				}
			]
		}
	],
	"sid": 626421713222650
}